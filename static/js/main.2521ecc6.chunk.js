(this.webpackJsonpestimation=this.webpackJsonpestimation||[]).push([[0],{27:function(e,t,i){},28:function(e,t,i){},47:function(e,t,i){"use strict";i.r(t);var n=i(0),a=i(1),r=i.n(a),s=i(20),o=i.n(s),c=(i(27),i(2)),h=i(4),l=i(3),d=i(6),u=i(5),p=i(48),m=i(49),v=i(50),f=(i(28),function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).canvasRef=void 0,n.width=300,n.height=300,n.state={remUpdates:1},n.canvasRef=r.a.createRef(),n.update=n.update.bind(Object(l.a)(n)),n}return Object(h.a)(i,[{key:"render",value:function(){var e,t;this.width=(null===(e=document.getElementById("centerview"))||void 0===e?void 0:e.clientWidth)||300,this.height=.45*this.width;var i=null===(t=this.canvasRef.current)||void 0===t?void 0:t.getContext("2d"),a=this.width/2,r=this.props.angle<Math.PI?.9*this.height:.2*this.height;if(i){i.fillStyle="#222831",i.fillRect(0,0,this.width,this.height),i.strokeStyle="#eeeeee",i.lineWidth=this.width/150,i.beginPath();var s=.35*this.width,o=.2*s;i.moveTo(a,r),i.lineTo(a+s,r),i.moveTo(a,r);var c=s*Math.cos(this.props.angle),h=s*Math.sin(this.props.angle);i.lineTo(a+c,r-h),i.moveTo(a,r),i.arc(a,r,o,-this.props.angle,0),i.stroke()}return this.update(),Object(n.jsx)("canvas",{width:this.width,height:this.height,ref:this.canvasRef})}},{key:"update",value:function(){this.state.remUpdates<=0||(this.setState((function(e){return{remUpdates:e.remUpdates-1}})),setTimeout(this.update,16.67))}}]),i}(r.a.Component)),g=i(17),b=i(29),j=i(31).polygon;function y(e,t){return e+Math.random()*(t-e)}function O(e,t,i){var n=j.centroid(e),a=t-n[0],r=i-n[1];return e.map((function(e){return[e[0]+a,e[1]+r]}))}var x=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).canvasRef=void 0,n.width=300,n.height=300,n.state={remUpdates:1},n.canvasRef=r.a.createRef(),n.update=n.update.bind(Object(l.a)(n)),n.drawCircle=n.drawCircle.bind(Object(l.a)(n)),n.drawPoly=n.drawPoly.bind(Object(l.a)(n)),n}return Object(h.a)(i,[{key:"render",value:function(){var e,t,i=this.props,a=i.ratio,r=i.shape;this.width=(null===(e=document.getElementById("centerview"))||void 0===e?void 0:e.clientWidth)||300,this.height=.45*this.width;var s=null===(t=this.canvasRef.current)||void 0===t?void 0:t.getContext("2d");return s&&(s.fillStyle="#222831",s.fillRect(0,0,this.width,this.height),s.lineWidth=this.width/200,"circle"===r?this.drawCircle(s,a):"polygon"===r&&this.drawPoly(s,a)),this.update(),Object(n.jsx)("canvas",{width:this.width,height:this.height,ref:this.canvasRef})}},{key:"drawCircle",value:function(e,t){var i=.45*this.height,n=i*Math.sqrt(t);if(n>i){var a=i;i=i*i/n,n=a}var r=this.width/4,s=.75*this.width,o=this.height/2;e.beginPath(),e.strokeStyle="#eeeeee",e.arc(r,o,i,0,2*Math.PI),e.stroke(),e.closePath();var c=i/2;c=Math.max(c,20),e.font="".concat(c,"px Roboto Mono"),e.fillStyle="#eeeeee",e.textAlign="center",e.fillText("1",r,o+c/3+(c>2*i?3*i:0)),e.beginPath(),e.strokeStyle="#ffc107",e.arc(s,o,n,0,2*Math.PI),e.stroke(),e.closePath(),c=n/2,c=Math.max(c,20),e.font="".concat(c,"px Roboto Mono"),e.fillStyle="#ffc107",e.textAlign="center",e.fillText("?",s,o+c/3+(c>2*n?3*n:0))}},{key:"drawPoly",value:function(e,t){var i=this.width/2,n=this.height,a=function(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=[],a=0;a<i;a++)n.push([y(0,e),y(0,t)]);return n=b(n)}(i,n),r=j.area(a),s=Math.sqrt(r/(t*Math.PI));if(2*s>n){var o=n/(2*s)*.95;s=.95*n/2,a=function(e,t){return e.map((function(e){return e.map((function(e){return e*t}))}))}(a,o)}if(t<1)a=O(a,1.5*i,n/2);else{var c=j.centroid(a),h=Object(g.a)(c,2);a=O(a,h[0]+i,h[1])}r=j.area(a);var l=i/2,d=n/2;e.beginPath(),e.strokeStyle="#eeeeee",e.arc(l,d,s,0,2*Math.PI),e.stroke(),e.closePath();var u=s/2;u=Math.max(u,20),e.font="".concat(u,"px Roboto Mono"),e.fillStyle="#eeeeee",e.textAlign="center",e.fillText("1",l,d+u/3+(u>2*s?3*s:0)),e.beginPath(),e.strokeStyle="#ffc107",e.moveTo(a[0][0],a[0][1]);for(var p=1;p<a.length;p++)e.lineTo(a[p][0],a[p][1]);e.lineTo(a[0][0],a[0][1]),e.closePath(),e.stroke(),u=20;var m=j.centroid(a),v=Object(g.a)(m,2),f=v[0],x=v[1];e.font="".concat(u,"px Roboto Mono"),e.fillStyle="#ffc107",e.textAlign="center",e.fillText("?",f,x+u/3)}},{key:"update",value:function(){this.state.remUpdates<=0||(this.setState((function(e){return{remUpdates:e.remUpdates-1}})),setTimeout(this.update,16.67))}}]),i}(r.a.Component);function w(e,t){return e+Math.floor(Math.random()*(t-e+.99999))}var S=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).canvasRef=void 0,n.width=300,n.height=300,n.state={remUpdates:1},n.canvasRef=r.a.createRef(),n.update=n.update.bind(Object(l.a)(n)),n}return Object(h.a)(i,[{key:"render",value:function(){var e,t,i=this.props.num,a=i<100?50:80,r=i<100?20:32;this.width=this.props.width||(null===(e=document.getElementById("centerview"))||void 0===e?void 0:e.clientWidth)||300,this.height=.4*this.width;var s=null===(t=this.canvasRef.current)||void 0===t?void 0:t.getContext("2d");if(s){s.fillStyle="#222831",s.fillRect(0,0,this.width,this.height),s.fillStyle="#eeeeee";for(var o=new Array(r).fill(!1).map((function(){return new Array(a).fill(!1)})),c=0,h="square"===this.props.shape?this.drawSquare:this.drawCircle;c<this.props.num;){var l=w(0,r-1),d=w(0,a-1);o[l][d]||(o[l][d]=!0,h(s,a,r,l,d,this.width,this.height),c++)}}return this.update(),Object(n.jsx)("canvas",{width:this.width,height:this.height,ref:this.canvasRef})}},{key:"update",value:function(){this.state.remUpdates<=0||(this.setState((function(e){return{remUpdates:e.remUpdates-1}})),setTimeout(this.update,16.67))}},{key:"drawCircle",value:function(e,t,i,n,a,r,s){var o=r/(t+1),c=a*o,h=n*o;c+=o/2,h+=o/2,e.beginPath(),e.arc(c,h,o/2*.9,0,2*Math.PI),e.fill(),e.closePath()}},{key:"drawSquare",value:function(e,t,i,n,a,r){var s=a/(t+1),o=n*s,c=i*s;o+=s*(t-i-1)/t,c+=s*n/t,o+=s/2,c+=s/2,e.beginPath(),e.fillRect(o,c,s,s),e.closePath()}}]),i}(r.a.Component);function k(e,t){return e+Math.random()*(t-e)}function R(e,t,i,n){return Math.sqrt(Math.pow(e-i,2)+Math.pow(t-n,2))}var P=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).canvasRef=void 0,n.width=300,n.height=300,n.state={remUpdates:1},n.canvasRef=r.a.createRef(),n.update=n.update.bind(Object(l.a)(n)),n.parallel=n.parallel.bind(Object(l.a)(n)),n.path=n.path.bind(Object(l.a)(n)),n.singleLines=n.singleLines.bind(Object(l.a)(n)),n}return Object(h.a)(i,[{key:"render",value:function(){var e,t,i=this.props,a=i.ratio,r=i.shape;this.width=(null===(e=document.getElementById("centerview"))||void 0===e?void 0:e.clientWidth)||300,this.height=.45*this.width;var s=null===(t=this.canvasRef.current)||void 0===t?void 0:t.getContext("2d");return s&&(s.fillStyle="#222831",s.fillRect(0,0,this.width,this.height),s.lineWidth=this.width/200,"parallel"===r?this.parallel(s,a):"singlelines"===r?this.singleLines(s,a):"path"===r&&this.path(s,a)),this.update(),Object(n.jsx)("canvas",{width:this.width,height:this.height,ref:this.canvasRef})}},{key:"parallel",value:function(e,t){var i=this.height/2,n=.9*this.width,a=n*t;if(t>1){var r=n;n/=t,a=r}this.poltLines(e,[0,.8*i,n,.8*i],[0,1.2*i,a,1.2*i])}},{key:"path",value:function(e,t){var i=0;e.strokeStyle="#ffc107",e.beginPath();var n=[k(.05*this.width,.95*this.width),k(.05*this.height,.95*this.height)],a=n[0],r=n[1];for(e.moveTo(a,r);i/t<this.width/8;){var s=[k(.05*this.width,.95*this.width),k(.05*this.height,.95*this.height)],o=s[0],c=s[1];e.lineTo(o,c),i+=R(a,r,o,c),a=o,r=c}e.stroke(),e.closePath();var h=i/t;e.strokeStyle="#eeeeee",e.beginPath(),e.moveTo(.05*this.width,.05*this.width),e.lineTo(.05*this.width+h,.05*this.width),e.stroke(),e.closePath();e.font="".concat(20,"px Roboto Mono"),e.fillStyle="#eeeeee",e.textAlign="center",e.fillText("1",.05*this.width+h+10,.05*this.width+20/3)}},{key:"singleLines",value:function(e,t){var i=t>1;t>1&&(t=1/t);for(var n=0,a=[],r=[];n<this.width/2;){var s=[k(.05*this.width,.95*this.width),k(.05*this.height,.95*this.height)],o=s[0],c=s[1],h=[k(.05*this.width,.95*this.width),k(.05*this.height,.95*this.height)],l=h[0],d=h[1];n=R(o,c,l,d),a=[o,c,l,d]}if(a[2]<a[0]){var u=[a[0],a[1],a[2],a[3]];a[2]=u[0],a[3]=u[1],a[0]=u[2],a[1]=u[3]}for(var p=n*t,m=0;m<p;){var v=[k(.05*this.width,.95*this.width),k(.05*this.height,.95*this.height)],f=v[0],g=v[1],b=[k(.05*this.width,.95*this.width),k(.05*this.height,.95*this.height)],j=b[0],y=b[1];m=R(f,g,j,y),r=[f,g,j,y]}if(r[2]<r[0]){var O=[r[0],r[1],r[2],r[3]];r[2]=O[0],r[3]=O[1],r[0]=O[2],r[1]=O[3]}var x=p/m;if(r[2]=r[0]+(r[2]-r[0])*x,r[3]=r[1]+(r[3]-r[1])*x,i){var w=[r,a];a=w[0],r=w[1]}}},{key:"poltLines",value:function(e,t,i){e.font="".concat(20,"px Roboto Mono"),e.textAlign="center",e.strokeStyle="#eeeeee",e.fillStyle="#eeeeee",e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(t[2],t[3]),e.stroke(),e.closePath(),e.fillText("1",t[2]+10,t[3]+20/3),e.strokeStyle="#ffc107",e.fillStyle="#ffc107",e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.stroke(),e.closePath(),e.fillText("?",i[2]+10,i[3]+20/3)}},{key:"update",value:function(){this.state.remUpdates<=0||(this.setState((function(e){return{remUpdates:e.remUpdates-1}})),setTimeout(this.update,16.67))}}]),i}(r.a.Component),T=i(10),M=i(21),N=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(){return Object(c.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){var e={fontSize:45,textAlign:"center",minHeight:100};return Object(n.jsx)(M.Textfit,{max:e.fontSize,mode:"single",style:Object(T.a)(Object(T.a)({},e),{},{fontFamily:"Roboto Mono"}),children:this.props.text})}}]),i}(r.a.Component);function C(e,t){return e<t?e/t:t/e}var A=function e(t,i){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(c.a)(this,e),this.view=void 0,this.answer=void 0,this.timelimit=void 0,this.id=void 0,this.scorer=void 0,this.view=t,this.answer=i,this.id=Math.random(),this.scorer=function(e){return a(e,n.answer)},this.timelimit=r};function I(e,t){return e+Math.floor(Math.random()*(t-e+.99999))}function E(e,t){return e*Math.pow(2,(n=t,(i=-t)+Math.random()*(n-i)));var i,n}function U(e){for(var t=e.numOperands,i=e.rangeCenter,a=e.rangeVariance,r=e.operandVariance,s=e.timeLimit,o=I(t.low,t.high),c=E(i,a),h=[],l=0;l<o;l++){var d=E(Math.pow(c,1/(o-l)),r);h.push(Math.round(d)),c/=d}h.sort((function(e,t){return e-t})),c=h.reduce((function(e,t){return e*t}));var u="";return h.forEach((function(e){u+="".concat(e," \xd7 ")})),u=u.slice(0,-3),new A(Object(n.jsx)(N,{text:u}),c,(function(e,t){var i=e<t?e/t:t/e;return Math.round(100*i)}),s)}var L,G=i(52),F=i(53);!function(e){e[e.PREGAME=0]="PREGAME",e[e.INTRO=1]="INTRO",e[e.RUNNING=2]="RUNNING",e[e.PAUSED=3]="PAUSED",e[e.OUTRO=4]="OUTRO",e[e.POSTGAME=5]="POSTGAME"}(L||(L={}));var H,B={numOperands:{low:2,high:2},rangeCenter:2e4,rangeVariance:2,operandVariance:2,timeLimit:0},Q=function e(){Object(c.a)(this,e),this.generator=U,this.questionArray=[],this.currentQuestion=void 0,this.category="Multiplication (Easy)",this.numQuestions=5,this.currentIndex=0,this.recentScore=0,this.totalScore=0,this.recentGuess=0,this.recentAnswer=0,this.progressState=L.PREGAME,this.generatorconfig=B,this.totalTime=0};function D(e){e.currentIndex=0,e.recentAnswer=e.recentGuess=e.recentScore=e.totalScore=0,e.questionArray=[];for(var t=0;t<e.numQuestions;t++)e.questionArray.push(e.generator(e.generatorconfig));return e.currentQuestion=e.questionArray[0],e.totalTime=e.currentQuestion.timelimit,e}!function(e){e[e.BUTTON=0]="BUTTON",e[e.ANSWER=1]="ANSWER",e[e.ANIM=2]="ANIM"}(H||(H={}));var q=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).inputField=void 0,n.canvasRef=void 0,n.timerInterval=void 0,n.questionId=0,n.timeLimit=0,n.startTime=0,n.handleKeyDown=function(e){if("Enter"===e.key&&n.props.gameState.progressState===L.RUNNING){var t;try{t=parseFloat(n.state.text)}catch(i){return}if(isNaN(t))return;n.props.inputHandler({type:H.ANSWER,payload:t}),n.setState({text:""}),n.props.gameState.currentIndex,n.props.gameState.numQuestions}else"Enter"===e.key&&n.props.gameState.progressState===L.POSTGAME&&n.props.inputHandler({type:H.BUTTON,payload:"replay"})},n.state={text:""},n.inputField=r.a.createRef(),n.canvasRef=r.a.createRef(),n.drawArc=n.drawArc.bind(Object(l.a)(n)),n.handleChange=n.handleChange.bind(Object(l.a)(n)),n}return Object(h.a)(i,[{key:"drawArc",value:function(e){if(null!==this.canvasRef.current){var t=this.canvasRef.current,i=this.canvasRef.current.getContext("2d");i.strokeStyle=e<.75?"green":"red",i.fillStyle=this.props.theme.background,i.fillRect(0,0,48,48),i.lineWidth=3,i.translate(-.5,-.5);var n=t.width/2,a=t.height/2;i.beginPath(),i.arc(n,a,16,2*Math.PI*e-Math.PI/2,-Math.PI/2),i.stroke(),i.translate(.5,.5)}}},{key:"componentDidMount",value:function(){var e;this.handleChange=this.handleChange.bind(this),null===(e=this.inputField.current)||void 0===e||e.focus()}},{key:"render",value:function(){var e=this,t={background:this.props.theme.background,color:this.props.theme.textColor},i=this.props.gameState.progressState,a=this.props.gameState.currentQuestion;void 0!==a&&a.id!==this.questionId&&(this.timerInterval&&clearInterval(this.timerInterval),this.questionId=a.id,this.timeLimit=a.timelimit,this.startTime=Date.now(),0!==this.timeLimit&&(this.timerInterval=setInterval((function(){e.props.gameState.progressState===L.PAUSED&&(e.startTime+=16.67);var t=(Date.now()-e.startTime)/e.timeLimit;t<1?e.drawArc(t):(e.timerInterval&&clearInterval(e.timerInterval),e.props.inputHandler({type:H.ANSWER,payload:e.toValidAnswer(e.state.text)}),e.setState({text:""}))}),16.67)),this.forceUpdate());var r=(null===a||void 0===a?void 0:a.timelimit)||0,s=this.props.gameState,o="";return i===L.RUNNING?o="Enter Answer":i===L.PAUSED&&(o="Game Paused"),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(n.jsx)(G.a,{size:"lg",style:t,children:Object(n.jsx)(F.a,{onKeyDown:this.handleKeyDown,style:t,value:this.state.text,onChange:this.handleChange,placeholder:o,ref:this.inputField,autoComplete:"chrome-off"})}),0!==r&&s.progressState===L.RUNNING&&Object(n.jsx)("canvas",{ref:this.canvasRef,width:48,height:48})]})}},{key:"toValidAnswer",value:function(e){var t;try{t=parseFloat(e)}catch(i){return 1}return isNaN(t)?1:t}},{key:"handleChange",value:function(e){if(this.props.gameState.progressState===L.RUNNING){var t=e.target.value,i=t.slice(-1);(0===t.length||i>="0"&&i<="9"||"e"===i||"-"===i||"+"===i||"."===i)&&this.setState({text:t})}}}]),i}(r.a.Component),W={fontSize:45,textAlign:"center",minHeight:100},z={fontSize:30,textAlign:"center",minHeight:100,padding:15},V=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(){return Object(c.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){var e,t=this.props.gameState.progressState;return t===L.PAUSED?Object(n.jsx)("div",{style:Object(T.a)(Object(T.a)({},W),{},{fontFamily:this.props.theme.questionFont}),children:"---Paused---"}):t===L.POSTGAME?Object(n.jsx)("div",{style:Object(T.a)(Object(T.a)({},z),{},{fontFamily:this.props.theme.questionFont}),children:"Final Score: ".concat(this.props.gameState.totalScore)}):this.props.question?null===(e=this.props.question)||void 0===e?void 0:e.view:Object(n.jsx)(N,{text:"---"})}}]),i}(r.a.Component),K=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(){return Object(c.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){var e=this.props,t=e.recentGuess,i=e.recentAnswer,a="",r=Math.abs(Math.log10(i)-Math.log10(t));r=Math.pow(10,r),isNaN(r)&&(r=1),r<1.5?a="Error: ".concat((r=100*(r-1)).toFixed(2)," %"):(r=Math.log10(r),a="Error (log\u2081\u2080): ".concat(r.toFixed(2)));var s=window.innerWidth<576?{}:{float:"right"};return Object(n.jsx)("div",{children:Object(n.jsx)(p.a,{children:Object(n.jsxs)(m.a,{children:[Object(n.jsxs)(v.a,{xs:12,sm:4,children:[Object(n.jsx)("span",{children:"Score: ".concat(this.props.totalScore," ")}),Object(n.jsx)("span",{children:"(+".concat(this.props.recentScore,")")})]}),Object(n.jsx)(v.a,{xs:12,sm:8,children:Object(n.jsxs)("div",{style:s,children:[Object(n.jsx)("div",{children:"Guess: ".concat(X(t),", Answer: ").concat(X(i))}),Object(n.jsx)("div",{children:a})]})})]})})})}}]),i}(r.a.Component),J="\u2070\xb9\xb2\xb3\u2074\u2075\u2076\u2077\u2078\u2079\u207b";function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e6,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.001;if(0!==e&&(e<i||e>t)){for(var n=Math.floor(Math.log10(e)),a=e/Math.pow(10,n),r=n.toString(),s="",o=0;o<r.length;o++)"-"===r[o]?s+=J[10]:s+=J[parseInt(r[o])];return"".concat(a.toFixed(3),"\xd710").concat(s)}for(var c=e.toString(),h=c.length-1,l=0;h>=0&&"."!=c[h];)h--,l++;return h>=0&&l>6&&(c=e.toFixed(6)),c.length>8&&(c=c.substring(0,8)),c}var Y=K,Z=i(54),$=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(){return Object(c.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){var e=this.props,t=e.theme,i=e.gameState,a=e.inputHandler,r={fontFamily:t.headerFont,fontSize:"24px",marginTop:"12px"},s=this.props.width<450;s&&(r.fontSize="18px");var o="(".concat(i.currentIndex+1,"/").concat(i.numQuestions,")"),c=Object(n.jsx)(Z.a,{size:s?"sm":void 0,variant:"success",style:{float:"right",fontFamily:t.bodyFont},onClick:function(){a({type:H.BUTTON,payload:"start"})},children:"Start\u21b5"}),h=Object(n.jsx)(Z.a,{size:s?"sm":void 0,variant:"success",style:{float:"right",fontFamily:t.bodyFont},onClick:function(){a({type:H.BUTTON,payload:"replay"})},children:"Replay\u21b5"});return Object(n.jsxs)("div",{style:r,children:[Object(n.jsx)("span",{children:i.category}),i.progressState===L.PREGAME?c:i.progressState===L.POSTGAME?h:Object(n.jsx)("span",{style:{float:"right"},children:o}),Object(n.jsx)("hr",{style:{borderColor:t.textColor}})]})}}]),i}(r.a.Component),_={marginRight:4},ee=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).pauseEvent=n.pauseEvent.bind(Object(l.a)(n)),n.resetEvent=n.resetEvent.bind(Object(l.a)(n)),n}return Object(h.a)(i,[{key:"render",value:function(){var e=this.props.gameState.progressState,t=e===L.PAUSED,i=[Object(n.jsxs)(Z.a,{variant:"primary",style:_,onClick:this.pauseEvent,children:[Object(n.jsx)("u",{children:"P"}),t?"lay":"ause"]},1),Object(n.jsxs)(Z.a,{variant:"warning",style:_,onClick:this.resetEvent,children:[Object(n.jsx)("u",{children:"R"}),"eset"]},2)];return Object(n.jsx)("div",{children:e===L.POSTGAME?[]:i})}},{key:"pauseEvent",value:function(){this.props.inputHandler({type:H.BUTTON,payload:"playpause"})}},{key:"resetEvent",value:function(){this.props.inputHandler({type:H.BUTTON,payload:"reset"})}}]),i}(r.a.Component),te=0;var ie=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).prevTimestamp=0,n.state={gameState:new Q},n.handleInput=n.handleInput.bind(Object(l.a)(n)),n}return Object(h.a)(i,[{key:"componentDidMount",value:function(){this.handleInput=this.handleInput.bind(this),this.keyCapture=this.keyCapture.bind(this),document.body.addEventListener("keydown",this.keyCapture)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("keydown",this.keyCapture)}},{key:"render",value:function(){var e=this.state.gameState;return Object(n.jsxs)("div",{id:"centerview",children:[Object(n.jsx)($,{theme:this.props.theme,gameState:e,inputHandler:this.handleInput,width:this.props.width}),Object(n.jsx)(V,{question:e.currentQuestion,theme:this.props.theme,gameState:e}),Object(n.jsx)(q,{inputHandler:this.handleInput,theme:this.props.theme,gameState:e}),Object(n.jsx)(Y,{recentScore:e.recentScore,totalScore:e.totalScore,recentGuess:e.recentGuess,recentAnswer:e.recentAnswer}),Object(n.jsx)(ee,{inputHandler:this.handleInput,gameState:e})]})}},{key:"parentUpdate",value:function(e){this.setState({gameState:e})}},{key:"handleInput",value:function(e){var t=function(e,t,i){var n=e;if(e.progressState===L.PREGAME)t.type===H.BUTTON&&"start"===t.payload&&((n=D(e)).progressState=L.RUNNING);else if(e.progressState===L.RUNNING){if(t.type===H.BUTTON)"reset"===t.payload?(n=D(e)).progressState=L.RUNNING:"playpause"===t.payload&&(n.progressState=L.PAUSED);else if(t.type===H.ANSWER){var a,r,s=null===(a=e.currentQuestion)||void 0===a?void 0:a.scorer(t.payload);n.totalScore+=s||0,n.recentGuess=t.payload,n.recentAnswer=(null===(r=e.currentQuestion)||void 0===r?void 0:r.answer)||-1,n.recentScore=s||0,n.currentIndex++,n.currentIndex<n.numQuestions?(n.currentQuestion=n.questionArray[n.currentIndex],n.totalTime=n.currentQuestion.timelimit):n.progressState=L.POSTGAME}}else e.progressState===L.PAUSED?t.type===H.BUTTON&&"playpause"===t.payload?n.progressState=L.RUNNING:"reset"===t.payload&&((n=D(e)).progressState=L.RUNNING):e.progressState===L.POSTGAME&&t.type===H.BUTTON&&"replay"===t.payload&&((n=D(e)).progressState=L.RUNNING);return n}(this.state.gameState,e,this.handleInput);this.setState({gameState:t})}},{key:"keyCapture",value:function(e){var t=function(e,t){if(!(e.timeStamp-te<.1)){te=e.timeStamp;var i={type:H.BUTTON,payload:""};if("KeyR"===e.code)return i.payload="reset",i;if("KeyP"===e.code)return i.payload="playpause",i;if("Enter"===e.code){if(t.progressState===L.PREGAME)return i.payload="start",i;if(t.progressState===L.RUNNING)return}}}(e,this.state.gameState);void 0!==t&&this.handleInput(t)}}]),i}(r.a.Component),ne=i(14),ae=i(51),re=[{category:"Multiplication",numQuestions:5,generator:U,levels:[{name:"Easy",config:{numOperands:{low:2,high:2},rangeCenter:2e4,rangeVariance:2,operandVariance:2,timeLimit:0}},{name:"Medium",config:{numOperands:{low:3,high:3},rangeCenter:1e5,rangeVariance:2,operandVariance:2,timeLimit:0}},{name:"Hard",config:{numOperands:{low:4,high:4},rangeCenter:1e6,rangeVariance:2,operandVariance:2,timeLimit:0}}],times:[0,1e4,3e4]},{category:"Percentages",numQuestions:5,generator:function(e){for(var t=e.numOperands,i=e.operandRange,a=e.timeLimit,r=e.round,s=I(t.low,t.high),o=[],c=1,h=0;h<s;h++)o.push(I(i.low,i.high)),o[h]-=o[h]%r,c*=o[h]/100;var l="";return o.forEach((function(e){l+="".concat(e,"% \xd7 ")})),l=l.slice(0,-3),new A(Object(n.jsx)(N,{text:l}),c,(function(e,t){var i=e<t?e/t:t/e;return Math.round(100*i)}),a)},levels:[{name:"Easy",config:{numOperands:{low:2,high:3},operandRange:{low:10,high:99},timeLimit:0,round:5}},{name:"Hard",config:{numOperands:{low:4,high:4},operandRange:{low:10,high:99},timeLimit:0,round:1}}],times:[0,1e4,3e4]},{category:"Angles",numQuestions:5,generator:function(e){var t=e.minDeg,i=e.maxDeg,a=e.timeLimit,r=I(t,i),s=r*Math.PI/180;return new A(Object(n.jsx)(f,{angle:s}),r,(function(e,t){var i=1-.05*Math.abs(e-t);return i<0&&(i=0),Math.round(100*i)}),a)},levels:[{name:"Acute Only",config:{minDeg:1,maxDeg:89,timeLimit:0}},{name:"Any",config:{minDeg:1,maxDeg:359,timeLimit:0}}],times:[0,7e3,2e4]},{category:"Counting (Static)",numQuestions:5,generator:function(e){var t=e.min,i=e.max,a=e.timeLimit,r=I(t,i);return new A(Object(n.jsx)(S,{num:r,shape:"circle"}),r,(function(e,t){if(e===t)return 100;var i=e<t?e/t:t/e;return Math.round(90*i)}),a)},levels:[{name:"20 - 50",config:{min:20,max:50,timeLimit:0}},{name:"50 - 100",config:{min:50,max:100,timeLimit:0}},{name:"100 - 500",config:{min:100,max:500,timeLimit:0}}],times:[0,7e3,2e4]},{category:"Length",numQuestions:5,generator:function(e){var t=e.center,i=e.variance,a=e.shape,r=e.timeLimit,s=E(t,i);return new A(Object(n.jsx)(P,{ratio:s,shape:a}),s,(function(e,t){var i=e<t?e/t:t/e;return Math.round(100*i)}),r)},levels:[{name:"Parallel Lines",config:{center:3,variance:3,shape:"parallel",timeLimit:0}},{name:"Lines",config:{center:3,variance:3,shape:"singlelines",timeLimit:0}},{name:"Paths",config:{center:16,variance:1,shape:"path",timeLimit:0}}],times:[0,7e3,2e4]},{category:"Area",numQuestions:5,generator:function(e){var t=e.center,i=e.variance,a=e.shape,r=e.timeLimit,s=E(t,i);return new A(Object(n.jsx)(x,{ratio:s,shape:a}),s,(function(e,t){var i=e<t?e/t:t/e;return i=Math.sqrt(i),Math.round(100*i)}),r)},levels:[{name:"Circles",config:{center:3,variance:5,shape:"circle",timeLimit:0}},{name:"Polygons",config:{center:3,variance:4,shape:"polygon",timeLimit:0}}],times:[0,7e3,2e4]}],se=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).state={outer:"Multiplication",level:"Easy",timeLimit:0},n.changeOuter=n.changeOuter.bind(Object(l.a)(n)),n.changeTimeLimit=n.changeTimeLimit.bind(Object(l.a)(n)),n.changeLevel=n.changeLevel.bind(Object(l.a)(n)),n.updateParent=n.updateParent.bind(Object(l.a)(n)),n.handleUpdate=n.handleUpdate.bind(Object(l.a)(n)),n}return Object(h.a)(i,[{key:"render",value:function(){var e,t=this;if(!this.props.visible)return Object(n.jsx)("div",{});var i={height:"100%",width:"300px",position:"fixed",zIndex:1e4,top:0,right:0,overflowX:"hidden",backgroundColor:this.props.theme.primary,borderLeft:"3px solid ".concat(this.props.theme.textColor)};i.marginTop=null===(e=document.getElementById("header"))||void 0===e?void 0:e.clientHeight;var a={fontFamily:this.props.theme.headerFont,fontSize:"20px",margin:"3px"},r=re[0],s=re.map((function(e,i){var a=e.category===t.state.outer;return a&&(r=e),Object(n.jsx)(Z.a,{style:{margin:"2px"},variant:a?"warning":"primary",onClick:function(){return t.changeOuter(e.category)},children:e.category},i)})),o=r.times.map((function(e,i){var a=e===t.state.timeLimit,r=e>0?(e/1e3).toFixed(0)+" s":"Unlimited";return Object(n.jsx)(Z.a,{style:{margin:"2px"},variant:a?"warning":"primary",onClick:function(){return t.changeTimeLimit(e)},children:r},i)})),c=r.levels.map((function(e,i){var a=e.name===t.state.level;return Object(n.jsx)(Z.a,{style:{margin:"2px"},variant:a?"warning":"primary",onClick:function(){return t.changeLevel(e.name)},children:e.name},i)}));return Object(n.jsxs)("div",{style:i,children:[Object(n.jsx)("div",{style:Object(T.a)(Object(T.a)({},a),{},{fontSize:"24px"}),children:"Gamemode Settings"}),Object(n.jsx)("div",{style:a,children:"Time Limit"}),o,Object(n.jsx)("div",{style:a,children:"Difficulty"}),c,Object(n.jsx)("div",{style:a,children:"Category"}),Object(n.jsx)(ae.a,{vertical:!0,children:s})]})}},{key:"changeOuter",value:function(e){if(this.state.outer!==e){for(var t={},i=0;i<re.length;i++)re[i].category===e&&(t=re[i]);var n=t.times[0],a=t.levels[0].name;this.setState({outer:e,timeLimit:n,level:a},this.updateParent)}}},{key:"changeTimeLimit",value:function(e){this.state.timeLimit!==e&&this.setState({timeLimit:e},this.updateParent)}},{key:"changeLevel",value:function(e){this.state.level!==e&&this.setState({level:e},this.updateParent)}},{key:"updateParent",value:function(){for(var e={},t=0;t<re.length;t++)re[t].category===this.state.outer&&(e=re[t]);var i,n="".concat(this.state.outer," (").concat(this.state.level,")"),a=e.numQuestions,r=e.generator,s={},o=Object(ne.a)(e.levels);try{for(o.s();!(i=o.n()).done;){var c=i.value;c.name===this.state.level&&(s=c.config)}}catch(h){o.e(h)}finally{o.f()}s.timeLimit=this.state.timeLimit,this.props.updateHandler(n,a,r,s)}},{key:"handleUpdate",value:function(e){for(var t={},i=0;i<re.length;i++)"".concat(re[i].category," (").concat(re[i].levels[0].name,")")===e&&(t=re[i]);e=t.category;var n=t.levels[0].name,a=t.times[0];this.setState({outer:e,level:n,timeLimit:a})}}]),i}(r.a.Component),oe=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(){return Object(c.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){var e=this,t={background:this.props.theme.primary,width:"wrap-content",textAlign:"center",fontFamily:this.props.theme.headerFont,fontSize:"30px",color:this.props.theme.textColor},i={height:"100%",margin:"6px"};return this.props.width<400&&(t.fontSize="24px"),Object(n.jsxs)("div",{style:t,id:"header",children:[Object(n.jsx)("span",{style:Object(T.a)(Object(T.a)({},t),{},{display:"inline-block"}),children:"The Estimation Game"}),Object(n.jsx)("i",{className:"fas fa-cog",style:Object(T.a)(Object(T.a)({},i),{},{float:"left"}),onClick:function(){return e.props.sidebarHandler("left")}}),Object(n.jsx)("i",{className:"fas fa-dice",style:Object(T.a)(Object(T.a)({},i),{},{float:"right"}),onClick:function(){return e.props.sidebarHandler("right")}})]})}}]),i}(r.a.Component),ce=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).updateParent=n.updateParent.bind(Object(l.a)(n)),n}return Object(h.a)(i,[{key:"render",value:function(){var e=this,t=this.props,i=t.theme,a=(t.updateHandler,re.map((function(t,i){return Object(n.jsx)(Z.a,{style:{margin:"2px"},variant:"primary",onClick:function(){return e.updateParent(t.category)},children:t.category},i)})));return Object(n.jsxs)("div",{id:"welcomediv",children:[Object(n.jsx)("div",{style:{fontSize:"24px",fontFamily:i.bodyFont,textAlign:"center",padding:"10px"},children:"Quick Play"}),Object(n.jsx)(ae.a,{vertical:!0,style:{width:"100%"},children:a})]})}},{key:"updateParent",value:function(e){for(var t={},i=0;i<re.length;i++)re[i].category===e&&(t=re[i]);var n,a=t.levels[0].name,r="".concat(e," (").concat(a,")"),s=t.numQuestions,o=t.generator,c={},h=Object(ne.a)(t.levels);try{for(h.s();!(n=h.n()).done;){var l=n.value;l.name===a&&(c=l.config)}}catch(d){h.e(d)}finally{h.f()}c.timeLimit=t.times[0],this.props.updateHandler(r,s,o,c,!0)}}]),i}(r.a.Component),he={background:"#222831",primary:"#30475e",secondary:"#ffc107",textColor:"#eeeeee",questionFont:"Roboto Mono",headerFont:"Concert One",bodyFont:"Noto Sans"},le={background:he.background,minHeight:"100vh",color:he.textColor,fontFamily:he.bodyFont},de=(Math.PI,function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,e)).centerRef=void 0,n.sidebarRef=void 0,n.state={width:window.innerWidth,height:window.innerHeight,rightBar:!1,leftBar:!1,welcomePage:!0},window.addEventListener("resize",(function(e){n.setState({height:e.currentTarget.innerHeight,width:e.currentTarget.innerWidth})})),n.sidebarHandler=n.sidebarHandler.bind(Object(l.a)(n)),n.centerRef=r.a.createRef(),n.sidebarRef=r.a.createRef(),n.updateGamemode=n.updateGamemode.bind(Object(l.a)(n)),n}return Object(h.a)(i,[{key:"render",value:function(){return Object(n.jsxs)("div",{style:le,children:[Object(n.jsx)(oe,{theme:he,sidebarHandler:this.sidebarHandler,width:this.state.width}),this.state.welcomePage&&Object(n.jsx)("div",{style:{right:5,position:"fixed"},children:" View all modes \u2191 "}),this.state.welcomePage&&Object(n.jsx)("div",{style:{left:5,position:"fixed"},children:" \u2191 Settings "}),this.state.welcomePage&&Object(n.jsx)("br",{}),Object(n.jsx)(p.a,{children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)(v.a,{lg:2,md:1,xs:0}),Object(n.jsx)(v.a,{lg:8,md:10,xs:12,children:this.state.welcomePage?Object(n.jsx)(ce,{theme:he,updateHandler:this.updateGamemode}):Object(n.jsx)(ie,{theme:he,ref:this.centerRef,width:this.state.width})}),Object(n.jsx)(v.a,{lg:2,md:1,xs:0})]})}),Object(n.jsx)(se,{ref:this.sidebarRef,theme:he,updateHandler:this.updateGamemode,visible:this.state.rightBar})]})}},{key:"sidebarHandler",value:function(e){"right"===e?this.setState((function(e){return{rightBar:!e.rightBar,leftBar:!1}})):"left"===e&&this.setState({leftBar:!0,rightBar:!1})}},{key:"updateGamemode",value:function(e,t,i,n){var a,r=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.state.welcomePage&&this.setState({welcomePage:!1},(function(){var a;s&&(null===(a=r.sidebarRef.current)||void 0===a||a.handleUpdate(e));r.updateGamemode(e,t,i,n)}));var o=new Q;o.category=e,o.numQuestions=t,o.generator=i,o.generatorconfig=n,null===(a=this.centerRef.current)||void 0===a||a.parentUpdate(o)}}]),i}(r.a.Component));o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(de,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.2521ecc6.chunk.js.map