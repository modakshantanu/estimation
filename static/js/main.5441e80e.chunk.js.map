{"version":3,"sources":["questionViews/AngleView.tsx","questionViews/AreaView.tsx","questionViews/CountingMovingView.tsx","questionViews/CountingStaticView.tsx","questionViews/LengthView.tsx","questionViews/TextView.tsx","questionViews/TimeView.tsx","questionViews/VelocityView.tsx","logic/Question.tsx","logic/QGenerators.tsx","logic/GameState.tsx","logic/GameController.tsx","view/InputView.tsx","view/QuestionView.tsx","view/ScoreView.tsx","view/GameInfoView.tsx","view/ButtonRow.tsx","logic/KeyDecoder.tsx","view/CenterView.tsx","logic/GameModes.ts","view/GamemodeSidebar.tsx","view/HeaderView.tsx","view/WelcomePage.tsx","view/SettingsSidebar.tsx","App.tsx","index.tsx"],"names":["AngleView","props","canvasRef","width","height","state","remUpdates","React","createRef","update","bind","this","document","getElementById","clientWidth","ctx","current","getContext","cx","cy","angle","Math","PI","fillStyle","fillRect","strokeStyle","lineWidth","beginPath","radius","innerRad","moveTo","lineTo","x","cos","y","sin","arc","stroke","ref","setState","setTimeout","Component","convexHull","require","pt","polygon","rng","low","high","random","centerPoly","pts","center","centroid","offsetX","offsetY","map","e","AreaView","drawCircle","drawPoly","ratio","shape","r1","r2","sqrt","tmp","x1","x2","closePath","textSize","max","font","textAlign","fillText","segW","segH","poly","limX","limY","numPts","i","push","randomPolygon","area","r","scale","f","scalePoly","length","y2","p","w","h","dx","dy","CountingMovingView","animtaionId","particles","updatePositions","generateParticles","num","cancelAnimationFrame","requestAnimationFrame","fill","rngInt","floor","CountingStaticView","gridW","gridH","filled","Array","cnt","drawFunction","drawSquare","c","cellsize","gridsize","dist","y1","LengthView","parallel","path","singleLines","semiH","l1","l2","poltLines","pathLen","lineLen","swap","len1","len2","TextView","fontStyle","fontSize","minHeight","mode","style","fontFamily","text","VelocityView","p1","p2","color","v1","v2","t1","t2","defaultScorer","guess","actual","Question","view","answer","scorer","timelimit","id","logRng","mid","variance","pow","genMul","config","numOperands","rangeCenter","rangeVariance","operandVariance","timeLimit","numOp","result","operands","nextOperand","round","sort","a","b","reduce","acc","cur","questionString","forEach","element","slice","fraction","ProgressState","InputType","defaultConfig","GameState","generator","questionArray","currentQuestion","category","numQuestions","currentIndex","recentScore","totalScore","recentGuess","recentAnswer","progressState","PREGAME","generatorconfig","totalTime","storageKey","helpText","ls","initialState","InputView","inputField","timerInterval","questionId","startTime","handleKeyDown","key","gameState","RUNNING","parsed","parseFloat","error","isNaN","inputHandler","type","ANSWER","payload","POSTGAME","BUTTON","drawArc","handleChange","canvas","context","theme","background","translate","focus","inputStyle","textColor","curQuestion","undefined","clearInterval","Date","now","setInterval","PAUSED","toValidAnswer","forceUpdate","placeholder","display","flexDirection","InputGroup","size","FormControl","onKeyDown","value","onChange","autoComplete","inputText","target","lastChar","mainFontStyle","altFontStyle","padding","QuestionView","questionFont","question","ScoreView","errorString","relError","abs","log10","toFixed","isTinyScreen","window","innerWidth","errorStyle","float","textStyle","highscores","highscore","Container","Row","Col","xs","sm","format","superscripts","min","exponent","mantissa","temp","toString","exponentStr","parseInt","decimal","substring","GameInfoView","headerFont","marginTop","smallui","progressString","startButton","Button","variant","bodyFont","onClick","replayButton","borderColor","buttonStyle","marginRight","ButtonRow","pauseEvent","resetEvent","paused","runningButtons","prev","CenterView","prevTimestamp","handleInput","keyCapture","body","addEventListener","removeEventListener","input","next","callback","score","scores","nextState","inputEvent","timeStamp","code","decodeInput","modes","levels","name","times","operandRange","P","Q","log2","diff","minDeg","maxDeg","resultRad","GamemodeSidebar","outer","level","changeOuter","changeTimeLimit","changeLevel","updateParent","handleUpdate","visible","sidebarStyle","position","zIndex","top","right","overflowX","backgroundColor","primary","borderLeft","clientHeight","headingStyle","margin","chosenOuter","outerButtons","isSelected","timeButtons","timerText","levelButtons","ButtonGroup","vertical","newCategory","outerObj","newTime","newLevel","newLimit","numQ","l","updateHandler","HeaderView","headerStyle","iconStyle","className","sidebarHandler","WelcomePage","SettingsSidebar","left","borderRight","bodyStyle","handleDelete","confirm","remove","secondary","appStyle","App","centerRef","sidebarRef","innerHeight","rightBar","leftBar","welcomePage","ev","currentTarget","updateGamemode","lg","md","side","fromWelcomePage","parentUpdate","ReactDOM","render","StrictMode"],"mappings":"yQAgFeA,G,wDAhEX,WAAYC,GAAkB,IAAD,8BACzB,cAAMA,IAJVC,eAG6B,IAF7BC,MAAgB,IAEa,EAD7BC,OAAiB,IAGb,EAAKC,MAAQ,CACTC,WAAY,GAEhB,EAAKJ,UAAYK,IAAMC,YACvB,EAAKC,OAAS,EAAKA,OAAOC,KAAZ,gBANW,E,qDAUnB,IAAD,IAGLC,KAAKR,OAAQ,UAAAS,SAASC,eAAe,qBAAxB,eAAuCC,cAAe,IACnEH,KAAKP,OAAsB,IAAbO,KAAKR,MACnB,IAAIY,EAAG,UAAGJ,KAAKT,UAAUc,eAAlB,aAAG,EAAwBC,WAAW,MACzCC,EAAKP,KAAKR,MAAQ,EAClBgB,EAAKR,KAAKV,MAAMmB,MAAQC,KAAKC,GAAmB,GAAdX,KAAKP,OAA6B,GAAdO,KAAKP,OAC/D,GAAIW,EAAK,CAELA,EAAIQ,UAAY,UAChBR,EAAIS,SAAS,EAAE,EAAEb,KAAKR,MAAOQ,KAAKP,QAElCW,EAAIU,YAAc,UAClBV,EAAIW,UAAYf,KAAKR,MAAO,IAC5BY,EAAIY,YACJ,IAAIC,EAAsB,IAAbjB,KAAKR,MACd0B,EAAoB,GAATD,EACfb,EAAIe,OAAOZ,EAAGC,GACdJ,EAAIgB,OAAOb,EAAKU,EAAQT,GACxBJ,EAAIe,OAAOZ,EAAGC,GAEd,IAAIa,EAAIJ,EAASP,KAAKY,IAAItB,KAAKV,MAAMmB,OACjCc,EAAIN,EAASP,KAAKc,IAAIxB,KAAKV,MAAMmB,OAErCL,EAAIgB,OAAOb,EAAKc,EAAIb,EAAKe,GAGzBnB,EAAIe,OAAOZ,EAAGC,GAEdJ,EAAIqB,IAAIlB,EAAGC,EAAIU,GAAWlB,KAAKV,MAAMmB,MAAQ,GAE7CL,EAAIsB,SAOR,OAJA1B,KAAKF,SAIE,wBAAQN,MAASQ,KAAKR,MAAOC,OAAUO,KAAKP,OAAQkC,IAAO3B,KAAKT,c,+BAMnES,KAAKN,MAAMC,YAAc,IAI7BK,KAAK4B,UAAS,SAAClC,GAAD,MAAY,CAACC,WAAYD,EAAMC,WAAa,MAC1DkC,WAAW7B,KAAKF,OAAQ,Y,GAlERF,IAAMkC,Y,QCT1BC,EAAaC,EAAQ,IAErBC,EADeD,EAAQ,IACLE,QAgLtB,SAASC,EAAIC,EAAaC,GACtB,OAAOD,EAAM1B,KAAK4B,UAAYD,EAAOD,GAezC,SAASG,EAAWC,EAAkBnB,EAAWE,GAE7C,IAAIkB,EAASR,EAAGS,SAASF,GACrBG,EAAUtB,EAAIoB,EAAO,GACrBG,EAAUrB,EAAKkB,EAAO,GAE1B,OAAOD,EAAIK,KAAI,SAAAC,GAAC,MAAI,CAACA,EAAE,GAAKH,EAASG,EAAE,GAAKF,MAIjCG,M,kDAzLX,WAAYzD,GAAkB,IAAD,8BACzB,cAAMA,IAJVC,eAG6B,IAF7BC,MAAgB,IAEa,EAD7BC,OAAiB,IAGb,EAAKC,MAAQ,CACTC,WAAY,GAEhB,EAAKJ,UAAYK,IAAMC,YACvB,EAAKC,OAAS,EAAKA,OAAOC,KAAZ,gBACd,EAAKiD,WAAa,EAAKA,WAAWjD,KAAhB,gBAClB,EAAKkD,SAAW,EAAKA,SAASlD,KAAd,gBARS,E,qDAYnB,IAAD,MAEiBC,KAAKV,MAArB4D,EAFD,EAECA,MAAOC,EAFR,EAEQA,MAEbnD,KAAKR,OAAQ,UAAAS,SAASC,eAAe,qBAAxB,eAAuCC,cAAe,IACnEH,KAAKP,OAAsB,IAAbO,KAAKR,MACnB,IAAIY,EAAG,UAAGJ,KAAKT,UAAUc,eAAlB,aAAG,EAAwBC,WAAW,MAiB7C,OAhBIF,IACAA,EAAIQ,UAAY,UAChBR,EAAIS,SAAS,EAAE,EAAEb,KAAKR,MAAOQ,KAAKP,QAElCW,EAAIW,UAAYf,KAAKR,MAAQ,IACf,WAAV2D,EACAnD,KAAKgD,WAAW5C,EAAK8C,GACJ,YAAVC,GACPnD,KAAKiD,SAAS7C,EAAK8C,IAI3BlD,KAAKF,SAIE,wBAAQN,MAASQ,KAAKR,MAAOC,OAAUO,KAAKP,OAAQkC,IAAO3B,KAAKT,c,iCAIhEa,EAA+B8C,GACtC,IAEIE,EAAY,IAFLpD,KAAKP,OAGZ4D,EAAKD,EAAK1C,KAAK4C,KAAKJ,GAExB,GAAIG,EAAKD,EAAI,CACT,IAAIG,EAAMH,EACVA,EAAKA,EAAKA,EAAKC,EACfA,EAAKE,EAGT,IAAIC,EAAKxD,KAAKR,MAAQ,EAClBiE,EAAkB,IAAbzD,KAAKR,MACV+B,EAAIvB,KAAKP,OAAS,EAEtBW,EAAIY,YACJZ,EAAIU,YAAc,UAClBV,EAAIqB,IAAI+B,EAAGjC,EAAE6B,EAAI,EAAG,EAAG1C,KAAKC,IAC5BP,EAAIsB,SACJtB,EAAIsD,YAEJ,IAAIC,EAAWP,EAAK,EACpBO,EAAWjD,KAAKkD,IAAID,EAAU,IAE9BvD,EAAIyD,KAAJ,UAAcF,EAAd,kBACAvD,EAAIQ,UAAY,UAChBR,EAAI0D,UAAY,SAChB1D,EAAI2D,SAAS,IAAKP,EAAIjC,EAAIoC,EAAU,GAAKA,EAAc,EAAHP,EAAY,EAALA,EAAS,IAEpEhD,EAAIY,YACJZ,EAAIU,YAAc,UAClBV,EAAIqB,IAAIgC,EAAGlC,EAAE8B,EAAI,EAAG,EAAG3C,KAAKC,IAC5BP,EAAIsB,SACJtB,EAAIsD,YAEJC,EAAWN,EAAK,EAChBM,EAAWjD,KAAKkD,IAAID,EAAU,IAI9BvD,EAAIyD,KAAJ,UAAcF,EAAd,kBACAvD,EAAIQ,UAAY,UAChBR,EAAI0D,UAAY,SAChB1D,EAAI2D,SAAS,IAAKN,EAAIlC,EAAIoC,EAAU,GAAKA,EAAc,EAAHN,EAAY,EAALA,EAAS,M,+BAE/DjD,EAA+B8C,GAEpC,IAAIc,EAAOhE,KAAKR,MAAQ,EACpByE,EAAOjE,KAAKP,OAEZyE,EAyEZ,SAAuBC,EAAcC,GAEjC,IAFyE,IAA1BC,EAAyB,uDAAhB,GACpD7B,EAAM,GACD8B,EAAI,EAAGA,EAAID,EAAQC,IACxB9B,EAAI+B,KAAK,CAACpC,EAAI,EAAGgC,GAAOhC,EAAI,EAAEiC,KAGlC,OADA5B,EAAMT,EAAWS,GA9EFgC,CAAcR,EAAMC,GAC3BQ,EAAOxC,EAAGwC,KAAKP,GACfQ,EAAIhE,KAAK4C,KAAKmB,GAAMvB,EAAQxC,KAAKC,KACrC,GAAI,EAAE+D,EAAIT,EAAM,CACZ,IAAIU,EAAQV,GAAQ,EAAES,GAAK,IAC3BA,EAAW,IAAPT,EAAc,EAClBC,EA2EZ,SAAmB1B,EAAkBmC,GACjC,OAAOnC,EAAIK,KAAI,SAAAC,GAAC,OAAIA,EAAED,KAAI,SAAA+B,GAAC,OAAIA,EAAED,QA5ElBE,CAAUX,EAAMS,GAG3B,GAAIzB,EAAQ,EACRgB,EAAO3B,EAAW2B,EAAa,IAAPF,EAAYC,EAAO,OACxC,CAAC,IAAD,EACShC,EAAGS,SAASwB,GADrB,mBAEHA,EAAO3B,EAAW2B,EAFf,KAEyBF,EAFzB,MAKPS,EAAOxC,EAAGwC,KAAKP,GAEf,IAAIV,EAAKQ,EAAO,EACZzC,EAAI0C,EAAO,EAGf7D,EAAIY,YACJZ,EAAIU,YAAc,UAClBV,EAAIqB,IAAI+B,EAAGjC,EAAEmD,EAAG,EAAG,EAAGhE,KAAKC,IAC3BP,EAAIsB,SACJtB,EAAIsD,YAEJ,IAAIC,EAAWe,EAAI,EACnBf,EAAWjD,KAAKkD,IAAID,EAAU,IAE9BvD,EAAIyD,KAAJ,UAAcF,EAAd,kBACAvD,EAAIQ,UAAY,UAChBR,EAAI0D,UAAY,SAChB1D,EAAI2D,SAAS,IAAKP,EAAIjC,EAAIoC,EAAU,GAAKA,EAAa,EAAFe,EAAU,EAAJA,EAAQ,IAElEtE,EAAIY,YACJZ,EAAIU,YAAc,UAClBV,EAAIe,OAAO+C,EAAK,GAAG,GAAIA,EAAK,GAAG,IAC/B,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAKY,OAAQR,IAC7BlE,EAAIgB,OAAO8C,EAAKI,GAAG,GAAIJ,EAAKI,GAAG,IAEnClE,EAAIgB,OAAO8C,EAAK,GAAG,GAAIA,EAAK,GAAG,IAC/B9D,EAAIsD,YAEJtD,EAAIsB,SAEJiC,EAAW,GApDwC,MAqDrC1B,EAAGS,SAASwB,GArDyB,mBAqD9CT,EArD8C,KAqD3CsB,EArD2C,KAuDnD3E,EAAIyD,KAAJ,UAAcF,EAAd,kBACAvD,EAAIQ,UAAY,UAChBR,EAAI0D,UAAY,SAChB1D,EAAI2D,SAAS,IAAKN,EAAIsB,EAAKpB,EAAU,K,+BAOjC3D,KAAKN,MAAMC,YAAc,IAI7BK,KAAK4B,UAAS,SAAClC,GAAD,MAAY,CAACC,WAAYD,EAAMC,WAAa,MAC1DkC,WAAW7B,KAAKF,OAAQ,Y,GAjKTF,IAAMkC,WCG7B,SAAShC,EAAOkF,EAAQC,EAAWC,GAAiB,IAC3C7D,EAAa2D,EAAb3D,EAAEE,EAAWyD,EAAXzD,EAAE4D,EAASH,EAATG,GAAGC,EAAMJ,EAANI,GAKZ,OAJI/D,EAAI8D,EAAK,GAAK9D,EAAI8D,EAAKF,KAAGE,GAAMA,IAChC5D,EAAI6D,EAAK,GAAK7D,EAAI6D,EAAKF,KAAGE,GAAMA,GAG7B,CAAC/D,EAFRA,GAAK8D,EAEK5D,EADVA,GAAK6D,EACOD,KAAGC,MA6FnB,SAASjD,EAAIC,EAAaC,GACtB,OAAOD,EAAM1B,KAAK4B,UAAYD,EAAOD,GAG1BiD,M,kDArFX,WAAY/F,GAAkB,IAAD,8BACzB,cAAMA,IARVgG,YAAsB,EAOO,EAL7B/F,eAK6B,IAJ7Ba,IAAmD,KAItB,EAH7BZ,MAAgB,IAGa,EAF7BC,OAAiB,IAEY,EAD7B8F,UAAmB,GAGf,EAAKhG,UAAYK,IAAMC,YACvB,EAAK2F,gBAAkB,EAAKA,gBAAgBzF,KAArB,gBACvB,EAAK0F,kBAAoB,EAAKA,kBAAkB1F,KAAvB,gBAJA,E,qDASnB,IAAD,IAEA2F,EAAO1F,KAAKV,MAAZoG,IAeL,OAbA1F,KAAKR,MAAQQ,KAAKV,MAAME,QAAX,UAAoBS,SAASC,eAAe,qBAA5C,aAAoB,EAAuCC,cAAe,IACvFH,KAAKP,OAAsB,GAAbO,KAAKR,MACnBQ,KAAKI,IAAL,UAAWJ,KAAKT,UAAUc,eAA1B,aAAW,EAAwBC,WAAW,MAE1CN,KAAKuF,UAAUT,SAAWY,GAC1B1F,KAAKyF,kBAAkBC,GAG3BC,qBAAqB3F,KAAKsF,aAE1BtF,KAAKwF,kBAGE,wBAAQhG,MAASQ,KAAKR,MAAOC,OAAUO,KAAKP,OAAQkC,IAAO3B,KAAKT,c,wCAGxD,IACVmG,EAAO1F,KAAKV,MAAZoG,IACD1F,KAAKuF,UAAUT,SAAWY,GAC1B1F,KAAKyF,kBAAkBzF,KAAKV,MAAMoG,KAGtC,IACe,EADXhB,EAAI1E,KAAKV,MAAMoG,KAAO,GAAK,EAAI,EAC9B1F,KAAKI,MACNJ,KAAKI,IAAL,UAAWJ,KAAKT,UAAUc,eAA1B,aAAW,EAAwBC,WAAW,OAElD,IAAIF,EAAMJ,KAAKI,IAEf,GAAIA,EAAK,CAELA,EAAIQ,UAAY,UAChBR,EAAIS,SAAS,EAAE,EAAEb,KAAKR,MAAOQ,KAAKP,QAElCW,EAAIQ,UAAY,UAEhB,IAAK,IAAI0D,EAAI,EAAGA,EAAItE,KAAKV,MAAMoG,IAAKpB,IAChCtE,KAAKgD,WAAW5C,EAAKJ,KAAKuF,UAAUjB,GAAGjD,EAAGrB,KAAKuF,UAAUjB,GAAG/C,EAAGmD,GAC/D1E,KAAKuF,UAAUjB,GAAKxE,EAAOE,KAAKuF,UAAUjB,GAAItE,KAAKR,MAAOQ,KAAKP,QAKvEO,KAAKsF,YAAcM,sBAAsB5F,KAAKwF,mB,iCAGvCpF,EAAgCiB,EAAWE,EAAWmD,GAI7DtE,EAAIY,YACJZ,EAAIqB,IAAIJ,EAAEE,EAAEmD,EAAG,EAAG,EAAGhE,KAAKC,IAC1BP,EAAIyF,OACJzF,EAAIsD,c,wCAIUgC,GACd1F,KAAKuF,UAAY,GACjB,IAAK,IAAIjB,EAAI,EAAGA,EAAIoB,EAAKpB,IAAK,CAC1B,IAAIjD,EAAIc,EAAI,EAAGnC,KAAKR,OAChB+B,EAAIY,EAAI,EAAGnC,KAAKP,QAChB0F,EAAKhD,GAAK,EAAE,GACZiD,EAAKjD,GAAK,EAAE,GAChBnC,KAAKuF,UAAUhB,KAAK,CAAClD,IAAEE,IAAE4D,KAAGC,Y,GArFPxF,IAAMkC,WCjBvC,SAASgE,EAAO1D,EAAaC,GACzB,OAAOD,EAAM1B,KAAKqF,MAAMrF,KAAK4B,UAAYD,EAAOD,EAAM,S,IAsH3C4D,E,kDA7GX,WAAY1G,GAAkB,IAAD,8BACzB,cAAMA,IAJVC,eAG6B,IAF7BC,MAAgB,IAEa,EAD7BC,OAAiB,IAGb,EAAKC,MAAQ,CACTC,WAAY,GAEhB,EAAKJ,UAAYK,IAAMC,YACvB,EAAKC,OAAS,EAAKA,OAAOC,KAAZ,gBANW,E,qDAWnB,IAAD,IAEA2F,EAAO1F,KAAKV,MAAZoG,IACDO,EAAQP,EAAM,IAAM,GAAK,GACzBQ,EAAQR,EAAM,IAAM,GAAK,GAE7B1F,KAAKR,MAAQQ,KAAKV,MAAME,QAAX,UAAoBS,SAASC,eAAe,qBAA5C,aAAoB,EAAuCC,cAAe,IACvFH,KAAKP,OAAsB,GAAbO,KAAKR,MAGnB,IAAIY,EAAG,UAAGJ,KAAKT,UAAUc,eAAlB,aAAG,EAAwBC,WAAW,MAC7C,GAAIF,EAAK,CAELA,EAAIQ,UAAY,UAChBR,EAAIS,SAAS,EAAE,EAAEb,KAAKR,MAAOQ,KAAKP,QAElCW,EAAIQ,UAAY,UAUhB,IATA,IAAIuF,EAAsB,IAAIC,MAAMF,GAC/BL,MAAK,GACLhD,KAAI,kBAAM,IAAIuD,MAAMH,GACpBJ,MAAK,MAINQ,EAAM,EACNC,EAAoC,WAArBtG,KAAKV,MAAM6D,MAAoBnD,KAAKuG,WAAavG,KAAKgD,WAClEqD,EAAMrG,KAAKV,MAAMoG,KAAK,CAEzB,IAAIhB,EAAIoB,EAAO,EAAGI,EAAQ,GACtBM,EAAIV,EAAO,EAAGG,EAAQ,GACtBE,EAAOzB,GAAG8B,KAEdL,EAAOzB,GAAG8B,IAAK,EAEfF,EAAalG,EAAK6F,EAAOC,EAAOxB,EAAG8B,EAAGxG,KAAKR,MAAOQ,KAAKP,QAEvD4G,MASR,OAJArG,KAAKF,SAIE,wBAAQN,MAASQ,KAAKR,MAAOC,OAAUO,KAAKP,OAAQkC,IAAO3B,KAAKT,c,+BAInES,KAAKN,MAAMC,YAAc,IAI7BK,KAAK4B,UAAS,SAAClC,GAAD,MAAY,CAACC,WAAYD,EAAMC,WAAa,MAC1DkC,WAAW7B,KAAKF,OAAQ,U,iCAGjBM,EAAgC6F,EAAeC,EAAexB,EAAW8B,EAAWvB,EAAWC,GAItG,IAAIuB,EAAWxB,GAAKgB,EAAQ,GAExB5E,EAAImF,EAAIC,EACRlF,EAAImD,EAAI+B,EAEZpF,GAAKoF,EAAW,EAChBlF,GAAKkF,EAAW,EAIhBrG,EAAIY,YACJZ,EAAIqB,IAAIJ,EAAEE,EAAEkF,EAAW,EAAI,GAAK,EAAG,EAAG/F,KAAKC,IAC3CP,EAAIyF,OACJzF,EAAIsD,c,iCAIGtD,EAAgCsG,EAAkBhC,EAAW8B,EAAWvB,EAAWC,GAC1F,IAAIuB,EAAWxB,GAAKyB,EAAW,GAE3BrF,EAAImF,EAAIC,EACRlF,EAAImD,EAAI+B,EACZpF,GAAKoF,GAAYC,EAAWhC,EAAI,GAAKgC,EACrCnF,GAAKkF,EAAYD,EAAKE,EAEtBrF,GAAKoF,EAAW,EAChBlF,GAAKkF,EAAW,EAIhBrG,EAAIY,YACJZ,EAAIS,SAASQ,EAAEE,EAAEkF,EAAUA,GAC3BrG,EAAIsD,gB,GA7GqB9D,IAAMkC,WCmLvC,SAASK,EAAIC,EAAaC,GACtB,OAAOD,EAAM1B,KAAK4B,UAAYD,EAAOD,GAEzC,SAASuE,EAAKnD,EAAYoD,EAAYnD,EAAYsB,GAC9C,OAAOrE,KAAK4C,KAAK,SAACE,EAAGC,EAAK,GAAT,SAAcmD,EAAG7B,EAAK,IAyB5B8B,M,kDA5MX,WAAYvH,GAAkB,IAAD,8BACzB,cAAMA,IAJVC,eAG6B,IAF7BC,MAAgB,IAEa,EAD7BC,OAAiB,IAGb,EAAKC,MAAQ,CACTC,WAAY,GAEhB,EAAKJ,UAAYK,IAAMC,YACvB,EAAKC,OAAS,EAAKA,OAAOC,KAAZ,gBACd,EAAK+G,SAAW,EAAKA,SAAS/G,KAAd,gBAChB,EAAKgH,KAAO,EAAKA,KAAKhH,KAAV,gBACZ,EAAKiH,YAAc,EAAKA,YAAYjH,KAAjB,gBATM,E,qDAanB,IAAD,MAEiBC,KAAKV,MAArB4D,EAFD,EAECA,MAAOC,EAFR,EAEQA,MAEbnD,KAAKR,OAAQ,UAAAS,SAASC,eAAe,qBAAxB,eAAuCC,cAAe,IACnEH,KAAKP,OAAsB,IAAbO,KAAKR,MACnB,IAAIY,EAAG,UAAGJ,KAAKT,UAAUc,eAAlB,aAAG,EAAwBC,WAAW,MAmB7C,OAlBIF,IACAA,EAAIQ,UAAY,UAChBR,EAAIS,SAAS,EAAE,EAAEb,KAAKR,MAAOQ,KAAKP,QAElCW,EAAIW,UAAYf,KAAKR,MAAQ,IACf,aAAV2D,EACAnD,KAAK8G,SAAS1G,EAAK8C,GACF,gBAAVC,EACPnD,KAAKgH,YAAY5G,EAAK8C,GACL,SAAVC,GACPnD,KAAK+G,KAAK3G,EAAK8C,IAIvBlD,KAAKF,SAIE,wBAAQN,MAASQ,KAAKR,MAAOC,OAAUO,KAAKP,OAAQkC,IAAO3B,KAAKT,c,+BAElEa,EAA+B8C,GAEpC,IAAI+D,EAAQjH,KAAKP,OAAS,EACtByH,EAAkB,GAAblH,KAAKR,MACV2H,EAAKD,EAAKhE,EACd,GAAIA,EAAQ,EAAG,CACX,IAAIK,EAAM2D,EACVA,GAAMhE,EACNiE,EAAK5D,EAITvD,KAAKoH,UAAUhH,EAAK,CAAC,EAAQ,GAAN6G,EAAWC,EAAW,GAAPD,GAAY,CAAC,EAAW,IAARA,EAAaE,EAAW,IAAPF,M,2BAGtE7G,EAA+B8C,GAChC,IAAImE,EAAkB,EACtBjH,EAAIU,YAAc,UAClBV,EAAIY,YAH2C,MAMhC,CAACmB,EAAiB,IAAbnC,KAAKR,MAA2B,IAAbQ,KAAKR,OAAe2C,EAAkB,IAAdnC,KAAKP,OAA6B,IAAdO,KAAKP,SAAnF+D,EAN0C,KAMtCoD,EANsC,KAQ/C,IADAxG,EAAIe,OAAOqC,EAAGoD,GACPS,EAAQnE,EAAQlD,KAAKR,MAAQ,GAAG,CAAC,IAAD,EACpB,CAAC2C,EAAiB,IAAbnC,KAAKR,MAA2B,IAAbQ,KAAKR,OAAe2C,EAAkB,IAAdnC,KAAKP,OAA6B,IAAdO,KAAKP,SAAnFgE,EAD8B,KAC1BsB,EAD0B,KAGnC3E,EAAIgB,OAAOqC,EAAGsB,GACdsC,GAAWV,EAAKnD,EAAGoD,EAAGnD,EAAGsB,GACzBvB,EAAKC,EACLmD,EAAK7B,EAET3E,EAAIsB,SAEJtB,EAAIsD,YACJ,IAAI4D,EAAUD,EAAUnE,EAExB9C,EAAIU,YAAc,UAClBV,EAAIY,YACJZ,EAAIe,OAAoB,IAAbnB,KAAKR,MAA0B,IAAZQ,KAAKR,OACnCY,EAAIgB,OAAmB,IAAZpB,KAAKR,MAAc8H,EAAsB,IAAbtH,KAAKR,OAC5CY,EAAIsB,SAEJtB,EAAIsD,YAEJtD,EAAIyD,KAAJ,UADe,GACf,kBACAzD,EAAIQ,UAAY,UAChBR,EAAI0D,UAAY,SAChB1D,EAAI2D,SAAS,IAAiB,IAAZ/D,KAAKR,MAAc8H,EAAU,GAAiB,IAAbtH,KAAKR,MAJzC,GAIkE,K,kCAMzEY,EAA+B8C,GAEvC,IAAIqE,EAAOrE,EAAQ,EACfA,EAAQ,IACRA,EAAQ,EAAEA,GAMd,IAFA,IAAIsE,EAAO,EACPN,EAAe,GAAIC,EAAe,GAC/BK,EAAOxH,KAAKR,MAAQ,GAAG,CAAC,IAAD,EACX,CAAC2C,EAAiB,IAAbnC,KAAKR,MAA2B,IAAbQ,KAAKR,OAAe2C,EAAkB,IAAdnC,KAAKP,OAA6B,IAAdO,KAAKP,SAAnF+D,EADqB,KACjBoD,EADiB,OAEX,CAACzE,EAAiB,IAAbnC,KAAKR,MAA2B,IAAbQ,KAAKR,OAAe2C,EAAkB,IAAdnC,KAAKP,OAA6B,IAAdO,KAAKP,SAAnFgE,EAFqB,KAEjBsB,EAFiB,KAG1ByC,EAAOb,EAAKnD,EAAGoD,EAAGnD,EAAGsB,GACrBmC,EAAK,CAAC1D,EAAGoD,EAAGnD,EAAGsB,GAEnB,GAAImC,EAAG,GAAKA,EAAG,GAAI,CAAC,IAAD,EACgB,CAACA,EAAG,GAAIA,EAAG,GAAKA,EAAG,GAAIA,EAAG,IAAxDA,EAAG,GADW,KACPA,EAAG,GADI,KACAA,EAAG,GADH,KACOA,EAAG,GADV,KAMnB,IAHA,IAAIO,EAAOD,EAAOtE,EACdK,EAAM,EAEHA,EAAMkE,GAAM,CAAC,IAAD,EACA,CAACtF,EAAiB,IAAbnC,KAAKR,MAA2B,IAAbQ,KAAKR,OAAe2C,EAAkB,IAAdnC,KAAKP,OAA6B,IAAdO,KAAKP,SAAnF+D,EADU,KACNoD,EADM,OAEA,CAACzE,EAAiB,IAAbnC,KAAKR,MAA2B,IAAbQ,KAAKR,OAAe2C,EAAkB,IAAdnC,KAAKP,OAA6B,IAAdO,KAAKP,SAAnFgE,EAFU,KAENsB,EAFM,KAGfxB,EAAMoD,EAAKnD,EAAGoD,EAAGnD,EAAGsB,GACpBoC,EAAK,CAAC3D,EAAGoD,EAAGnD,EAAGsB,GAGnB,GAAIoC,EAAG,GAAKA,EAAG,GAAI,CAAC,IAAD,EACgB,CAACA,EAAG,GAAIA,EAAG,GAAKA,EAAG,GAAIA,EAAG,IAAxDA,EAAG,GADW,KACPA,EAAG,GADI,KACAA,EAAG,GADH,KACOA,EAAG,GADV,KAInB,IAAIxC,EAAQ8C,EAAOlE,EAInB,GAHA4D,EAAG,GAAKA,EAAG,IAAMA,EAAG,GAAKA,EAAG,IAAMxC,EAClCwC,EAAG,GAAKA,EAAG,IAAMA,EAAG,GAAKA,EAAG,IAAMxC,EAE9B4C,EAAM,CAAC,IAAD,EACM,CAACJ,EAAKD,GAAjBA,EADK,KACAC,EADA,Q,gCAKJ/G,EAA+B8G,EAAcC,GAGnD/G,EAAIyD,KAAJ,UADe,GACf,kBACAzD,EAAI0D,UAAY,SAEhB1D,EAAIU,YAAc,UAClBV,EAAIQ,UAAY,UAChBR,EAAIY,YACJZ,EAAIe,OAAO+F,EAAG,GAAIA,EAAG,IACrB9G,EAAIgB,OAAO8F,EAAG,GAAIA,EAAG,IACrB9G,EAAIsB,SACJtB,EAAIsD,YACJtD,EAAI2D,SAAS,IAAKmD,EAAG,GAAK,GAAIA,EAAG,GAXlB,GAWiC,GAKhD9G,EAAIU,YAAc,UAClBV,EAAIQ,UAAY,UAChBR,EAAIY,YACJZ,EAAIe,OAAOgG,EAAG,GAAIA,EAAG,IACrB/G,EAAIgB,OAAO+F,EAAG,GAAIA,EAAG,IACrB/G,EAAIsB,SACJtB,EAAIsD,YACJtD,EAAI2D,SAAS,IAAKoD,EAAG,GAAK,GAAIA,EAAG,GAvBlB,GAuBiC,K,+BAM5CnH,KAAKN,MAAMC,YAAc,IAI7BK,KAAK4B,UAAS,SAAClC,GAAD,MAAY,CAACC,WAAYD,EAAMC,WAAa,MAC1DkC,WAAW7B,KAAKF,OAAQ,Y,GAjLPF,IAAMkC,W,eCUhB4F,E,uKAbP,IAAIC,EAA2B,CAC3BC,SAAU,GACV9D,UAAW,SACX+D,UAAW,KAEf,OACA,cAAC,UAAD,CAASjE,IAAK+D,EAAUC,SAAUE,KAAQ,SAAUC,MAAK,2BAAQJ,GAAR,IAAmBK,WAAY,gBAAxF,SACKhI,KAAKV,MAAM2I,W,GAXDrI,IAAMkC,WCONlC,IAAMkC,UCU7B,SAAShC,EAAOkF,EAAQC,EAAWC,GAAiB,IAC3C7D,EAAa2D,EAAb3D,EAAEE,EAAWyD,EAAXzD,EAAE4D,EAASH,EAATG,GAAGC,EAAMJ,EAANI,GAKZ,OAJI/D,EAAI8D,EAAK,GAAK9D,EAAI8D,EAAKF,KAAGE,GAAMA,IAChC5D,EAAI6D,EAAK,GAAK7D,EAAI6D,EAAKF,KAAGE,GAAMA,GAG7B,CAAC/D,EAFRA,GAAK8D,EAEK5D,EADVA,GAAK6D,EACOD,KAAGC,MA0GnB,SAASjD,EAAIC,EAAaC,GACtB,OAAOD,EAAM1B,KAAK4B,UAAYD,EAAOD,GAG1B8F,M,kDA/FX,WAAY5I,GAAkB,IAAD,8BACzB,cAAMA,IAXVgG,YAAsB,EAUO,EAR7B/F,eAQ6B,IAP7Ba,IAAmD,KAOtB,EAN7BZ,MAAgB,IAMa,EAL7BC,OAAiB,IAKY,EAJ7B0I,GAAU,CAAC9G,EAAE,EAAEE,EAAE,EAAE4D,GAAG,EAAEC,GAAG,GAIE,EAH7BgD,GAAU,CAAC/G,EAAE,EAAEE,EAAE,EAAE4D,GAAG,EAAEC,GAAG,GAKvB,EAAK7F,UAAYK,IAAMC,YACvB,EAAK2F,gBAAkB,EAAKA,gBAAgBzF,KAArB,gBACvB,EAAK0F,kBAAoB,EAAKA,kBAAkB1F,KAAvB,gBAJA,E,qDASnB,IAAD,IAcL,OAVAC,KAAKR,MAAQQ,KAAKV,MAAME,QAAX,UAAoBS,SAASC,eAAe,qBAA5C,aAAoB,EAAuCC,cAAe,IACvFH,KAAKP,OAAsB,GAAbO,KAAKR,MACnBQ,KAAKI,IAAL,UAAWJ,KAAKT,UAAUc,eAA1B,aAAW,EAAwBC,WAAW,MAE9CN,KAAKyF,oBAELE,qBAAqB3F,KAAKsF,aAC1BtF,KAAKwF,kBAGE,wBAAQhG,MAASQ,KAAKR,MAAOC,OAAUO,KAAKP,OAAQkC,IAAO3B,KAAKT,c,wCAMvD,IAAD,EAAVS,KAAKI,MACNJ,KAAKI,IAAL,UAAWJ,KAAKT,UAAUc,eAA1B,aAAW,EAAwBC,WAAW,OAElD,IAAIF,EAAMJ,KAAKI,IAEXA,IAEAA,EAAIQ,UAAY,UAChBR,EAAIS,SAAS,EAAE,EAAEb,KAAKR,MAAOQ,KAAKP,QAClCW,EAAIW,UAAY,EAEhBf,KAAKgD,WAAW5C,EAAKJ,KAAKmI,GAAG9G,EAAGrB,KAAKmI,GAAG5G,EAAG,GAAI,UAAW,KAC1DvB,KAAKgD,WAAW5C,EAAKJ,KAAKoI,GAAG/G,EAAGrB,KAAKoI,GAAG7G,EAAG,GAAI,UAAW,MAE9DvB,KAAKmI,GAAKrI,EAAOE,KAAKmI,GAAInI,KAAKR,MAAOQ,KAAKP,QAC3CO,KAAKoI,GAAKtI,EAAOE,KAAKoI,GAAIpI,KAAKR,MAAOQ,KAAKP,QAE3CO,KAAKsF,YAAcM,sBAAsB5F,KAAKwF,mB,iCAGvCpF,EAAgCiB,EAAWE,EAAWmD,EAAW2D,EAAeJ,GAEvF7H,EAAIU,YAAcuH,EAClBjI,EAAIQ,UAAYyH,EAEhBjI,EAAIY,YACJZ,EAAIqB,IAAIJ,EAAEE,EAAEmD,EAAG,EAAG,EAAGhE,KAAKC,IAC1BP,EAAIsB,SACJtB,EAAIsD,YAEJtD,EAAIyD,KAAJ,UADe,GACf,kBACAzD,EAAI0D,UAAY,SAChB1D,EAAI2D,SAASkE,EAAM5G,EAAGE,EAHP,GAGqB,K,0CAKnB,IAAD,EACQvB,KAAKV,MAAxBgJ,EADW,EACXA,GAAGC,EADQ,EACRA,GACR,GAFgB,EACJzB,SAER9G,KAAKmI,GAAG9G,EAAI,EACZrB,KAAKoI,GAAG/G,EAAI,EACZrB,KAAKmI,GAAG5G,EAAkB,GAAdvB,KAAKP,OACjBO,KAAKoI,GAAG7G,EAAkB,GAAdvB,KAAKP,OACjBO,KAAKmI,GAAGhD,GAAKmD,EACbtI,KAAKoI,GAAGjD,GAAKoD,EACbvI,KAAKmI,GAAG/C,GAAKpF,KAAKoI,GAAGhD,GAAK,MACvB,CACHpF,KAAKmI,GAAG9G,EAAIc,EAAI,EAAGnC,KAAKR,OACxBQ,KAAKoI,GAAG/G,EAAIc,EAAI,EAAGnC,KAAKR,OACxBQ,KAAKmI,GAAG5G,EAAIY,EAAI,EAAEnC,KAAKP,QACvBO,KAAKoI,GAAG7G,EAAIY,EAAI,EAAEnC,KAAKP,QACvB,IAAI+I,EAAKrG,EAAI,EAAG,EAAIzB,KAAKC,IACrB8H,EAAKtG,EAAI,EAAG,EAAIzB,KAAKC,IACzBX,KAAKmI,GAAGhD,GAAKmD,EAAK5H,KAAKY,IAAIkH,GAC3BxI,KAAKmI,GAAG/C,GAAKkD,EAAK5H,KAAKc,IAAIgH,GAC3BxI,KAAKoI,GAAGjD,GAAKoD,EAAK7H,KAAKY,IAAImH,GAC3BzI,KAAKoI,GAAGhD,GAAKmD,EAAK7H,KAAKc,IAAIiH,Q,GAlGZ7I,IAAMkC,WCTjC,SAAS4G,EAAcC,EAAeC,GAClC,OAAID,EAAQC,EACDD,EAAQC,EAEZA,EAASD,EAGLE,MAjBX,WAAYC,EAAWC,GAAgE,IAAD,OAA/CC,EAA+C,uDAAtCN,EAAeO,EAAuB,uDAAH,EAAG,yBARtFH,UAQsF,OAPtFC,YAOsF,OANtFE,eAMsF,OALtFC,QAKsF,OAFtFF,YAEsF,EAClFhJ,KAAK8I,KAAOA,EACZ9I,KAAK+I,OAASA,EACd/I,KAAKkJ,GAAKxI,KAAK4B,SACftC,KAAKgJ,OAAS,SAACL,GAAD,OAAmBK,EAAOL,EAAO,EAAKI,SACpD/I,KAAKiJ,UAAYA,GCEzB,SAASnD,EAAO1D,EAAaC,GACzB,OAAOD,EAAM1B,KAAKqF,MAAMrF,KAAK4B,UAAYD,EAAOD,EAAM,SAI1D,SAASD,EAAIC,EAAaC,GACtB,OAAOD,EAAM1B,KAAK4B,UAAYD,EAAOD,GAGzC,SAAS+G,EAAOC,EAAaC,GACzB,OAAOD,EAAM1I,KAAK4I,IAAI,EAAInH,GAAKkH,EAAUA,IAItC,SAASE,EAAOC,GAanB,IANW,IACNC,EAAuED,EAAvEC,YAAaC,EAA0DF,EAA1DE,YAAaC,EAA6CH,EAA7CG,cAAeC,EAA8BJ,EAA9BI,gBAAiBC,EAAaL,EAAbK,UAC3DC,EAAQhE,EAAO2D,EAAYrH,IAAKqH,EAAYpH,MAC5C0H,EAASZ,EAAOO,EAAaC,GAE7BK,EAAqB,GAChB1F,EAAI,EAAGA,EAAIwF,EAAOxF,IAAK,CAE5B,IAAI2F,EAAcd,EADVzI,KAAK4I,IAAIS,EAAS,GAAKD,EAAQxF,IACNsF,GACjCI,EAASzF,KAAK7D,KAAKwJ,MAAMD,IACzBF,GAAUE,EAEdD,EAASG,MAAK,SAACC,EAAEC,GAAH,OAASD,EAAEC,KAIzBN,EAASC,EAASM,QAAO,SAACC,EAAKC,GAAN,OAAcD,EAAMC,KAE7C,IAKIC,EAAiB,GAKrB,OAJAT,EAASU,SAAQ,SAAAC,GACbF,GAAc,UAAOE,EAAP,aAElBF,EAAiBA,EAAeG,MAAM,GAAI,GACnC,IAAI/B,EAAU,cAAC,EAAD,CAAUZ,KAAQwC,IAAmBV,GAV7C,SAACpB,EAAeC,GACzB,IAAIiC,EAAWlC,EAAQC,EAAUD,EAAQC,EAAWA,EAASD,EAC7D,OAAOjI,KAAKwJ,MAAiB,IAAXW,KAQoDhB,G,IChElEiB,E,0BAAAA,O,qBAAAA,I,iBAAAA,I,qBAAAA,I,mBAAAA,I,iBAAAA,I,wBAAAA,M,KASZ,ICTYC,EDSRC,EAAgB,CACnBvB,YAAc,CAACrH,IAAK,EAAGC,KAAM,GAC1BqH,YAAa,IACbC,cAAe,EACfC,gBAAiB,EACjBC,UAAW,GA2BAoB,E,sCAvBXC,UAA2B3B,E,KAC3B4B,cAA4B,G,KAC5BC,qB,OACAC,SAAmB,wB,KACnBC,aAAuB,E,KACvBC,aAAuB,E,KACvBC,YAAsB,E,KACtBC,WAAqB,E,KACrBC,YAAsB,E,KACtBC,aAAuB,E,KACvBC,cAA+Bd,EAAce,Q,KAC7CC,gBAAuBd,E,KACvBe,UAAY,E,KACZC,WAAa,0B,KACbC,SAAW,4EClCXC,EAAKlK,EAAQ,IA8EjB,SAASmK,EAAazM,GAClBA,EAAM6L,aAAe,EACrB7L,EAAMiM,aAAejM,EAAMgM,YAAchM,EAAM8L,YAAc9L,EAAM+L,WAAa,EAChF/L,EAAMyL,cAAgB,GACtB,IAAK,IAAI7G,EAAI,EAAGA,EAAI5E,EAAM4L,aAAchH,IACpC5E,EAAMyL,cAAc5G,KAAK7E,EAAMwL,UAAUxL,EAAMoM,kBAInD,OAFApM,EAAM0L,gBAAkB1L,EAAMyL,cAAc,GAC5CzL,EAAMqM,UAAYrM,EAAM0L,gBAAgBnC,UACjCvJ,G,SArFCqL,O,mBAAAA,I,mBAAAA,I,gBAAAA,M,SCgLGqB,E,kDA7JX,WAAY9M,GAAa,IAAD,8BACpB,cAAMA,IATV+M,gBAQwB,IAPxB9M,eAOwB,IANxB+M,mBAMwB,IALxBC,WAAqB,EAKG,EAJxB1C,UAAoB,EAII,EAHxB2C,UAAoB,EAGI,EAuIxBC,cAAgB,SAAC3J,GACb,GAAc,UAAVA,EAAE4J,KAAmB,EAAKpN,MAAMqN,UAAUf,gBAAkBd,EAAc8B,QAAS,CACnF,IAAIC,EACJ,IACIA,EAASC,WAAW,EAAKpN,MAAMuI,MACjC,MAAO8E,GACL,OAEJ,GAAIC,MAAMH,GACN,OAEL,EAAKvN,MAAM2N,aAAa,CAACC,KAAMnC,EAAUoC,OAAQC,QAASP,IAC1D,EAAKjL,SAAS,CAACqG,KAAM,KAEjB,EAAK3I,MAAMqN,UAAUpB,aAAiB,EAAKjM,MAAMqN,UAAUrB,iBAE7C,UAAVxI,EAAE4J,KAAmB,EAAKpN,MAAMqN,UAAUf,gBAAkBd,EAAcuC,UACjF,EAAK/N,MAAM2N,aAAa,CAACC,KAAMnC,EAAUuC,OAAQF,QAAS,YAtJ9D,EAAK1N,MAAQ,CACTuI,KAAM,IAGV,EAAKoE,WAAazM,IAAMC,YACxB,EAAKN,UAAYK,IAAMC,YACvB,EAAK0N,QAAU,EAAKA,QAAQxN,KAAb,gBACf,EAAKyN,aAAe,EAAKA,aAAazN,KAAlB,gBATA,E,oDAahB8K,GACJ,GAA+B,OAA3B7K,KAAKT,UAAUc,QAAnB,CAIA,IAAMoN,EAAczN,KAAKT,UAAUc,QAC7BqN,EAAe1N,KAAKT,UAAUc,QAAQC,WAAW,MACvDoN,EAAQ5M,YAAc+J,EAAW,IAAM,QAAQ,MAE/C6C,EAAQ9M,UAAYZ,KAAKV,MAAMqO,MAAMC,WACrCF,EAAQ7M,SAAS,EAAE,EAAE,GAAG,IACxB6M,EAAQ3M,UAAY,EACpB2M,EAAQG,WAAW,IAAK,IACxB,IAAItN,EAAKkN,EAAOjO,MAAM,EAClBgB,EAAKiN,EAAOhO,OAAO,EACvBiO,EAAQ1M,YACR0M,EAAQjM,IAAIlB,EAAGC,EAAI,GAAI,EAAGE,KAAKC,GAAKkK,EAAWnK,KAAKC,GAAI,GAAKD,KAAKC,GAAK,GACvE+M,EAAQhM,SAERgM,EAAQG,UAAU,GAAI,O,0CAKN,IAAD,EACf7N,KAAKwN,aAAexN,KAAKwN,aAAazN,KAAKC,MAC3C,UAAAA,KAAKqM,WAAWhM,eAAhB,SAAyByN,U,+BAGnB,IAAD,OACDC,EAA4B,CAC5BH,WAAY5N,KAAKV,MAAMqO,MAAMC,WAC7BvF,MAAOrI,KAAKV,MAAMqO,MAAMK,WAKxBpC,EAAgB5L,KAAKV,MAAMqN,UAAUf,cAErCqC,EAAcjO,KAAKV,MAAMqN,UAAUvB,qBACnB8C,IAAhBD,GAA6BA,EAAY/E,KAAOlJ,KAAKuM,aAErDvM,KAAKsM,eAAiB6B,cAAcnO,KAAKsM,eAGzCtM,KAAKuM,WAAa0B,EAAY/E,GAC9BlJ,KAAK6J,UAAYoE,EAAYhF,UAC7BjJ,KAAKwM,UAAY4B,KAAKC,MACC,IAAnBrO,KAAK6J,YAEL7J,KAAKsM,cAAgBgC,aAAY,WACzB,EAAKhP,MAAMqN,UAAUf,gBAAkBd,EAAcyD,SACrD,EAAK/B,WAAa,OAEtB,IACI3B,GADWuD,KAAKC,MAAQ,EAAK7B,WACR,EAAK3C,UAE1BgB,EAAW,EACX,EAAK0C,QAAQ1C,IAEb,EAAKyB,eAAiB6B,cAAc,EAAK7B,eACzC,EAAKhN,MAAM2N,aAAa,CAACC,KAAMnC,EAAUoC,OAAQC,QAAS,EAAKoB,cAAc,EAAK9O,MAAMuI,QACxF,EAAKrG,SAAS,CAACqG,KAAM,QAG1B,QAEPjI,KAAKyO,eAGT,IAAI1C,GAAuB,OAAXkC,QAAW,IAAXA,OAAA,EAAAA,EAAahF,YAAa,EACrC0D,EAAa3M,KAAKV,MAAlBqN,UAED+B,EAAc,GAOlB,OANI9C,IAAkBd,EAAc8B,QAChC8B,EAAc,eACP9C,IAAkBd,EAAcyD,SACvCG,EAAc,eAId,sBAAK3G,MAAO,CAAC4G,QAAS,OAAQC,cAAe,OAA7C,UACI,cAACC,EAAA,EAAD,CAAYC,KAAK,KAAK/G,MAASgG,EAA/B,SACI,cAACgB,EAAA,EAAD,CAAaC,UAAahP,KAAKyM,cAC3B1E,MAASgG,EACTkB,MAASjP,KAAKN,MAAMuI,KACpBiH,SAAYlP,KAAKwN,aACjBkB,YAAaA,EACb/M,IAAO3B,KAAKqM,WACZ8C,aAAgB,iBAGT,IAAdpD,GAAmBY,EAAUf,gBAAkBd,EAAc8B,SAC3D,wBAAQjL,IAAO3B,KAAKT,UAAWC,MAAS,GAAIC,OAAU,U,oCAKvDwI,GACV,IAAI4E,EACJ,IACIA,EAASC,WAAW7E,GACtB,MAAO8E,GACL,OAAO,EAEX,OAAIC,MAAMH,GACC,EAEJA,I,mCAGE/J,GACT,GAAI9C,KAAKV,MAAMqN,UAAUf,gBAAkBd,EAAc8B,QAAzD,CAGA,IAAIwC,EAAoBtM,EAAEuM,OAAOJ,MAC7BK,EAAWF,EAAUxE,OAAO,IACP,IAArBwE,EAAUtK,QAAiBwK,GAAY,KAAOA,GAAY,KAAqB,MAAbA,GAAiC,MAAbA,GAAiC,MAAbA,GAAiC,MAAbA,IAC9HtP,KAAK4B,SAAS,CAACqG,KAAMmH,S,GA5ITxP,IAAMkC,WCA1ByN,EAAgB,CAChB3H,SAAU,GACV9D,UAAW,SACX+D,UAAW,KAGX2H,EAAe,CACf5H,SAAU,GACV9D,UAAW,SACX+D,UAAW,IACX4H,QAAS,IAsCEC,G,uKA3BP,IAgByB,EAhBrB9D,EAAgB5L,KAAKV,MAAMqN,UAAUf,cAEzC,OAAIA,IAAkBd,EAAcyD,OAE5B,qBAAKxG,MAAK,2BAAQwH,GAAR,IAAuBvH,WAAYhI,KAAKV,MAAMqO,MAAMgC,eAA9D,0BAIG/D,IAAkBd,EAAcuC,SAEnC,qBAAKtF,MAAK,2BAAQyH,GAAR,IAAsBxH,WAAYhI,KAAKV,MAAMqO,MAAMgC,eAA7D,gCACoB3P,KAAKV,MAAMqN,UAAUlB,cAK7CzL,KAAKV,MAAMsQ,SACX,UAAO5P,KAAKV,MAAMsQ,gBAAlB,aAAO,EAAqB9G,KAG5B,qBAAKf,MAAK,2BAAQyH,GAAR,IAAsB5H,SAAU,GAAII,WAAYhI,KAAKV,MAAMqO,MAAMgC,eAA3E,SACC3P,KAAKV,MAAMqN,UAAUV,e,GA3BPrM,IAAMkC,WC1B7BoK,GAAKlK,EAAQ,IAMX6N,G,uKAEQ,IAAD,EAEuD7P,KAAKV,MAAMqN,UAAlEjB,EAFA,EAEAA,YAAcC,EAFd,EAEcA,aAAcF,EAF5B,EAE4BA,WAAYD,EAFxC,EAEwCA,YAEzCsE,EAAc,GACdC,EAAWrP,KAAKsP,IAAItP,KAAKuP,MAAMtE,GAAgBjL,KAAKuP,MAAMvE,IAC9DqE,EAAWrP,KAAK4I,IAAI,GAAIyG,GAEpB/C,MAAM+C,KACNA,EAAW,GAKXA,EAAW,IAEXD,EAAW,kBADXC,EAAW,KAAOA,EAAW,IACIG,QAAQ,GAA9B,OAEXH,EAAWrP,KAAKuP,MAAMF,GACtBD,EAAW,mCAAqBC,EAASG,QAAQ,KAGrD,IAAIC,EAAeC,OAAOC,WAAa,IACnCC,EAA4BH,EAAe,GAAK,CAACI,MAAO,SAExDC,EAA2B,CAC3B5I,SAAWuI,EAAe,OAAS,QAInCM,EAAavE,GAAG,cACD,OAAfuE,IACAvE,GAAG,aAAc,IACjBuE,EAAa,IAGjB,IAAIC,EAAYD,EAAWzQ,KAAKV,MAAMqN,UAAUX,aAAe,EAK/D,OACI,8BACI,cAAC2E,EAAA,EAAD,UACI,eAACC,EAAA,EAAD,WACI,eAACC,EAAA,EAAD,CAAKC,GAAM,GAAIC,GAAM,EAArB,UACI,gCACI,sBAAMhJ,MAASyI,EAAf,0BAAqC/E,EAArC,OACA,sBAAM1D,MAASyI,EAAf,qBAAgChF,EAAhC,UAGJ,qBAAKzD,MAASyI,EAAd,8BAAwCE,QAI5C,cAACG,EAAA,EAAD,CAAKC,GAAM,GAAIC,GAAM,EAArB,SACI,sBAAKhJ,MAASuI,EAAd,UACI,qBAAKvI,MAASyI,EAAd,0BAAoCQ,GAAOtF,GAA3C,qBAAoEsF,GAAOrF,MAC3E,qBAAK5D,MAASyI,EAAd,SAA0BV,oB,GA5DlClQ,IAAMkC,WAwE1BmP,GAAe,+DAGnB,SAASD,GAAOtL,GAA4D,IAA/C9B,EAA8C,uDAAhC,IAAKsN,EAA2B,uDAAd,KACzD,GAAY,IAARxL,IAAcA,EAAMwL,GAAOxL,EAAM9B,GAAM,CAKvC,IAJA,IAAIuN,EAAWzQ,KAAKqF,MAAMrF,KAAKuP,MAAMvK,IACjC0L,EAAW1L,EAAMhF,KAAK4I,IAAI,GAAI6H,GAC9BE,EAAOF,EAASG,WAChBC,EAAc,GACTjN,EAAI,EAAGA,EAAI+M,EAAKvM,OAAQR,IACb,MAAZ+M,EAAK/M,GACLiN,GAAeN,GAAa,IAE5BM,GAAeN,GAAaO,SAASH,EAAK/M,KAIlD,MAAM,GAAN,OAAU8M,EAASlB,QAAQ,GAA3B,iBAAmCqB,GASvC,IANA,IAAIhO,EAAOmC,EAAI4L,WAIXhN,EAAIf,EAAIuB,OAAS,EACjB2M,EAAU,EACPnN,GAAK,GAAe,KAAVf,EAAIe,IACjBA,IACAmN,IAQJ,OANInN,GAAK,GAAKmN,EAAU,IACpBlO,EAAMmC,EAAIwK,QAAQ,IAElB3M,EAAIuB,OAAS,IACbvB,EAAMA,EAAImO,UAAU,EAAE,IAEnBnO,EAOIsM,U,SC3DA8B,G,uKAlDD,IAAD,EACkC3R,KAAKV,MAAvCqO,EADA,EACAA,MAAOhB,EADP,EACOA,UAAWM,EADlB,EACkBA,aACnBlF,EAAuB,CACvBC,WAAa2F,EAAMiE,WACnBhK,SAAU,OACViK,UAAW,QAGXC,EAAW9R,KAAKV,MAAME,MAAQ,IAE9BsS,IACA/J,EAAMH,SAAW,QAGrB,IAAImK,EAAc,WAAOpF,EAAUpB,aAAe,EAAhC,YAAqCoB,EAAUrB,aAA/C,KACd0G,EAAc,cAACC,GAAA,EAAD,CACdnD,KAAQgD,EAAS,UAAM5D,EACvBgE,QAAU,UACVnK,MAAS,CAACwI,MAAO,QAASvI,WAAa2F,EAAMwE,UAC7CC,QAAW,WAAOnF,EAAa,CAACC,KAAMnC,EAAUuC,OAAQF,QAAS,WAJnD,yBAOdiF,EAAe,cAACJ,GAAA,EAAD,CACfnD,KAAQgD,EAAS,UAAM5D,EACvBgE,QAAU,UACVnK,MAAS,CAACwI,MAAO,QAASvI,WAAa2F,EAAMwE,UAC7CC,QAAW,WAAOnF,EAAa,CAACC,KAAMnC,EAAUuC,OAAQF,QAAS,YAJlD,0BASnB,OACI,sBAAKrF,MAASA,EAAd,UAEI,+BAAO4E,EAAUtB,WAEhBsB,EAAUf,gBAAkBd,EAAce,QACvCmG,EACJrF,EAAUf,gBAAkBd,EAAcuC,SACtCgF,EACA,sBAAMtK,MAAS,CAACwI,MAAO,SAAvB,SAAkCwB,IAEtC,oBAAIhK,MAAS,CAACuK,YAAa3E,EAAMK,oB,GA3CtBpO,IAAMkC,WCJ7ByQ,GAA6B,CAC7BC,YAAa,GA8CFC,G,kDAxCX,WAAYnT,GAAkB,IAAD,8BACzB,cAAMA,IAEDoT,WAAa,EAAKA,WAAW3S,KAAhB,gBAClB,EAAK4S,WAAa,EAAKA,WAAW5S,KAAhB,gBAJO,E,qDASzB,IAAI6L,EAAgB5L,KAAKV,MAAMqN,UAAUf,cACrCgH,EAAShH,IAAkBd,EAAcyD,OAEzCsE,EACJ,CACI,eAACZ,GAAA,EAAD,CAAQC,QAAQ,UAAUnK,MAAOwK,GAAsBH,QAASpS,KAAK0S,WAArE,UAAiF,kCAASE,EAAQ,MAAQ,SAAtD,GACpD,eAACX,GAAA,EAAD,CAAQC,QAAQ,UAAUnK,MAAOwK,GAAqBH,QAASpS,KAAK2S,WAApE,UAAgF,kCAAhF,SAAmD,IAQvD,OACI,8BACK/G,IAAkBd,EAAcuC,SAPJ,GAO+BwF,M,mCAMpE7S,KAAKV,MAAM2N,aAAa,CAACC,KAAMnC,EAAUuC,OAAQF,QAAS,gB,mCAI1DpN,KAAKV,MAAM2N,aAAa,CAACC,KAAMnC,EAAUuC,OAAQF,QAAS,c,GAtC1CxN,IAAMkC,WCX1BgR,GAAO,E,ICwFIC,G,kDA9DX,WAAYzT,GAAkB,IAAD,8BACzB,cAAMA,IAHV0T,cAAwB,EAMpB,EAAKtT,MAAQ,CACTiN,UAAW,IAAI1B,GAInB,EAAKgI,YAAc,EAAKA,YAAYlT,KAAjB,gBATM,E,gEAezBC,KAAKiT,YAAcjT,KAAKiT,YAAYlT,KAAKC,MACzCA,KAAKkT,WAAclT,KAAKkT,WAAWnT,KAAKC,MAExCC,SAASkT,KAAKC,iBAAiB,UAAWpT,KAAKkT,c,6CAI/CjT,SAASkT,KAAKE,oBAAoB,UAAWrT,KAAKkT,c,+BAIlD,IAAIvG,EAAY3M,KAAKN,MAAMiN,UAE3B,OACI,sBAAKzD,GAAG,aAAR,UAEI,cAAC,GAAD,CAAcyE,MAAS3N,KAAKV,MAAMqO,MAAOhB,UAAWA,EAAWM,aAAgBjN,KAAKiT,YAAazT,MAASQ,KAAKV,MAAME,QACrH,cAAC,GAAD,CAAcoQ,SAAYjD,EAAUvB,gBAAiBuC,MAAQ3N,KAAKV,MAAMqO,MAAOhB,UAAWA,IAC1F,cAAC,EAAD,CAAWM,aAAgBjN,KAAKiT,YAAatF,MAAS3N,KAAKV,MAAMqO,MAAOhB,UAAWA,IACnF,cAAC,GAAD,CAAWA,UAAaA,IACxB,cAAC,GAAD,CAAWM,aAAgBjN,KAAKiT,YAAatG,UAAWA,S,mCAKvDA,GACT3M,KAAK4B,SAAS,CAAC+K,gB,kCAGP2G,GAER,IAAIC,EPzDL,SAAmB7T,EAAkB4T,EAAcE,GAEtD,IAAID,EAAO7T,EACX,GAAIA,EAAMkM,gBAAkBd,EAAce,QAElCyH,EAAMpG,OAASnC,EAAUuC,QACH,UAAlBgG,EAAMlG,WACNmG,EAAOpH,EAAazM,IAEfkM,cAAgBd,EAAc8B,cAGxC,GAAIlN,EAAMkM,gBAAkBd,EAAc8B,SAC7C,GAAI0G,EAAMpG,OAASnC,EAAUuC,OACH,UAAlBgG,EAAMlG,SACNmG,EAAOpH,EAAazM,IACfkM,cAAgBd,EAAc8B,QACV,cAAlB0G,EAAMlG,UACbmG,EAAK3H,cAAgBd,EAAcyD,aAEpC,GAAI+E,EAAMpG,OAASnC,EAAUoC,OAAQ,CAAC,IAAD,IACpCsG,EAAK,UAAG/T,EAAM0L,uBAAT,aAAG,EAAuBpC,OAAOsK,EAAMlG,SAOhD,GANAmG,EAAK9H,YAAcgI,GAAS,EAC5BF,EAAK7H,YAAc4H,EAAMlG,QACzBmG,EAAK5H,cAAe,UAAAjM,EAAM0L,uBAAN,eAAuBrC,UAAW,EACtDwK,EAAK/H,YAAciI,GAAS,EAE5BF,EAAKhI,eACDgI,EAAKhI,aAAegI,EAAKjI,aACzBiI,EAAKnI,gBAAkBmI,EAAKpI,cAAcoI,EAAKhI,cAC/CgI,EAAKxH,UAAYwH,EAAKnI,gBAAgBnC,cACnC,CAGH,IAAIyK,EAASxH,EAAG,cACXwH,IACDxH,EAAG,aAAc,IACjBwH,EAAS,IAEbA,EAAOH,EAAKvH,YAActL,KAAKkD,IAAI2P,EAAK9H,WAAciI,EAAOH,EAAKvH,aAAe,GACjFE,EAAG,aAAewH,GAElBH,EAAK3H,cAAgBd,EAAcuC,gBAGpC3N,EAAMkM,gBAAkBd,EAAcyD,OACzC+E,EAAMpG,OAASnC,EAAUuC,QAA4B,cAAlBgG,EAAMlG,QACzCmG,EAAK3H,cAAgBd,EAAc8B,QACV,UAAlB0G,EAAMlG,WACbmG,EAAOpH,EAAazM,IACfkM,cAAgBd,EAAc8B,SAEhClN,EAAMkM,gBAAkBd,EAAcuC,UACzCiG,EAAMpG,OAASnC,EAAUuC,QAA4B,WAAlBgG,EAAMlG,WACzCmG,EAAOpH,EAAazM,IACfkM,cAAgBd,EAAc8B,SAI3C,OAAO2G,EOFQI,CAAU3T,KAAKN,MAAMiN,UAAW2G,EAAOtT,KAAKiT,aACvDjT,KAAK4B,SAAS,CAAC+K,UAAW4G,M,iCAGnBzQ,GAEP,IAAI8Q,ED5EL,SAAqB9Q,EAAkB6J,GAC1C,KAAI7J,EAAE+Q,UAAYf,GAAO,IAAzB,CAIAA,GAAOhQ,EAAE+Q,UAET,IAAIP,EAAe,CACfpG,KAAMnC,EAAUuC,OAChBF,QAAS,IAGb,GAAe,SAAXtK,EAAEgR,KAEF,OADAR,EAAMlG,QAAU,QACTkG,EAEX,GAAe,SAAXxQ,EAAEgR,KAEF,OADAR,EAAMlG,QAAU,YACTkG,EAEX,GAAe,UAAXxQ,EAAEgR,KAAkB,CACpB,GAAInH,EAAUf,gBAAkBd,EAAce,QAE1C,OADAyH,EAAMlG,QAAU,QACTkG,EACH,GAAI3G,EAAUf,gBAAkBd,EAAc8B,QAClD,SCmDgCmH,CAAYjR,EAAG9C,KAAKN,MAAMiN,gBAC3CuB,IAAf0F,GACA5T,KAAKiT,YAAYW,O,GA3DJhU,IAAMkC,W,kBC4ThBkS,GAlVE,CACb,CACI3I,SAAU,iBACVC,aAAc,EACdJ,UAAW3B,EACX0C,SAAU,oDAEVgI,OAAQ,CACJ,CACIC,KAAM,OACN1K,OAAQ,CACJC,YAAc,CAACrH,IAAK,EAAGC,KAAM,GAC7BqH,YAAa,IACbC,cAAe,EACfC,gBAAiB,EACjBC,UAAW,IAGnB,CACIqK,KAAM,SACN1K,OAAQ,CACJC,YAAc,CAACrH,IAAK,EAAGC,KAAM,GAC7BqH,YAAa,IACbC,cAAe,EACfC,gBAAiB,EACjBC,UAAW,IAGnB,CACIqK,KAAM,OACN1K,OAAQ,CACJC,YAAc,CAACrH,IAAK,EAAGC,KAAM,GAC7BqH,YAAa,IACbC,cAAe,EACfC,gBAAiB,EACjBC,UAAW,KAIvBsK,MAAO,CAAC,EAAG,IAAO,MAGtB,CACI9I,SAAU,cACVC,aAAc,EACdJ,UVwBD,SACH1B,GAaA,IAPD,IAEMC,EAA+CD,EAA/CC,YAAa2K,EAAkC5K,EAAlC4K,aAAcvK,EAAoBL,EAApBK,UAAWK,EAASV,EAATU,MACvCJ,EAAQhE,EAAO2D,EAAYrH,IAAKqH,EAAYpH,MAE5C2H,EAAW,GACXD,EAAS,EACJzF,EAAI,EAAGA,EAAIwF,EAAOxF,IAEvB0F,EAASzF,KAAKuB,EAAOsO,EAAahS,IAAKgS,EAAa/R,OAEpD2H,EAAS1F,IAAM0F,EAAS1F,GAAK4F,EAC7BH,GAAUC,EAAS1F,GAAK,IAG5B,IAAImG,EAAiB,GAYrB,OAXAT,EAASU,SAAQ,SAAAC,GACbF,GAAc,UAAQE,EAAR,cAElBF,EAAiBA,EAAeG,MAAM,GAAI,GAQnC,IAAI/B,EAAS,cAAC,EAAD,CAAUZ,KAAQwC,IAAmBV,GAN5C,SAACpB,EAAeC,GACzB,IAAIiC,EAAWlC,EAAQC,EAAUD,EAAQC,EAAWA,EAASD,EAC7D,OAAOjI,KAAKwJ,MAAiB,IAAXW,KAImDhB,IUzDrEoC,SAAU,oDAEVgI,OAAQ,CACJ,CACIC,KAAM,OACN1K,OAAQ,CACJC,YAAc,CAACrH,IAAK,EAAGC,KAAM,GAC7B+R,aAAc,CAAChS,IAAK,GAAIC,KAAM,IAC9BwH,UAAW,EACXK,MAAO,IAGf,CACIgK,KAAM,OACN1K,OAAQ,CACJC,YAAc,CAACrH,IAAK,EAAGC,KAAM,GAC7B+R,aAAc,CAAChS,IAAK,GAAIC,KAAM,IAC9BwH,UAAW,EACXK,MAAO,KAInBiK,MAAO,CAAC,EAAG,IAAO,MAEtB,CACI9I,SAAU,iBACVC,aAAc,EACdJ,UV+KD,SACH1B,GAIU,IACL0D,EAAmB1D,EAAnB0D,KAAMrD,EAAaL,EAAbK,UACX,GAAa,aAATqD,EAAqB,CACrB,IAAImH,EAAIlL,EAAO,EAAE,GACbkL,EAAI,IAAGA,EAAI,EAAEA,GACjBA,EAAC,SAADA,EAAM,EAAE,GACRA,EAAI3T,KAAKwJ,MAAU,IAAJmK,GAAY,IAC3B,IAAIC,EAAIxO,EAAO,GAAI,IACfiE,EAAM,SAAGsK,EAAGC,GASZ7J,EAAc,WAAO4J,EAAEnE,QAAQ,GAAjB,aAAwBoE,GAC1C,OAAO,IAAIzL,EAAS,cAAC,EAAD,CAAUZ,KAAQwC,IAAoBV,GAT7C,SAACpB,EAAeC,GAEzB,GADAD,EAAK,SAAGA,EAAQ,EAAE2L,GACdtH,MAAMrE,GAAQ,OAAO,EAEzB,IAAIkC,EAAWlC,GADfC,EAASyL,GACwB1L,EAAQC,EAAWA,EAASD,EAE7D,OADAkC,EAAQ,SAARA,EAAY,GACLnK,KAAKwJ,MAAiB,IAAXW,KAGqDhB,GAExE,GAAa,SAATqD,EAAiB,CACxB,IAAImH,EAAIvO,EAAO,GAAI,IACfwO,EAAIxO,EAAO,GAAI,IACfiE,EAAM,SAAGsK,EAAGC,GAUZ7J,EAAc,UAAM4J,EAAN,YAAWC,GAC7B,OAAO,IAAIzL,EAAS,cAAC,EAAD,CAAUZ,KAAQwC,IAAoBV,GAV7C,SAACpB,EAAeC,GACzBD,EAAQjI,KAAK6T,KAAK5L,GAClBC,EAASlI,KAAK6T,KAAK3L,GACnB,IAAI4L,EAAO9T,KAAKsP,IAAIrH,EAAQC,GAC5B,OAAI4L,GAAQ,EAAU,KACjBA,GAAQ,EAEN9T,KAAKwJ,MAAMxJ,KAAKkD,IAAI,IAAa,EAAP4Q,EAAW,OAG2B3K,GAE3E,IAAIwK,EAAIvO,EAAO,GAAK,KAChBwO,EAAIxO,EAAO,GAAK,KAChBiE,EAAM,SAAGsK,EAAGC,GAWZ7J,EAAc,UAAM4J,EAAN,YAAWC,GAC7B,OAAO,IAAIzL,EAAS,cAAC,EAAD,CAAUZ,KAAQwC,IAAoBV,GAX7C,SAACpB,EAAeC,GACzBD,EAAQjI,KAAK6T,KAAK5L,GAClBC,EAASlI,KAAK6T,KAAK3L,GACnB,IAAI4L,EAAO9T,KAAKsP,IAAIrH,EAAQC,GAC5B,OAAI4L,GAAQ,EAAU,KACjBA,GAAQ,EAEN9T,KAAKwJ,MAAMxJ,KAAKkD,IAAI,IAAM4Q,EAAO,OAI+B3K,IUrO3EoC,SAAU,oDAEVgI,OAAQ,CACJ,CACIC,KAAM,WACN1K,OAAQ,CACJ0D,KAAM,WACNrD,UAAW,IAGnB,CACIqK,KAAM,OACN1K,OAAQ,CACJ0D,KAAM,OACNrD,UAAW,IAGnB,CACIqK,KAAM,SACN1K,OAAQ,CACJ0D,KAAM,SACNrD,UAAW,KAIvBsK,MAAO,CAAC,EAAG,KAAO,MAEtB,CACI9I,SAAU,SACVC,aAAc,EACdJ,UVOD,SACH1B,GAKU,IAELiL,EAA6BjL,EAA7BiL,OAAQC,EAAqBlL,EAArBkL,OAAQ7K,EAAaL,EAAbK,UACjBE,EAASjE,EAAO2O,EAAQC,GAExBC,EAAY5K,EAASrJ,KAAKC,GAAK,IAUnC,OAAO,IAAIkI,EAAS,cAAC,EAAD,CAAWpI,MAAOkU,IAAc5K,GARvC,SAACpB,EAAeC,GAEzB,IAAIiC,EAAW,EAA+B,IAA3BnK,KAAKsP,IAAIrH,EAAQC,GAEpC,OADIiC,EAAW,IAAGA,EAAW,GACtBnK,KAAKwJ,MAAiB,IAAXW,KAI8ChB,IU3BhEoC,SAAU,wCAGVgI,OAAQ,CACJ,CACIC,KAAM,aACN1K,OAAQ,CACJiL,OAAQ,EACRC,OAAQ,GACR7K,UAAW,IAInB,CACIqK,KAAM,MACN1K,OAAQ,CACJiL,OAAQ,EACRC,OAAQ,IACR7K,UAAW,KAIvBsK,MAAO,CAAC,EAAG,IAAM,MAErB,CACI9I,SAAU,oBACVC,aAAc,EACdJ,UVID,SACH1B,GAKU,IAEL0H,EAAuB1H,EAAvB0H,IAAKtN,EAAkB4F,EAAlB5F,IAAKiG,EAAaL,EAAbK,UACXE,EAASjE,EAAOoL,EAAKtN,GAczB,OAAO,IAAIiF,EAAS,cAAC,EAAD,CAAoBnD,IAAKqE,EAAQ5G,MAFzC,WAE4D4G,GAZ3D,SAACpB,EAAeC,GAEzB,GAAID,IAAUC,EACV,OAAO,IAGX,IAAIiC,EAAWlC,EAAQC,EAAUD,EAAQC,EAAWA,EAASD,EAC7D,OAAOjI,KAAKwJ,MAAiB,GAAXW,KAKkEhB,IU1BpFoC,SAAU,uCAEVgI,OAAQ,CACJ,CACIC,KAAM,UACN1K,OAAQ,CACJ0H,IAAK,GACLtN,IAAK,GACLiG,UAAW,IAGnB,CACIqK,KAAM,WACN1K,OAAQ,CACJ0H,IAAK,GACLtN,IAAK,IACLiG,UAAW,IAGnB,CACIqK,KAAM,YACN1K,OAAQ,CACJ0H,IAAK,IACLtN,IAAK,IACLiG,UAAW,KAIvBsK,MAAO,CAAC,EAAG,IAAM,MAErB,CACI9I,SAAU,oBACVC,aAAc,EACdJ,UVJD,SACH1B,GAKU,IAEL0H,EAAuB1H,EAAvB0H,IAAKtN,EAAkB4F,EAAlB5F,IAAKiG,EAAaL,EAAbK,UACXE,EAASjE,EAAOoL,EAAKtN,GAUzB,OAAO,IAAIiF,EAAS,cAAC,EAAD,CAAoBnD,IAAKqE,IAAWA,GAR3C,SAACpB,EAAeC,GAGzB,IAAIiC,EAAWlC,EAAQC,EAAUD,EAAQC,EAAWA,EAASD,EAC7D,OAAOjI,KAAKwJ,MAAiB,IAAXW,KAIkDhB,IUdpEoC,SAAU,uCAGVgI,OAAQ,CACJ,CACIC,KAAM,QACN1K,OAAQ,CACJ0H,IAAK,GACLtN,IAAK,GACLiG,UAAW,IAGnB,CACIqK,KAAM,UACN1K,OAAQ,CACJ0H,IAAK,GACLtN,IAAK,GACLiG,UAAW,IAGnB,CACIqK,KAAM,WACN1K,OAAQ,CACJ0H,IAAK,GACLtN,IAAK,IACLiG,UAAW,KAIvBsK,MAAO,CAAC,EAAG,IAAM,MAErB,CACI9I,SAAU,SACVC,aAAc,EACdJ,UVID,SACH1B,GAMU,IAEL/G,EAAsC+G,EAAtC/G,OAAQ4G,EAA8BG,EAA9BH,SAAUlG,EAAoBqG,EAApBrG,MAAO0G,EAAaL,EAAbK,UAC1BE,EAASZ,EAAO1G,EAAQ4G,GAK5B,OAAO,IAAIR,EAAS,cAAC,EAAD,CAAY3F,MAAS6G,EAAQ5G,MAAOA,IAAU4G,GAJrD,SAACpB,EAAeC,GACzB,IAAIiC,EAAWlC,EAAQC,EAAUD,EAAQC,EAAWA,EAASD,EAC7D,OAAOjI,KAAKwJ,MAAiB,IAAXW,KAE4DhB,IUlB9EoC,SAAU,2EAEVgI,OAAQ,CAEJ,CACIC,KAAM,iBACN1K,OAAQ,CACJ/G,OAAQ,EACR4G,SAAU,EACVlG,MAAO,WACP0G,UAAW,IAGnB,CACIqK,KAAM,QACN1K,OAAQ,CACJ/G,OAAQ,EACR4G,SAAU,EACVlG,MAAO,cACP0G,UAAW,IAGnB,CACIqK,KAAM,QACN1K,OAAQ,CACJ/G,OAAQ,GACR4G,SAAU,EACVlG,MAAO,OACP0G,UAAW,KAIvBsK,MAAO,CAAC,EAAG,IAAM,MAGrB,CACI9I,SAAU,OACVC,aAAc,EACdJ,UVxDD,SACH1B,GAMU,IAEL/G,EAAsC+G,EAAtC/G,OAAQ4G,EAA8BG,EAA9BH,SAAUlG,EAAoBqG,EAApBrG,MAAO0G,EAAaL,EAAbK,UAC1BE,EAASZ,EAAO1G,EAAQ4G,GAM5B,OAAO,IAAIR,EAAS,cAAC,EAAD,CAAU3F,MAAS6G,EAAQ5G,MAAOA,IAAU4G,GALnD,SAACpB,EAAeC,GACzB,IAAIiC,EAAWlC,EAAQC,EAAUD,EAAQC,EAAWA,EAASD,EAE7D,OADAkC,EAAWnK,KAAK4C,KAAKuH,GACdnK,KAAKwJ,MAAiB,IAAXW,KAE0DhB,IUyC5EoC,SAAU,6EAGVgI,OAAQ,CAEJ,CACIC,KAAM,UACN1K,OAAQ,CACJ/G,OAAQ,EACR4G,SAAU,EACVlG,MAAO,SACP0G,UAAW,IAGnB,CACIqK,KAAM,WACN1K,OAAQ,CACJ/G,OAAQ,EACR4G,SAAU,EACVlG,MAAO,UACP0G,UAAW,KAIvBsK,MAAO,CAAC,EAAG,IAAM,MAErB,CACI9I,SAAU,QACVC,aAAc,EACdJ,UV7CD,SACH1B,GAMU,IAEL/G,EAAyC+G,EAAzC/G,OAAQ4G,EAAiCG,EAAjCH,SAAUvC,EAAuB0C,EAAvB1C,SAAU+C,EAAaL,EAAbK,UAC7BE,EAASZ,EAAO1G,EAAQ4G,GAExBf,EAAKnG,EAAI,EAAE,GACXoG,EAAKD,EAAKyB,EAMd,OAAO,IAAIlB,EAAS,cAAC,EAAD,CAAcP,GAAMA,EAAIC,GAAMA,EAAIzB,SAAYA,IAAaiD,GAJlE,SAACpB,EAAeC,GACzB,IAAIiC,EAAWlC,EAAQC,EAAUD,EAAQC,EAAWA,EAASD,EAC7D,OAAOjI,KAAKwJ,MAAiB,IAAXW,KAEyEhB,IU2B3FoC,SAAU,gFAGVgI,OAAQ,CAEJ,CACIC,KAAM,WACN1K,OAAQ,CACJ/G,OAAQ,EACR4G,SAAU,EACVvC,UAAU,EACV+C,UAAW,IAGnB,CACIqK,KAAM,gBACN1K,OAAQ,CACJ/G,OAAQ,EACR4G,SAAU,EACVvC,UAAU,EACV+C,UAAW,KAIvBsK,MAAO,CAAC,EAAG,IAAM,OChGVS,G,kDArLX,WAAYtV,GAAkB,IAAD,8BACzB,cAAMA,IAEDI,MAAQ,CACTmV,MAAO,iBACPC,MAAO,OACPjL,UAAW,GAGf,EAAKkL,YAAc,EAAKA,YAAYhV,KAAjB,gBACnB,EAAKiV,gBAAkB,EAAKA,gBAAgBjV,KAArB,gBACvB,EAAKkV,YAAc,EAAKA,YAAYlV,KAAjB,gBACnB,EAAKmV,aAAe,EAAKA,aAAanV,KAAlB,gBACpB,EAAKoV,aAAe,EAAKA,aAAapV,KAAlB,gBAbK,E,qDAiBnB,IAAD,SAEL,IAAKC,KAAKV,MAAM8V,QACZ,OAAO,wBAGX,IAAIC,EAA8B,CAC9B5V,OAAQ,OACRD,MAAO,QACP8V,SAAU,QACVC,OAAQ,IACRC,IAAK,EACLC,MAAO,EACPC,UAAW,SACXC,gBAAiB3V,KAAKV,MAAMqO,MAAMiI,QAElCC,WAAW,aAAD,OAAe7V,KAAKV,MAAMqO,MAAMK,YAG9CqH,EAAaxD,UAAb,UAAyB5R,SAASC,eAAe,iBAAjD,aAAyB,EAAmC4V,aAE5D,IAAIC,EAA8B,CAC9B/N,WAAYhI,KAAKV,MAAMqO,MAAMiE,WAC7BhK,SAAU,OACVoO,OAAQ,OAGRC,EAAcjC,GAAM,GAEpBkC,EAAelC,GAAMnR,KAAI,SAACC,EAAQwB,GAClC,IAAI6R,EAAarT,EAAEuI,WAAa,EAAK3L,MAAMmV,MAM3C,OAJIsB,IACAF,EAAcnT,GAGX,cAACmP,GAAA,EAAD,CAEHlK,MAAS,CAACiO,OAAQ,OAClB9D,QAASiE,EAAa,UAAY,UAClC/D,QAAS,kBAAM,EAAK2C,YAAYjS,EAAEuI,WAJ/B,SAKLvI,EAAEuI,UAJO/G,MAOX8R,EAAcH,EAAY9B,MAAMtR,KAAI,SAACC,EAAQwB,GAC7C,IAAI6R,EAAarT,IAAM,EAAKpD,MAAMmK,UAE9BwM,EAAYvT,EAAI,GAAIA,EAAE,KAAMoN,QAAQ,GAAK,KAAO,YAEpD,OAAO,cAAC+B,GAAA,EAAD,CAGHlK,MAAS,CAACiO,OAAQ,OAClB9D,QAASiE,EAAa,UAAY,UAClC/D,QAAS,kBAAM,EAAK4C,gBAAgBlS,IALjC,SAMLuT,GAJS/R,MAOXgS,EAAeL,EAAYhC,OAAOpR,KAAI,SAACC,EAAOwB,GAC9C,IAAI6R,EAAarT,EAAEoR,OAAS,EAAKxU,MAAMoV,MAGvC,OAAO,cAAC7C,GAAA,EAAD,CAEFlK,MAAS,CAACiO,OAAQ,OACnB9D,QAASiE,EAAa,UAAY,UAClC/D,QAAS,kBAAM,EAAK6C,YAAYnS,EAAEoR,OAJ/B,SAKLpR,EAAEoR,MAJO5P,MAQf,OAEI,sBAAKyD,MAAQsN,EAAb,UACI,qBAAKtN,MAAK,2BAAMgO,GAAN,IAAoBnO,SAAU,SAAxC,+BAEA,qBAAKG,MAAOgO,EAAZ,wBACCK,EAED,qBAAKrO,MAAOgO,EAAZ,wBACCO,EAED,qBAAKvO,MAAOgO,EAAZ,sBACA,cAACQ,GAAA,EAAD,CAAaC,UAAQ,EAArB,SACKN,S,kCAOLO,GACR,GAAIzW,KAAKN,MAAMmV,QAAU4B,EAAzB,CAMA,IAFA,IAAIC,EAAe,GAEVpS,EAAI,EAAGA,EAAI0P,GAAMlP,OAAQR,IAC1B0P,GAAM1P,GAAG+G,WAAaoL,IACtBC,EAAW1C,GAAM1P,IAIzB,IAAIqS,EAAUD,EAASvC,MAAM,GACzByC,EAAWF,EAASzC,OAAO,GAAGC,KAGlClU,KAAK4B,SAAS,CAACiT,MAAO4B,EAAa5M,UAAW8M,EAAS7B,MAAO8B,GAAW5W,KAAKkV,iB,sCAGlE2B,GACR7W,KAAKN,MAAMmK,YAAcgN,GAG7B7W,KAAK4B,SAAS,CAACiI,UAAWgN,GAAW7W,KAAKkV,gB,kCAGlC0B,GACJ5W,KAAKN,MAAMoV,QAAU8B,GAGzB5W,KAAK4B,SAAS,CAACkT,MAAO8B,GAAW5W,KAAKkV,gB,qCAOtC,IADA,IAAIwB,EAAgB,GACXpS,EAAI,EAAGA,EAAI0P,GAAMlP,OAAQR,IAC1B0P,GAAM1P,GAAG+G,WAAarL,KAAKN,MAAMmV,QACjC6B,EAAW1C,GAAM1P,IAIzB,IATW,EASP+G,EAAQ,UAAMrL,KAAKN,MAAMmV,MAAjB,aAA2B7U,KAAKN,MAAMoV,MAAtC,KACRgC,EAAOJ,EAASpL,aAChBJ,EAAYwL,EAASxL,UACrB1B,EAAc,GAZP,eAaGkN,EAASzC,QAbZ,IAaX,2BAA+B,CAAC,IAAvB8C,EAAsB,QACvBA,EAAE7C,OAASlU,KAAKN,MAAMoV,QACtBtL,EAASuN,EAAEvN,SAfR,8BAmBXA,EAAOK,UAAY7J,KAAKN,MAAMmK,UAC9B7J,KAAKV,MAAM0X,cAAc3L,EAAUyL,EAAM5L,EAAW1B,EAAQkN,EAASzK,Y,mCAG5D4I,GAET,IADA,IAAI6B,EAAgB,GACXpS,EAAI,EAAGA,EAAI0P,GAAMlP,OAAQR,IAC1B,UAAG0P,GAAM1P,GAAG+G,SAAZ,aAAyB2I,GAAM1P,GAAG2P,OAAO,GAAGC,KAA5C,OAAwDW,IACxD6B,EAAW1C,GAAM1P,IAGzBuQ,EAAQ6B,EAASrL,SACjB,IAAIyJ,EAAQ4B,EAASzC,OAAO,GAAGC,KAC3BrK,EAAY6M,EAASvC,MAAM,GAC/BnU,KAAK4B,SAAS,CAACiT,QAAOC,QAAOjL,kB,GAlLPjK,IAAMkC,WCmCrBmV,G,uKAzCD,IAAD,OAEDC,EAA6B,CAC7BtJ,WAAY5N,KAAKV,MAAMqO,MAAMiI,QAC7BpW,MAAO,eACPsE,UAAW,SACXkE,WAAYhI,KAAKV,MAAMqO,MAAMiE,WAC7BhK,SAAU,OACVS,MAAOrI,KAAKV,MAAMqO,MAAMK,WAGxBmJ,EAA2B,CAC3B1X,OAAQ,OACRuW,OAAQ,OAIZ,OADIhW,KAAKV,MAAME,MAAQ,MAAK0X,EAAYtP,SAAW,QAG/C,sBAAKG,MAASmP,EAAahO,GAAK,SAAhC,UAEI,sBAAMnB,MAAK,2BAAOmP,GAAP,IAAoBvI,QAAQ,iBAAvC,iCAGA,mBACIyI,UAAU,kBACVrP,MAAK,2BAAOoP,GAAP,IAAkB5G,MAAO,SAC9B6B,QAAW,kBAAM,EAAK9S,MAAM+X,eAAe,WAE/C,mBACID,UAAU,cACVrP,MAAK,2BAAMoP,GAAN,IAAiB5G,MAAO,UAC7B6B,QAAW,kBAAM,EAAK9S,MAAM+X,eAAe,mB,GAjCtCzX,IAAMkC,WCkEhBwV,G,kDA5DX,WAAYhY,GAAkB,IAAD,8BACzB,cAAMA,IAED4V,aAAe,EAAKA,aAAanV,KAAlB,gBAHK,E,qDAOnB,IAAD,SAEwBC,KAAKV,MAA7BqO,EAFA,EAEAA,MAEDuI,GAJC,EAEOc,cAEOhD,GAAMnR,KAAI,SAACC,EAAQwB,GAGlC,OAAO,cAAC2N,GAAA,EAAD,CAEHlK,MAAS,CAACiO,OAAQ,OAClB9D,QAAQ,UACRE,QAAS,kBAAM,EAAK8C,aAAapS,EAAEuI,WAJhC,SAKLvI,EAAEuI,UAJO/G,OAOf,OAAQ,sBAAK4E,GAAG,aAAR,UACJ,qBAAKnB,MAAO,CAACH,SAAU,OAAQI,WAAY2F,EAAMwE,SAAUrO,UAAW,SAAU2L,QAAS,QAAzF,wBAIA,cAAC8G,GAAA,EAAD,CAAaC,UAAQ,EAACzO,MAAO,CAACvI,MAAO,QAArC,SACK0W,S,mCAMArB,GAGT,IADA,IAAI6B,EAAgB,GACXpS,EAAI,EAAGA,EAAI0P,GAAMlP,OAAQR,IAC1B0P,GAAM1P,GAAG+G,WAAawJ,IACtB6B,EAAW1C,GAAM1P,IAGzB,IARwB,EAQpBwQ,EAAQ4B,EAASzC,OAAO,GAAGC,KAE3B7I,EAAQ,UAAMwJ,EAAN,aAAgBC,EAAhB,KACRgC,EAAOJ,EAASpL,aAChBJ,EAAYwL,EAASxL,UACrB1B,EAAc,GAbM,eAcVkN,EAASzC,QAdC,IAcxB,2BAA+B,CAAC,IAAvB8C,EAAsB,QACvBA,EAAE7C,OAASY,IACXtL,EAASuN,EAAEvN,SAhBK,8BAoBxBA,EAAOK,UAAY6M,EAASvC,MAAM,GAElCnU,KAAKV,MAAM0X,cAAc3L,EAAUyL,EAAM5L,EAAW1B,EAAQkN,EAASzK,UAAU,O,GA1D7DrM,IAAMkC,WCX5BoK,GAAKlK,EAAQ,IAgHFuV,G,kDAtGX,WAAYjY,GAAkB,uCACpBA,G,qDAKA,IAAD,EAEL,IAAKU,KAAKV,MAAM8V,QACZ,OAAO,wBAGX,IAAIC,EAA8B,CAC9B5V,OAAQ,OACRD,MAAO,QACP8V,SAAU,QACVC,OAAQ,IACRC,IAAK,EACLgC,KAAM,EACN9B,UAAW,SACXC,gBAAiB3V,KAAKV,MAAMqO,MAAMiI,QAElC6B,YAAY,aAAD,OAAezX,KAAKV,MAAMqO,MAAMK,YAG/CqH,EAAaxD,UAAb,UAAyB5R,SAASC,eAAe,iBAAjD,aAAyB,EAAmC4V,aAE5D,IAAIC,EAA8B,CAC9B/N,WAAYhI,KAAKV,MAAMqO,MAAMiE,WAC7BhK,SAAU,OACVoO,OAAQ,OAER0B,EAA2B,CAC3B1P,WAAYhI,KAAKV,MAAMqO,MAAMwE,SAC7BvK,SAAU,OACVoO,OAAQ,OAOZ,OAEI,sBAAKjO,MAAQsN,EAAb,UACI,qBAAKtN,MAASgO,EAAd,0BAGA,qBAAKhO,MAAS2P,EAAd,iIAGA,uBACA,sBAAK3P,MAAS2P,EAAd,yDACgD,4CADhD,wKAGA,uBACA,qBAAK3P,MAAS2P,EAAd,8HAGA,uBACA,qBAAK3P,MAAS2P,EAAd,iKAGA,uBACA,cAACzF,GAAA,EAAD,CACIlK,MAAS,CAACiO,OAAQ,OAClB9D,QAAU,SACVE,QAAWpS,KAAK2X,aAHpB,mC,qCAuBEvH,OAAOwH,QAAQ,wBAKzB1L,GAAG2L,OAAO,kB,GA9FYjY,IAAMkC,WCIhCoK,GAAKlK,EAAQ,IAqBb2L,GAAe,CAClBC,WAAY,UACZgI,QAAS,UACTkC,UAAW,UACX9J,UAAW,UACX2B,aAAc,cACdiC,WAAY,cACZO,SAAU,aAGP4F,GAA0B,CAC7BnK,WAAYD,GAAMC,WAClB/F,UAAW,QACXQ,MAAOsF,GAAMK,UACbhG,WAAY2F,GAAMwE,UAsHJ6F,IA/GMtX,KAAKC,G,kDAazB,WAAYrB,GAAa,IAAD,8BACvB,cAAMA,IAJP2Y,eAGwB,IAFxBC,gBAEwB,EAGvB,EAAKxY,MAAQ,CACZF,MAAO4Q,OAAOC,WACd5Q,OAAQ2Q,OAAO+H,YACfC,UAAU,EACVC,SAAS,EACTC,aAAa,GAEdlI,OAAOgD,iBAAiB,UAAU,SAACmF,GAClC,EAAK3W,SAAS,CACbnC,OAAQ8Y,EAAGC,cAAcL,YACzB3Y,MAAO+Y,EAAGC,cAAcnI,gBAG1B,EAAKgH,eAAiB,EAAKA,eAAetX,KAApB,gBACtB,EAAKkY,UAAYrY,IAAMC,YACvB,EAAKqY,WAAatY,IAAMC,YACxB,EAAK4Y,eAAiB,EAAKA,eAAe1Y,KAApB,gBAEC,MAAnBmM,GAAG,cACNA,GAAG,YAAc,IAtBK,E,qDA6BpB,OACF,sBAAKnE,MAASgQ,GAAd,UACC,cAAC,GAAD,CAAYpK,MAASA,GAAO0J,eAAkBrX,KAAKqX,eAAgB7X,MAASQ,KAAKN,MAAMF,QACtFQ,KAAKN,MAAM4Y,aAAe,qBAAKvQ,MAAO,CAAC0N,MAAO,EAAGH,SAAU,QAAS1N,SAAU,IAApD,qCAC1B5H,KAAKN,MAAM4Y,aAAe,qBAAKvQ,MAAO,CAACyP,KAAM,EAAGlC,SAAU,QAAS1N,SAAU,IAAnD,qCAC1B5H,KAAKN,MAAM4Y,aAAe,uBAC3B,cAAC,GAAD,CAAiB3K,MAASA,GAAOyH,QAAWpV,KAAKN,MAAM2Y,UACvD,cAAC1H,EAAA,EAAD,UACC,eAACC,EAAA,EAAD,WACC,cAACC,EAAA,EAAD,CAAK6H,GAAI,EAAGC,GAAI,EAAG7H,GAAM,IAGzB,cAACD,EAAA,EAAD,CAAK6H,GAAI,EAAGC,GAAI,GAAI7H,GAAM,GAA1B,SACE9Q,KAAKN,MAAM4Y,YACX,cAAC,GAAD,CAAa3K,MAASA,GAAOqJ,cAAiBhX,KAAKyY,iBACnD,cAAC,GAAD,CAAY9K,MAASA,GAAOhM,IAAO3B,KAAKiY,UAAWzY,MAASQ,KAAKN,MAAMF,UAIzE,cAACqR,EAAA,EAAD,CAAK6H,GAAK,EAAGC,GAAM,EAAG7H,GAAM,SAM7B,cAAC,GAAD,CAAiBnP,IAAO3B,KAAKkY,WAAYvK,MAASA,GAAOqJ,cAAiBhX,KAAKyY,eAAgBrD,QAAWpV,KAAKN,MAAM0Y,gB,qCAQ1GQ,GACD,UAATA,EACH5Y,KAAK4B,UAAS,kBAAiB,CAC9BwW,UADa,EAAEA,SAEfC,SAAS,MAES,SAATO,GACV5Y,KAAK4B,UAAS,kBAAgB,CAC7ByW,SADa,EAAEA,QAEfD,UAAU,Q,qCAME/M,EAAkByL,EAAc5L,EAAgB1B,EAAayC,GAA4C,IAAD,SAAzB4M,EAAyB,wDAClH7Y,KAAKN,MAAM4Y,aACdtY,KAAK4B,SAAS,CAAC0W,aAAa,IAC5B,WACuB,IAAD,EAAjBO,IACH,YAAKX,WAAW7X,eAAhB,SAAyB8U,aAAa9J,IAEvC,EAAKoN,eAAepN,EAAUyL,EAAM5L,EAAW1B,EAAQyC,MAGzD,IAAIU,EAAY,IAAI1B,EACpB0B,EAAUtB,SAAWA,EACrBsB,EAAUrB,aAAewL,EACzBnK,EAAUzB,UAAYA,EACtByB,EAAUb,gBAAiBtC,EAC3BmD,EAAUX,WAAV,UAA0BX,EAA1B,YAAsC7B,EAAOK,WAC7C8C,EAAUV,SAAWA,EACrB,UAAAjM,KAAKiY,UAAU5X,eAAf,SAAwByY,aAAanM,O,GAnGrB/M,IAAMkC,YC7DxBiX,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFhZ,SAASC,eAAe,W","file":"static/js/main.5441e80e.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Theme } from \"../App\";\r\n\r\ntype stateType = {\r\n    remUpdates: number,\r\n\r\n}\r\n\r\ntype propType = {angle: number}\r\n\r\nclass AngleView extends React.Component<propType, stateType> {\r\n    \r\n\r\n    canvasRef: React.RefObject<HTMLCanvasElement>\r\n    width: number = 300\r\n    height: number = 300\r\n    constructor(props: propType) {\r\n        super(props)\r\n        this.state = {\r\n            remUpdates: 1\r\n        }\r\n        this.canvasRef = React.createRef();\r\n        this.update = this.update.bind(this);\r\n    }\r\n    \r\n\r\n    render() {\r\n\r\n       \r\n        this.width = document.getElementById('centerview')?.clientWidth || 300;\r\n        this.height = this.width * 0.45;\r\n        let ctx = this.canvasRef.current?.getContext('2d')\r\n        let cx = this.width / 2\r\n        let cy = this.props.angle < Math.PI ? this.height * 0.9 : this.height * 0.2\r\n        if (ctx) {\r\n\r\n            ctx.fillStyle = '#222831'\r\n            ctx.fillRect(0,0,this.width, this.height)\r\n\r\n            ctx.strokeStyle = '#eeeeee'\r\n            ctx.lineWidth = this.width /150\r\n            ctx.beginPath()\r\n            let radius = this.width * 0.35\r\n            let innerRad = radius * 0.2\r\n            ctx.moveTo(cx,cy)\r\n            ctx.lineTo(cx + radius, cy)\r\n            ctx.moveTo(cx,cy);\r\n\r\n            let x = radius * Math.cos(this.props.angle)\r\n            let y = radius * Math.sin(this.props.angle)\r\n\r\n            ctx.lineTo(cx + x , cy - y)\r\n\r\n\r\n            ctx.moveTo(cx,cy)\r\n            \r\n            ctx.arc(cx,cy, innerRad, -this.props.angle , 0)\r\n\r\n            ctx.stroke()\r\n        }\r\n\r\n        this.update();\r\n\r\n\r\n\r\n        return <canvas width = {this.width} height = {this.height} ref = {this.canvasRef}/>\r\n    }\r\n\r\n\r\n\r\n    update() {\r\n        if (this.state.remUpdates <= 0) {\r\n            return\r\n        }\r\n        \r\n        this.setState((state) => ({remUpdates: state.remUpdates - 1}));\r\n        setTimeout(this.update, 16.67);\r\n    }\r\n}\r\n\r\nexport default AngleView","import React from \"react\";\r\nvar convexHull = require('graham-scan-convex-hull');\r\nvar PolygonTools = require('polygon-tools')\r\nvar pt = PolygonTools.polygon\r\n\r\ntype stateType = {\r\n    remUpdates: number\r\n}\r\n\r\ntype propType = {\r\n    ratio: number,\r\n    shape: string\r\n}\r\n\r\nclass AreaView extends React.Component<propType, stateType> {\r\n    \r\n\r\n    canvasRef: React.RefObject<HTMLCanvasElement>\r\n    width: number = 300\r\n    height: number = 300\r\n    constructor(props: propType) {\r\n        super(props)\r\n        this.state = {\r\n            remUpdates: 1\r\n        }\r\n        this.canvasRef = React.createRef();\r\n        this.update = this.update.bind(this);\r\n        this.drawCircle = this.drawCircle.bind(this)\r\n        this.drawPoly = this.drawPoly.bind(this)\r\n    }\r\n    \r\n\r\n    render() {\r\n\r\n        let  {ratio, shape} = this.props\r\n\r\n        this.width = document.getElementById('centerview')?.clientWidth || 300;\r\n        this.height = this.width * 0.45;\r\n        let ctx = this.canvasRef.current?.getContext('2d')\r\n        if (ctx) {\r\n            ctx.fillStyle = '#222831'\r\n            ctx.fillRect(0,0,this.width, this.height)\r\n\r\n            ctx.lineWidth = this.width / 200\r\n            if (shape === 'circle') {\r\n                this.drawCircle(ctx, ratio)\r\n            } else if (shape === 'polygon') {\r\n                this.drawPoly(ctx, ratio)\r\n            }\r\n        }\r\n\r\n        this.update();\r\n\r\n\r\n\r\n        return <canvas width = {this.width} height = {this.height} ref = {this.canvasRef}/>\r\n    }\r\n    \r\n    \r\n    drawCircle(ctx: CanvasRenderingContext2D, ratio: number) {\r\n        let side = this.height;\r\n        \r\n        let r1 = side * 0.45\r\n        let r2 = r1 * Math.sqrt(ratio)\r\n        \r\n        if (r2 > r1) {\r\n            let tmp = r1\r\n            r1 = r1 * r1 / r2\r\n            r2 = tmp\r\n        }\r\n        \r\n        let x1 = this.width / 4\r\n        let x2 = this.width * 0.75\r\n        let y = this.height / 2\r\n        \r\n        ctx.beginPath()\r\n        ctx.strokeStyle = '#eeeeee'\r\n        ctx.arc(x1,y,r1, 0, 2* Math.PI)\r\n        ctx.stroke()\r\n        ctx.closePath()\r\n        \r\n        let textSize = r1 / 2 \r\n        textSize = Math.max(textSize, 20)\r\n        \r\n        ctx.font = `${textSize}px Roboto Mono`;\r\n        ctx.fillStyle = \"#eeeeee\";\r\n        ctx.textAlign = \"center\";\r\n        ctx.fillText(\"1\", x1, y + textSize /3 + (textSize > r1*2 ? r1 * 3 : 0) );\r\n        \r\n        ctx.beginPath()\r\n        ctx.strokeStyle = '#ffc107'\r\n        ctx.arc(x2,y,r2, 0, 2* Math.PI)\r\n        ctx.stroke()\r\n        ctx.closePath()\r\n        \r\n        textSize = r2 / 2\r\n        textSize = Math.max(textSize, 20)\r\n        \r\n        \r\n        \r\n        ctx.font = `${textSize}px Roboto Mono`;\r\n        ctx.fillStyle = \"#ffc107\";\r\n        ctx.textAlign = \"center\";\r\n        ctx.fillText(\"?\", x2, y + textSize /3 + (textSize > r2*2 ? r2 * 3 : 0) );\r\n    }\r\n    drawPoly(ctx: CanvasRenderingContext2D, ratio: number) {\r\n        \r\n        let segW = this.width / 2\r\n        let segH = this.height\r\n\r\n        let poly = randomPolygon(segW, segH)\r\n        let area = pt.area(poly)\r\n        let r = Math.sqrt(area/(ratio * Math.PI))\r\n        if (2*r > segH) {\r\n            let scale = segH / (2*r) * 0.95\r\n            r = segH * 0.95 / 2\r\n            poly = scalePoly(poly, scale)\r\n        }\r\n\r\n        if (ratio < 1) {\r\n            poly = centerPoly(poly, segW * 1.5, segH / 2)\r\n        } else {\r\n            let [x,y] = pt.centroid(poly)\r\n            poly = centerPoly(poly, x + segW, y)\r\n        }\r\n\r\n        area = pt.area(poly)\r\n\r\n        let x1 = segW / 2\r\n        let y = segH / 2\r\n    \r\n\r\n        ctx.beginPath()\r\n        ctx.strokeStyle = '#eeeeee'\r\n        ctx.arc(x1,y,r, 0, 2* Math.PI)\r\n        ctx.stroke()\r\n        ctx.closePath()\r\n        \r\n        let textSize = r / 2 \r\n        textSize = Math.max(textSize, 20)\r\n        \r\n        ctx.font = `${textSize}px Roboto Mono`;\r\n        ctx.fillStyle = \"#eeeeee\";\r\n        ctx.textAlign = \"center\";\r\n        ctx.fillText(\"1\", x1, y + textSize /3 + (textSize > r*2 ? r * 3 : 0) );\r\n\r\n        ctx.beginPath()\r\n        ctx.strokeStyle = '#ffc107'\r\n        ctx.moveTo(poly[0][0], poly[0][1])\r\n        for (let i = 1; i < poly.length; i++) {\r\n            ctx.lineTo(poly[i][0], poly[i][1])\r\n        }\r\n        ctx.lineTo(poly[0][0], poly[0][1])\r\n        ctx.closePath()\r\n        \r\n        ctx.stroke()\r\n\r\n        textSize = 20\r\n        let [x2,y2] = pt.centroid(poly)\r\n        \r\n        ctx.font = `${textSize}px Roboto Mono`;\r\n        ctx.fillStyle = \"#ffc107\";\r\n        ctx.textAlign = \"center\";\r\n        ctx.fillText(\"?\", x2, y2 + textSize /3 );\r\n\r\n\r\n        \r\n    }\r\n    \r\n    update() {\r\n        if (this.state.remUpdates <= 0) {\r\n            return\r\n        }\r\n        \r\n        this.setState((state) => ({remUpdates: state.remUpdates - 1}));\r\n        setTimeout(this.update, 16.67);\r\n    }\r\n}\r\n\r\nfunction rng(low: number, high: number) : number {\r\n    return low + Math.random() * (high - low);\r\n}\r\n\r\nfunction randomPolygon(limX: number, limY: number, numPts = 10): number[][] {\r\n    let pts = []\r\n    for (let i = 0; i < numPts; i++) {\r\n        pts.push([rng(0, limX), rng(0,limY)])\r\n    }\r\n    pts = convexHull(pts)\r\n    return pts\r\n}   \r\nfunction scalePoly(pts: number[][] , scale: number): number[][] {\r\n    return pts.map(e => e.map(f => f*scale))\r\n}\r\n\r\nfunction centerPoly(pts: number[][] , x: number, y: number): number[][] {\r\n\r\n    let center = pt.centroid(pts)\r\n    let offsetX = x - center[0];\r\n    let offsetY = y -  center[1] \r\n\r\n    return pts.map(e => [e[0] + offsetX, e[1] + offsetY])\r\n\r\n}\r\n\r\nexport default AreaView","import React from \"react\";\r\nimport { Theme } from \"../App\";\r\n\r\n\r\ntype propType = {num: number, width?: number}\r\n\r\nfunction rngInt(low: number, high: number) : number {\r\n    return low + Math.floor(Math.random() * (high - low + 0.99999));\r\n}\r\n\r\ntype Pos = {\r\n    x: number,\r\n    y: number,\r\n    dx: number,\r\n    dy: number,\r\n}\r\n\r\nfunction update(p: Pos, w: number, h: number): Pos {\r\n    let {x,y,dx,dy} = p\r\n    if (x + dx < 0 || x + dx > w) dx = -dx\r\n    if (y + dy < 0 || y + dy > h) dy = -dy\r\n    x += dx\r\n    y += dy\r\n    return {x,y,dx,dy}\r\n}\r\n\r\nclass CountingMovingView extends React.Component<propType, {}> {\r\n    \r\n    animtaionId: number = 0\r\n\r\n    canvasRef: React.RefObject<HTMLCanvasElement>\r\n    ctx: CanvasRenderingContext2D | null | undefined = null\r\n    width: number = 300\r\n    height: number = 300\r\n    particles: Pos[] = []\r\n    constructor(props: propType) {\r\n        super(props)\r\n        this.canvasRef = React.createRef();\r\n        this.updatePositions = this.updatePositions.bind(this);\r\n        this.generateParticles = this.generateParticles.bind(this)\r\n        \r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        let {num} = this.props\r\n        \r\n        this.width = this.props.width || document.getElementById('centerview')?.clientWidth || 300;\r\n        this.height = this.width * 0.40;\r\n        this.ctx = this.canvasRef.current?.getContext('2d')\r\n\r\n        if (this.particles.length !== num) {\r\n            this.generateParticles(num)\r\n        }\r\n\r\n        cancelAnimationFrame(this.animtaionId)\r\n\r\n        this.updatePositions()\r\n\r\n\r\n        return <canvas width = {this.width} height = {this.height} ref = {this.canvasRef}/>\r\n    }\r\n\r\n    updatePositions() {\r\n        let {num} = this.props\r\n        if (this.particles.length !== num) {\r\n            this.generateParticles(this.props.num)\r\n        }\r\n\r\n        let r = this.props.num <= 80 ? 7 : 4\r\n        if (!this.ctx) {\r\n            this.ctx = this.canvasRef.current?.getContext('2d')\r\n        }\r\n        let ctx = this.ctx\r\n\r\n        if (ctx) {\r\n\r\n            ctx.fillStyle = '#222831'\r\n            ctx.fillRect(0,0,this.width, this.height)\r\n\r\n            ctx.fillStyle = '#eeeeee'\r\n\r\n            for (let i = 0; i < this.props.num; i++) {\r\n                this.drawCircle(ctx, this.particles[i].x, this.particles[i].y, r)\r\n                this.particles[i] = update(this.particles[i], this.width, this.height)\r\n            }\r\n\r\n\r\n        }\r\n        this.animtaionId = requestAnimationFrame(this.updatePositions)\r\n    }\r\n\r\n    drawCircle(ctx: CanvasRenderingContext2D , x: number, y: number, r: number) {\r\n       \r\n        \r\n\r\n        ctx.beginPath()\r\n        ctx.arc(x,y,r, 0, 2* Math.PI)\r\n        ctx.fill()\r\n        ctx.closePath()\r\n\r\n    }\r\n\r\n    generateParticles(num: number) {\r\n        this.particles = []\r\n        for (let i = 0; i < num; i++) {\r\n            let x = rng(0, this.width)\r\n            let y = rng(0, this.height)\r\n            let dx = rng(-5,5)\r\n            let dy = rng(-5,5)\r\n            this.particles.push({x,y,dx,dy})\r\n        }\r\n    }\r\n}\r\n\r\nfunction rng(low: number, high: number) : number {\r\n    return low + Math.random() * (high - low);\r\n}\r\n\r\nexport default CountingMovingView","import React from \"react\";\r\nimport { Theme } from \"../App\";\r\n\r\ntype stateType = {\r\n    remUpdates: number\r\n}\r\n\r\ntype propType = {num: number, shape: string, width?: number}\r\n\r\nfunction rngInt(low: number, high: number) : number {\r\n    return low + Math.floor(Math.random() * (high - low + 0.99999));\r\n}\r\n\r\n\r\nclass CountingStaticView extends React.Component<propType, stateType> {\r\n    \r\n    canvasRef: React.RefObject<HTMLCanvasElement>\r\n    width: number = 300\r\n    height: number = 300\r\n    constructor(props: propType) {\r\n        super(props)\r\n        this.state = {\r\n            remUpdates: 1\r\n        }\r\n        this.canvasRef = React.createRef();\r\n        this.update = this.update.bind(this);\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        let {num} = this.props\r\n        let gridW = num < 100 ? 50 : 80\r\n        let gridH = num < 100 ? 20 : 32\r\n        \r\n        this.width = this.props.width || document.getElementById('centerview')?.clientWidth || 300;\r\n        this.height = this.width * 0.40;\r\n\r\n        \r\n        let ctx = this.canvasRef.current?.getContext('2d')\r\n        if (ctx) {\r\n\r\n            ctx.fillStyle = '#222831'\r\n            ctx.fillRect(0,0,this.width, this.height)\r\n\r\n            ctx.fillStyle = '#eeeeee'\r\n            let filled: boolean[][] = new Array(gridH)\r\n                .fill(false)\r\n                .map(() => new Array(gridW)\r\n                .fill(false));\r\n\r\n            \r\n\r\n            let cnt = 0\r\n            let drawFunction = this.props.shape === 'square'? this.drawSquare : this.drawCircle\r\n            while (cnt < this.props.num) {\r\n\r\n                let r = rngInt(0, gridH - 1)\r\n                let c = rngInt(0, gridW - 1)\r\n                if (filled[r][c]) continue\r\n\r\n                filled[r][c] = true\r\n\r\n                drawFunction(ctx, gridW, gridH, r, c, this.width, this.height)\r\n\r\n                cnt++\r\n            }\r\n\r\n        }\r\n\r\n        this.update();\r\n\r\n\r\n\r\n        return <canvas width = {this.width} height = {this.height} ref = {this.canvasRef}/>\r\n    }\r\n\r\n    update() {\r\n        if (this.state.remUpdates <= 0) {\r\n            return\r\n        }\r\n        \r\n        this.setState((state) => ({remUpdates: state.remUpdates - 1}));\r\n        setTimeout(this.update, 16.67);\r\n    }\r\n\r\n    drawCircle(ctx: CanvasRenderingContext2D , gridW: number, gridH: number, r: number, c: number, w: number, h: number) {\r\n       \r\n        \r\n\r\n        let cellsize = w / (gridW + 1)\r\n        \r\n        let x = c * cellsize\r\n        let y = r * cellsize\r\n\r\n        x += cellsize / 2\r\n        y += cellsize / 2\r\n\r\n        \r\n\r\n        ctx.beginPath()\r\n        ctx.arc(x,y,cellsize / 2 * 0.9, 0, 2* Math.PI)\r\n        ctx.fill()\r\n        ctx.closePath()\r\n\r\n    }\r\n\r\n    drawSquare(ctx: CanvasRenderingContext2D , gridsize: number, r: number, c: number, w: number, h: number) {\r\n        let cellsize = w / (gridsize + 1)\r\n        \r\n        let x = c * cellsize\r\n        let y = r * cellsize\r\n        x += cellsize * (gridsize - r - 1) / gridsize;\r\n        y += cellsize * (c) / gridsize\r\n\r\n        x += cellsize / 2\r\n        y += cellsize / 2\r\n\r\n        \r\n\r\n        ctx.beginPath()\r\n        ctx.fillRect(x,y,cellsize, cellsize)\r\n        ctx.closePath()\r\n\r\n    }\r\n}\r\n\r\nexport default CountingStaticView","import { SSL_OP_NO_QUERY_MTU } from \"constants\";\r\nimport React from \"react\";\r\n\r\ntype stateType = {\r\n    remUpdates: number\r\n}\r\n\r\ntype propType = {\r\n    ratio: number,\r\n    shape: string\r\n}\r\n\r\nclass LengthView extends React.Component<propType, stateType> {\r\n    \r\n\r\n    canvasRef: React.RefObject<HTMLCanvasElement>\r\n    width: number = 300\r\n    height: number = 300\r\n    constructor(props: propType) {\r\n        super(props)\r\n        this.state = {\r\n            remUpdates: 1\r\n        }\r\n        this.canvasRef = React.createRef();\r\n        this.update = this.update.bind(this);\r\n        this.parallel = this.parallel.bind(this)\r\n        this.path = this.path.bind(this)\r\n        this.singleLines = this.singleLines.bind(this)\r\n    }\r\n    \r\n\r\n    render() {\r\n\r\n        let  {ratio, shape} = this.props\r\n\r\n        this.width = document.getElementById('centerview')?.clientWidth || 300;\r\n        this.height = this.width * 0.45;\r\n        let ctx = this.canvasRef.current?.getContext('2d')\r\n        if (ctx) {\r\n            ctx.fillStyle = '#222831'\r\n            ctx.fillRect(0,0,this.width, this.height)\r\n\r\n            ctx.lineWidth = this.width / 200\r\n            if (shape === 'parallel') {\r\n                this.parallel(ctx, ratio)\r\n            } else if (shape === 'singlelines') {\r\n                this.singleLines(ctx, ratio)\r\n            } else if (shape === 'path') {\r\n                this.path(ctx, ratio)\r\n            }\r\n        }\r\n\r\n        this.update();\r\n\r\n\r\n\r\n        return <canvas width = {this.width} height = {this.height} ref = {this.canvasRef}/>\r\n    }\r\n    parallel(ctx: CanvasRenderingContext2D, ratio: number) {\r\n        \r\n        let semiH = this.height / 2\r\n        let l1 = this.width * 0.9;\r\n        let l2 = l1 * ratio\r\n        if (ratio > 1) {\r\n            let tmp = l1;\r\n            l1 /= ratio\r\n            l2 = tmp\r\n        }\r\n\r\n\r\n        this.poltLines(ctx, [0,semiH*0.8, l1, semiH *0.8],[0, semiH * 1.2, l2, semiH* 1.2])\r\n    }\r\n\r\n    path(ctx: CanvasRenderingContext2D, ratio: number) {\r\n        let pathLen: number = 0\r\n        ctx.strokeStyle = '#ffc107'\r\n        ctx.beginPath()\r\n\r\n        \r\n        let [x1, y1] = [rng(this.width * 0.05, this.width * 0.95), rng(this.height * 0.05, this.height * 0.95)]\r\n        ctx.moveTo(x1,y1)\r\n        while (pathLen/ratio < this.width / 8) {\r\n            let [x2, y2] = [rng(this.width * 0.05, this.width * 0.95), rng(this.height * 0.05, this.height * 0.95)]\r\n\r\n            ctx.lineTo(x2,y2)\r\n            pathLen += dist(x1,y1,x2,y2)\r\n            x1 = x2\r\n            y1 = y2\r\n        }\r\n        ctx.stroke()\r\n\r\n        ctx.closePath()\r\n        let lineLen = pathLen / ratio\r\n        \r\n        ctx.strokeStyle = '#eeeeee'\r\n        ctx.beginPath()\r\n        ctx.moveTo(this.width * 0.05, this.width* 0.05)\r\n        ctx.lineTo(this.width* 0.05 + lineLen, this.width * 0.05)    \r\n        ctx.stroke()\r\n\r\n        ctx.closePath()\r\n        let textSize = 20\r\n        ctx.font = `${textSize}px Roboto Mono`;\r\n        ctx.fillStyle = \"#eeeeee\";\r\n        ctx.textAlign = \"center\";\r\n        ctx.fillText(\"1\", this.width* 0.05 + lineLen + 10, this.width * 0.05 + textSize /3);\r\n        \r\n    }\r\n\r\n    \r\n\r\n    singleLines(ctx: CanvasRenderingContext2D, ratio: number) {\r\n\r\n        let swap = ratio > 1\r\n        if (ratio > 1) {\r\n            ratio = 1/ratio\r\n        }   \r\n            \r\n        \r\n        let len1 = 0\r\n        let l1: number[] = [], l2: number[] = []\r\n        while (len1 < this.width / 2) {\r\n            let [x1, y1] = [rng(this.width * 0.05, this.width * 0.95), rng(this.height * 0.05, this.height * 0.95)]\r\n            let [x2, y2] = [rng(this.width * 0.05, this.width * 0.95), rng(this.height * 0.05, this.height * 0.95)]\r\n            len1 = dist(x1,y1,x2,y2)\r\n            l1 = [x1,y1,x2,y2]\r\n        }\r\n        if (l1[2] < l1[0]) {\r\n            [l1[2], l1[3], l1[0], l1[1]] = [l1[0], l1[1] , l1[2], l1[3]]\r\n        }\r\n        let len2 = len1 * ratio\r\n        let tmp = 0\r\n        \r\n        while (tmp < len2) {\r\n            let [x1, y1] = [rng(this.width * 0.05, this.width * 0.95), rng(this.height * 0.05, this.height * 0.95)]\r\n            let [x2, y2] = [rng(this.width * 0.05, this.width * 0.95), rng(this.height * 0.05, this.height * 0.95)]\r\n            tmp = dist(x1,y1,x2,y2)\r\n            l2 = [x1,y1,x2,y2]\r\n        }\r\n\r\n        if (l2[2] < l2[0]) {\r\n            [l2[2], l2[3], l2[0], l2[1]] = [l2[0], l2[1] , l2[2], l2[3]]\r\n        }\r\n\r\n        let scale = len2 / tmp\r\n        l2[2] = l2[0] + (l2[2] - l2[0]) * scale\r\n        l2[3] = l2[1] + (l2[3] - l2[1]) * scale\r\n\r\n        if (swap) {\r\n            [l1 , l2] = [l2 , l1]\r\n        }\r\n    }\r\n\r\n    poltLines(ctx: CanvasRenderingContext2D, l1: number[], l2: number[]) {\r\n\r\n        let textSize = 20\r\n        ctx.font = `${textSize}px Roboto Mono`;\r\n        ctx.textAlign = \"center\";\r\n\r\n        ctx.strokeStyle = '#eeeeee'\r\n        ctx.fillStyle = \"#eeeeee\";\r\n        ctx.beginPath()\r\n        ctx.moveTo(l1[0], l1[1])\r\n        ctx.lineTo(l1[2], l1[3])\r\n        ctx.stroke()\r\n        ctx.closePath()\r\n        ctx.fillText(\"1\", l1[2] + 10, l1[3] + textSize /3);\r\n\r\n        \r\n\r\n\r\n        ctx.strokeStyle = '#ffc107'\r\n        ctx.fillStyle = '#ffc107'\r\n        ctx.beginPath()\r\n        ctx.moveTo(l2[0], l2[1])\r\n        ctx.lineTo(l2[2], l2[3])\r\n        ctx.stroke()\r\n        ctx.closePath()\r\n        ctx.fillText(\"?\", l2[2] + 10, l2[3] + textSize /3);\r\n    }\r\n    \r\n    \r\n    \r\n    update() {\r\n        if (this.state.remUpdates <= 0) {\r\n            return\r\n        }\r\n        \r\n        this.setState((state) => ({remUpdates: state.remUpdates - 1}));\r\n        setTimeout(this.update, 16.67);\r\n    }\r\n}\r\n\r\nfunction rng(low: number, high: number) : number {\r\n    return low + Math.random() * (high - low);\r\n}\r\nfunction dist(x1: number, y1: number, x2: number, y2: number) : number {\r\n    return Math.sqrt((x1-x2)**2 + (y1-y2)**2)\r\n}\r\n\r\n// function randomPolygon(limX: number, limY: number, numPts = 10): number[][] {\r\n//     let pts = []\r\n//     for (let i = 0; i < numPts; i++) {\r\n//         pts.push([rng(0, limX), rng(0,limY)])\r\n//     }\r\n//     pts = convexHull(pts)\r\n//     return pts\r\n// }   \r\n// function scalePoly(pts: number[][] , scale: number): number[][] {\r\n//     return pts.map(e => e.map(f => f*scale))\r\n// }\r\n\r\n// function centerPoly(pts: number[][] , x: number, y: number): number[][] {\r\n\r\n//     let center = pt.centroid(pts)\r\n//     let offsetX = x - center[0];\r\n//     let offsetY = y -  center[1] \r\n\r\n//     return pts.map(e => [e[0] + offsetX, e[1] + offsetY])\r\n\r\n// }\r\n\r\nexport default LengthView","import React, { CSSProperties } from \"react\";\r\n// @ts-ignore\r\nimport { Textfit } from 'react-textfit';\r\n\r\n\r\nclass TextView extends React.Component<{text: string}, {}> {\r\n\r\n    render() {\r\n\r\n        let fontStyle: CSSProperties = {\r\n            fontSize: 45,\r\n            textAlign: \"center\" as const,\r\n            minHeight: 100\r\n        }\r\n        return (\r\n        <Textfit max={fontStyle.fontSize} mode = {'single'} style = {{...fontStyle, fontFamily: 'Roboto Mono'}}>\r\n            {this.props.text}\r\n        </Textfit>)\r\n    }\r\n\r\n}\r\n\r\nexport default TextView","import React from \"react\";\r\nimport { Theme } from \"../App\";\r\n\r\n\r\ntype propType = {\r\n\r\n    time: number\r\n    reference: boolean,   \r\n    width?: number\r\n}\r\n\r\n\r\nclass TimeView extends React.Component<propType, {x: boolean}> {\r\n    \r\n    animtaionId: number = 0\r\n\r\n    canvasRef: React.RefObject<HTMLCanvasElement>\r\n    ctx: CanvasRenderingContext2D | null | undefined = null\r\n    width: number = 300\r\n    height: number = 300\r\n    startedAnim: boolean = false\r\n    x1: number = 0\r\n    y1: number = 0\r\n    x2: number = 0\r\n    y2: number = 0\r\n    r: number = 0\r\n\r\n\r\n    constructor(props: propType) {\r\n        super(props)\r\n        this.canvasRef = React.createRef();\r\n        this.state = {x : false}\r\n        \r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        \r\n        \r\n        this.width = this.props.width || document.getElementById('centerview')?.clientWidth || 300;\r\n        this.height = this.width * 0.40;\r\n        let ctx = this.canvasRef.current?.getContext('2d')\r\n        \r\n        \r\n        \r\n        if (this.props.reference) {\r\n            this.x1 = this.width / 4\r\n            this.y1 = this.height / 2\r\n            this.x2  =this.width * 3/4\r\n            this.y2 = this.height / 2\r\n        } else {\r\n            this.x2 = this.width / 2\r\n            this.y2 = this.height / 2\r\n        }\r\n        this.r = this.width / 6\r\n        console.log(this.width, this.height, ctx)\r\n        if (ctx) {\r\n            if (!this.startedAnim) {\r\n                ctx.fillStyle = '#222831'\r\n                ctx.fillRect(0,0,this.width, this.height)\r\n                let textSize = 20\r\n                ctx.font = `${textSize}px Roboto Mono`;\r\n                ctx.textAlign = \"center\";  \r\n                ctx.fillStyle = '#eeeeee'\r\n                ctx.fillText('Get ready...' , this.width / 2, this.height / 2)  \r\n                \r\n                setTimeout(() => {\r\n                    if (!ctx) return\r\n                    ctx.fillStyle = '#222831'\r\n                    ctx.fillRect(0,0,this.width, this.height)\r\n                    ctx.fillStyle = '#ffc107'\r\n                    ctx.beginPath()\r\n                    ctx.arc(this.x2,this.y2,this.r,0,2 * Math.PI)\r\n                    ctx.fill()\r\n                    ctx.closePath()\r\n                    if (!this.props.reference) return\r\n                    ctx.fillStyle = '#eeeeee'\r\n                    ctx.beginPath()\r\n                    ctx.arc(this.x1,this.y1,this.r,0,2 * Math.PI)\r\n                    ctx.fill()\r\n                    ctx.closePath()\r\n                }, 3000)\r\n                if (this.props.reference) {\r\n                    setTimeout(() => {\r\n                        if (!ctx) return\r\n                        ctx.fillStyle = '#222831'\r\n                        ctx.fillRect(0,0,this.width, this.height)\r\n                        ctx.fillStyle = '#ffc107'\r\n                        ctx.beginPath()\r\n                        ctx.arc(this.x2,this.y2,this.r,0,2 * Math.PI)\r\n                        ctx.fill()\r\n                        ctx.closePath()\r\n                        \r\n                        ctx.fillStyle = '#eeeeee'\r\n                        ctx.lineWidth = this.width / 100\r\n                        ctx.beginPath()\r\n                        ctx.arc(this.x1,this.y1,this.r,0,2 * Math.PI)\r\n                        ctx.stroke()\r\n                        ctx.fillText('1 sec' , this.x1, this.y1 + textSize / 3)  \r\n                        ctx.closePath()\r\n                    }, 4000)\r\n                }\r\n    \r\n                setTimeout(() => {\r\n                    if (!ctx) return\r\n                    ctx.fillStyle = '#222831'\r\n                    ctx.fillRect(0,0,this.width, this.height)\r\n                    ctx.fillStyle = '#ffc107'\r\n                    ctx.lineWidth = this.width / 100\r\n                    ctx.beginPath()\r\n                    ctx.arc(this.x2,this.y2,this.r,0,Math.PI * 2)\r\n                    ctx.stroke()\r\n                    ctx.fillText('? sec' , this.x2, this.y2 + textSize / 3)  \r\n                    ctx.closePath()\r\n                    \r\n                    if (!this.props.reference) return\r\n                    ctx.fillStyle = '#eeeeee'\r\n                    ctx.lineWidth = this.width / 100\r\n                    ctx.beginPath()\r\n                    ctx.arc(this.x1,this.y1,this.r,0,Math.PI * 2)\r\n                    ctx.stroke()\r\n                    ctx.fillText('1 sec' , this.x1, this.y1 + textSize / 3)  \r\n                    ctx.closePath()\r\n                }, 3000 + this.props.time)\r\n            }\r\n            this.startedAnim = true\r\n        }\r\n\r\n        if (!this.state.x) {\r\n            setTimeout(() => this.setState({x: true}), 1)\r\n        }\r\n        \r\n\r\n        return <canvas width = {this.width} height = {this.height} ref = {this.canvasRef}/>\r\n    }\r\n\r\n    // drawCircle(ctx: CanvasRenderingContext2D , x: number, y: number, r: number, color: string, text: string) {\r\n        \r\n    //     ctx.strokeStyle = color\r\n    //     ctx.fillStyle = color\r\n\r\n    //     ctx.beginPath()\r\n    //     ctx.arc(x,y,r, 0, 2* Math.PI)\r\n    //     ctx.stroke()\r\n    //     ctx.closePath()\r\n    //     let textSize = 14\r\n    //     ctx.font = `${textSize}px Roboto Mono`;\r\n    //     ctx.textAlign = \"center\";\r\n    //     ctx.fillText(text, x, y + textSize /3);\r\n\r\n\r\n    // }\r\n\r\n    \r\n}\r\n\r\nfunction rng(low: number, high: number) : number {\r\n    return low + Math.random() * (high - low);\r\n}\r\n\r\nexport default TimeView","import React from \"react\";\r\nimport { Theme } from \"../App\";\r\n\r\n\r\ntype propType = {\r\n    v1: number,\r\n    v2: number,\r\n    parallel: boolean,   \r\n    width?: number\r\n}\r\n\r\nfunction rngInt(low: number, high: number) : number {\r\n    return low + Math.floor(Math.random() * (high - low + 0.99999));\r\n}\r\n\r\ntype Pos = {\r\n    x: number,\r\n    y: number,\r\n    dx: number,\r\n    dy: number,\r\n}\r\n\r\nfunction update(p: Pos, w: number, h: number): Pos {\r\n    let {x,y,dx,dy} = p\r\n    if (x + dx < 0 || x + dx > w) dx = -dx\r\n    if (y + dy < 0 || y + dy > h) dy = -dy\r\n    x += dx\r\n    y += dy\r\n    return {x,y,dx,dy}\r\n}\r\n\r\nclass VelocityView extends React.Component<propType, {}> {\r\n    \r\n    animtaionId: number = 0\r\n\r\n    canvasRef: React.RefObject<HTMLCanvasElement>\r\n    ctx: CanvasRenderingContext2D | null | undefined = null\r\n    width: number = 300\r\n    height: number = 300\r\n    p1: Pos = {x:0,y:0,dx:0,dy:0}\r\n    p2: Pos = {x:0,y:0,dx:0,dy:0}\r\n\r\n\r\n    constructor(props: propType) {\r\n        super(props)\r\n        this.canvasRef = React.createRef();\r\n        this.updatePositions = this.updatePositions.bind(this);\r\n        this.generateParticles = this.generateParticles.bind(this)\r\n        \r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        \r\n        \r\n        this.width = this.props.width || document.getElementById('centerview')?.clientWidth || 300;\r\n        this.height = this.width * 0.40;\r\n        this.ctx = this.canvasRef.current?.getContext('2d')\r\n        \r\n        this.generateParticles()\r\n\r\n        cancelAnimationFrame(this.animtaionId)\r\n        this.updatePositions()\r\n\r\n\r\n        return <canvas width = {this.width} height = {this.height} ref = {this.canvasRef}/>\r\n    }\r\n\r\n    updatePositions() {\r\n\r\n\r\n        if (!this.ctx) {\r\n            this.ctx = this.canvasRef.current?.getContext('2d')\r\n        }\r\n        let ctx = this.ctx\r\n\r\n        if (ctx) {\r\n\r\n            ctx.fillStyle = '#222831'\r\n            ctx.fillRect(0,0,this.width, this.height)\r\n            ctx.lineWidth = 2\r\n\r\n            this.drawCircle(ctx, this.p1.x, this.p1.y, 12, '#eeeeee', '1')\r\n            this.drawCircle(ctx, this.p2.x, this.p2.y, 12, '#ffc107', '?')\r\n        }\r\n        this.p1 = update(this.p1, this.width, this.height)\r\n        this.p2 = update(this.p2, this.width, this.height)\r\n\r\n        this.animtaionId = requestAnimationFrame(this.updatePositions)\r\n    }\r\n\r\n    drawCircle(ctx: CanvasRenderingContext2D , x: number, y: number, r: number, color: string, text: string) {\r\n        \r\n        ctx.strokeStyle = color\r\n        ctx.fillStyle = color\r\n\r\n        ctx.beginPath()\r\n        ctx.arc(x,y,r, 0, 2* Math.PI)\r\n        ctx.stroke()\r\n        ctx.closePath()\r\n        let textSize = 14\r\n        ctx.font = `${textSize}px Roboto Mono`;\r\n        ctx.textAlign = \"center\";\r\n        ctx.fillText(text, x, y + textSize /3);\r\n\r\n\r\n    }\r\n\r\n    generateParticles() {\r\n        let {v1,v2, parallel} = this.props\r\n        if (parallel) {\r\n            this.p1.x = 0;\r\n            this.p2.x = 0;\r\n            this.p1.y = this.height * 0.4\r\n            this.p2.y = this.height * 0.6\r\n            this.p1.dx = v1\r\n            this.p2.dx = v2\r\n            this.p1.dy = this.p2.dy = 0\r\n        } else {\r\n            this.p1.x = rng(0, this.width);\r\n            this.p2.x = rng(0, this.width);;\r\n            this.p1.y = rng(0,this.height)\r\n            this.p2.y = rng(0,this.height)\r\n            let t1 = rng(0, 2 * Math.PI)\r\n            let t2 = rng(0, 2 * Math.PI)\r\n            this.p1.dx = v1 * Math.cos(t1)\r\n            this.p1.dy = v1 * Math.sin(t1)\r\n            this.p2.dx = v2 * Math.cos(t2)\r\n            this.p2.dy = v2 * Math.sin(t2)\r\n        }\r\n    }\r\n}\r\n\r\nfunction rng(low: number, high: number) : number {\r\n    return low + Math.random() * (high - low);\r\n}\r\n\r\nexport default VelocityView","\r\n\r\nclass Question {\r\n    \r\n    view: any\r\n    answer: number\r\n    timelimit: number\r\n    id: number\r\n    \r\n    // Return a number between 0 and 1\r\n    scorer: (arg0: number) => number\r\n\r\n    constructor(view: any, answer: number, scorer = defaultScorer, timelimit: number = 0) {\r\n        this.view = view\r\n        this.answer = answer\r\n        this.id = Math.random();\r\n        this.scorer = (guess: number) => scorer(guess, this.answer)\r\n        this.timelimit = timelimit\r\n    }\r\n\r\n}\r\n\r\nfunction defaultScorer(guess: number, actual: number) : number {\r\n    if (guess < actual) {\r\n        return guess / actual;\r\n    }\r\n    return actual / guess;\r\n}\r\n\r\nexport default Question","import React from \"react\";\r\nimport { Theme } from \"../App\";\r\nimport AngleView from \"../questionViews/AngleView\";\r\nimport AreaView from \"../questionViews/AreaView\";\r\nimport CountingMovingView from \"../questionViews/CountingMovingView\";\r\nimport CountingStaticView from \"../questionViews/CountingStaticView\";\r\nimport LengthView from \"../questionViews/LengthView\";\r\nimport TextView from \"../questionViews/TextView\";\r\nimport TimeView from \"../questionViews/TimeView\";\r\nimport VelocityView from \"../questionViews/VelocityView\";\r\nimport Question from \"./Question\";\r\n\r\ntype Range = {\r\n    low: number,\r\n    high: number\r\n}\r\n\r\n\r\n\r\nfunction rngInt(low: number, high: number) : number {\r\n    return low + Math.floor(Math.random() * (high - low + 0.99999));\r\n}\r\n\r\n\r\nfunction rng(low: number, high: number) : number {\r\n    return low + Math.random() * (high - low);\r\n}\r\n\r\nfunction logRng(mid: number, variance: number) : number {\r\n    return mid * Math.pow(2 , rng(-variance, variance));\r\n}\r\n\r\n\r\nexport function genMul(config : {\r\n    numOperands : Range,\r\n    rangeCenter: number,\r\n    rangeVariance: number\r\n    operandVariance: number,\r\n    timeLimit: number\r\n\r\n}) : Question {\r\n    let {numOperands, rangeCenter, rangeVariance, operandVariance, timeLimit} = config;\r\n    let numOp = rngInt(numOperands.low, numOperands.high);\r\n    let result = logRng(rangeCenter, rangeVariance);\r\n    let avgOp: number\r\n    let operands: number[] = [];\r\n    for (let i = 0; i < numOp; i++) {\r\n        avgOp = Math.pow(result , 1 / (numOp - i));\r\n        let nextOperand = logRng(avgOp , operandVariance);\r\n        operands.push(Math.round(nextOperand));\r\n        result /= nextOperand;\r\n    }\r\n    operands.sort((a,b) => a-b);\r\n    \r\n\r\n    // Calculate actual result\r\n    result = operands.reduce((acc, cur) => acc * cur);\r\n    // scorer\r\n    let scorer = (guess: number, actual: number) : number => {\r\n        let fraction = guess < actual ? (guess / actual) : (actual / guess)\r\n        return Math.round(fraction * 100)\r\n    }\r\n\r\n    let questionString = '';\r\n    operands.forEach(element => {\r\n        questionString += `${element} × `;\r\n    });\r\n    questionString = questionString.slice(0, -3);\r\n    return new Question( <TextView text = {questionString}/>, result, scorer, timeLimit);\r\n}\r\n\r\nexport function genPerc(\r\n    config : {\r\n        numOperands : Range,\r\n        operandRange: Range,\r\n        timeLimit: number,\r\n        round: number\r\n    }\r\n) {\r\n\r\n    let {numOperands, operandRange, timeLimit, round} = config;\r\n    let numOp = rngInt(numOperands.low, numOperands.high);\r\n\r\n    let operands = []\r\n    let result = 1;\r\n    for (let i = 0; i < numOp; i++) {\r\n        \r\n        operands.push(rngInt(operandRange.low, operandRange.high));\r\n        \r\n        operands[i] -= operands[i] % round; \r\n        result *= operands[i] / 100;\r\n    }\r\n\r\n    let questionString = '';\r\n    operands.forEach(element => {\r\n        questionString += `${(element)}% × `;\r\n    });\r\n    questionString = questionString.slice(0, -3);\r\n\r\n    let scorer = (guess: number, actual: number) : number => {\r\n        let fraction = guess < actual ? (guess / actual) : (actual / guess)\r\n        return Math.round(fraction * 100)\r\n    }\r\n\r\n\r\n    return new Question(<TextView text = {questionString}/>, result, scorer, timeLimit);\r\n\r\n\r\n    \r\n\r\n}\r\n\r\n\r\nexport function genAngle (\r\n    config: {\r\n        minDeg: number,\r\n        maxDeg: number,\r\n        timeLimit: number\r\n    }\r\n) : Question {\r\n\r\n    let {minDeg, maxDeg, timeLimit} = config\r\n    let result = rngInt(minDeg, maxDeg);\r\n\r\n    let resultRad = result * Math.PI / 180\r\n\r\n    let scorer = (guess: number, actual: number) : number => {\r\n\r\n        let fraction = 1 - Math.abs(guess - actual) * 0.05\r\n        if (fraction < 0) fraction = 0;\r\n        return Math.round(fraction * 100)\r\n    }\r\n\r\n\r\n    return new Question(<AngleView angle={resultRad}/>, result, scorer, timeLimit)\r\n\r\n}\r\n\r\nexport function genCounting (\r\n    config: {\r\n        min: number,\r\n        max: number,\r\n        timeLimit: number\r\n    }\r\n) : Question {\r\n\r\n    let {min, max, timeLimit} = config;\r\n    let result = rngInt(min, max)\r\n\r\n    let scorer = (guess: number, actual: number) : number => {\r\n\r\n        if (guess === actual) {\r\n            return 100\r\n        }\r\n\r\n        let fraction = guess < actual ? (guess / actual) : (actual / guess)\r\n        return Math.round(fraction * 90)\r\n    }\r\n\r\n    let shape = 'circle'\r\n\r\n    return new Question(<CountingStaticView num={result} shape = {shape}/>, result, scorer, timeLimit)\r\n}\r\n\r\nexport function genCountingMoving (\r\n    config: {\r\n        min: number,\r\n        max: number,\r\n        timeLimit: number\r\n    }\r\n) : Question {\r\n\r\n    let {min, max, timeLimit} = config;\r\n    let result = rngInt(min, max)\r\n\r\n    let scorer = (guess: number, actual: number) : number => {\r\n\r\n\r\n        let fraction = guess < actual ? (guess / actual) : (actual / guess)\r\n        return Math.round(fraction * 100)\r\n    }\r\n\r\n\r\n    return new Question(<CountingMovingView num={result}/>, result, scorer, timeLimit)\r\n}\r\n\r\nexport function genArea (\r\n    config: {\r\n        center: number,\r\n        variance: number,\r\n        shape: string,\r\n        timeLimit: number\r\n    }\r\n) : Question {\r\n\r\n    let {center, variance, shape, timeLimit} = config;\r\n    let result = logRng(center, variance)\r\n    let scorer = (guess: number, actual: number) : number => {\r\n        let fraction = guess < actual ? (guess / actual) : (actual / guess)\r\n        fraction = Math.sqrt(fraction)\r\n        return Math.round(fraction * 100)\r\n    }\r\n    return new Question(<AreaView ratio = {result} shape={shape}/>, result, scorer, timeLimit)\r\n\r\n\r\n}\r\n\r\nexport function genLength (\r\n    config: {\r\n        center: number,\r\n        variance: number,\r\n        shape: string,\r\n        timeLimit: number\r\n    }\r\n) : Question {\r\n\r\n    let {center, variance, shape, timeLimit} = config;\r\n    let result = logRng(center, variance)\r\n    let scorer = (guess: number, actual: number) : number => {\r\n        let fraction = guess < actual ? (guess / actual) : (actual / guess)\r\n        return Math.round(fraction * 100)\r\n    }\r\n    return new Question(<LengthView ratio = {result} shape={shape}/>, result, scorer, timeLimit)\r\n\r\n\r\n}\r\n\r\nexport function genSpeed (\r\n    config: {\r\n        center: number,\r\n        variance: number,\r\n        parallel: boolean,\r\n        timeLimit: number\r\n    }\r\n) : Question {\r\n\r\n    let {center, variance, parallel, timeLimit} = config;\r\n    let result = logRng(center, variance)\r\n\r\n    let v1 = rng(1,2)\r\n    let v2 = v1 * result\r\n\r\n    let scorer = (guess: number, actual: number) : number => {\r\n        let fraction = guess < actual ? (guess / actual) : (actual / guess)\r\n        return Math.round(fraction * 100)\r\n    }\r\n    return new Question(<VelocityView v1 = {v1} v2 = {v2} parallel = {parallel}/>, result, scorer, timeLimit)\r\n}\r\n\r\n\r\nexport function genExpo (\r\n    config: {\r\n        type: string,\r\n        timeLimit: number\r\n    }\r\n) : Question {\r\n    let {type, timeLimit} = config\r\n    if (type === 'interest') {\r\n        let P = logRng(1,1)\r\n        if (P < 1) P = 1/P\r\n        P **= 1/3\r\n        P = Math.round(P * 1000) / 1000\r\n        let Q = rngInt(10, 25)\r\n        let result = P**Q\r\n        let scorer = (guess: number, actual: number) : number => {\r\n            guess = guess**(1/Q)\r\n            if (isNaN(guess)) return 0\r\n            actual = P\r\n            let fraction = guess < actual ? (guess / actual) : (actual / guess)\r\n            fraction**= 2\r\n            return Math.round(fraction * 100)\r\n        }\r\n        let questionString = `(${P.toFixed(3)})^${Q}`\r\n        return new Question(<TextView text = {questionString}/> , result , scorer, timeLimit)\r\n\r\n    } else if (type === 'huge') {\r\n        let P = rngInt(10, 30)\r\n        let Q = rngInt(10, 30)\r\n        let result = P**Q\r\n        let scorer = (guess: number, actual: number) : number => {\r\n            guess = Math.log2(guess)\r\n            actual = Math.log2(actual)\r\n            let diff = Math.abs(guess - actual)\r\n            if (diff <= 3) return 100\r\n            else diff -= 3\r\n\r\n            return Math.round(Math.max(100 - diff * 5 , 0))\r\n        }\r\n        let questionString = `${P}^${Q}`\r\n        return new Question(<TextView text = {questionString}/> , result , scorer, timeLimit)\r\n    } else {\r\n        let P = rngInt(30 , 100)\r\n        let Q = rngInt(30 , 100)\r\n        let result = P**Q\r\n        let scorer = (guess: number, actual: number) : number => {\r\n            guess = Math.log2(guess)\r\n            actual = Math.log2(actual)\r\n            let diff = Math.abs(guess - actual)\r\n            if (diff <= 5) return 100\r\n            else diff -= 5\r\n\r\n            return Math.round(Math.max(100 - diff , 0))\r\n\r\n        }\r\n        let questionString = `${P}^${Q}`\r\n        return new Question(<TextView text = {questionString}/> , result , scorer, timeLimit)\r\n    }\r\n\r\n}\r\n\r\nexport function genTime (\r\n    config: {\r\n        min: number,\r\n        max: number,\r\n        reference: boolean\r\n        timeLimit: number\r\n    }\r\n) : Question {\r\n\r\n    let {min, max, reference, timeLimit} = config;\r\n    let result = rng(min, max)\r\n    let scorer = (guess: number, actual: number) : number => {\r\n        let fraction = guess < actual ? (guess / actual) : (actual / guess)\r\n        return Math.round(fraction * 100)\r\n    }\r\n\r\n    return new Question(<TimeView time = {result} reference = {reference} />, result / 1000, scorer, timeLimit)\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { genMul } from \"./QGenerators\";\r\nimport Question from \"./Question\";\r\n\r\ntype generatorType = (arg0: any) => Question;\r\nexport enum ProgressState {\r\n    PREGAME,\r\n    INTRO,\r\n    RUNNING,\r\n    PAUSED,\r\n    OUTRO,\r\n    POSTGAME\r\n}\r\n\r\nlet defaultConfig = {\r\n\tnumOperands : {low: 2, high: 2},\r\n    rangeCenter: 20000,\r\n    rangeVariance: 2,\r\n    operandVariance: 2,\r\n    timeLimit: 0\r\n}\r\n\r\nclass GameState {\r\n    generator: generatorType = genMul\r\n    questionArray: Question[] = []\r\n    currentQuestion?: Question;\r\n    category: string = \"Multiplication (Easy)\"\r\n    numQuestions: number = 5\r\n    currentIndex: number = 0\r\n    recentScore: number = 0\r\n    totalScore: number = 0\r\n    recentGuess: number = 0\r\n    recentAnswer: number = 0\r\n    progressState: ProgressState = ProgressState.PREGAME\r\n    generatorconfig: any = defaultConfig\r\n    totalTime = 0\r\n    storageKey = 'Multiplication (Easy)|0'\r\n    helpText = 'If the white line is 1 unit long, estimate the length of the yellow line'\r\n    // constructor(category: string, generator: generatorType, numQuestions: number, config: any) {\r\n    //     this.category = category\r\n    //     this.generator = generator\r\n    //     this.numQuestions = numQuestions\r\n    //     this.generatorconfig = config\r\n    // }\r\n}\r\n\r\nexport default GameState;","\r\nimport GameState , {ProgressState} from \"./GameState\";\r\nlet ls = require('local-storage')\r\n\r\nexport enum InputType {\r\n    BUTTON,\r\n    ANSWER,\r\n    ANIM\r\n}\r\nexport type Input = {\r\n    type: InputType,\r\n    payload: any\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport function nextState(state: GameState, input: Input, callback: (input: Input) => void): GameState {\r\n\r\n    let next = state;\r\n    if (state.progressState === ProgressState.PREGAME) {\r\n        \r\n        if (input.type === InputType.BUTTON) {\r\n            if (input.payload === \"start\") {\r\n                next = initialState(state)\r\n\r\n                next.progressState = ProgressState.RUNNING\r\n            }\r\n        }\r\n    } else if (state.progressState === ProgressState.RUNNING) {\r\n        if (input.type === InputType.BUTTON) {\r\n            if (input.payload === \"reset\") {\r\n                next = initialState(state)\r\n                next.progressState = ProgressState.RUNNING\r\n            } else if (input.payload === 'playpause') {\r\n                next.progressState = ProgressState.PAUSED\r\n            }\r\n        } else if (input.type === InputType.ANSWER) {\r\n            let score = state.currentQuestion?.scorer(input.payload)\r\n            next.totalScore += score || 0;\r\n            next.recentGuess = input.payload\r\n            next.recentAnswer = state.currentQuestion?.answer || -1;\r\n            next.recentScore = score || 0;\r\n\r\n            next.currentIndex ++;\r\n            if (next.currentIndex < next.numQuestions) {\r\n                next.currentQuestion = next.questionArray[next.currentIndex];\r\n                next.totalTime = next.currentQuestion.timelimit\r\n            } else {\r\n\r\n                // Update Highscore\r\n                let scores = ls('highscores')\r\n                if (!scores) {\r\n                    ls('highscores', {})\r\n                    scores = {} \r\n                }\r\n                scores[next.storageKey] = Math.max(next.totalScore , (scores[next.storageKey] || 0))\r\n                ls('highscores' , scores)\r\n\r\n                next.progressState = ProgressState.POSTGAME;\r\n            }\r\n        } \r\n    } else if (state.progressState === ProgressState.PAUSED) {\r\n        if (input.type === InputType.BUTTON && input.payload === 'playpause') {\r\n            next.progressState = ProgressState.RUNNING\r\n        } else if (input.payload === \"reset\") {\r\n            next = initialState(state)\r\n            next.progressState = ProgressState.RUNNING\r\n        }\r\n    } else if (state.progressState === ProgressState.POSTGAME) {\r\n        if (input.type === InputType.BUTTON && input.payload === 'replay') {\r\n            next = initialState(state)\r\n            next.progressState = ProgressState.RUNNING   \r\n        }\r\n    }\r\n\r\n    return next;\r\n}\r\n\r\nfunction initialState(state: GameState): GameState {\r\n    state.currentIndex = 0;\r\n    state.recentAnswer = state.recentGuess = state.recentScore = state.totalScore = 0;\r\n    state.questionArray = []\r\n    for (let i = 0; i < state.numQuestions; i++) {\r\n        state.questionArray.push(state.generator(state.generatorconfig));\r\n    }\r\n    state.currentQuestion = state.questionArray[0]\r\n    state.totalTime = state.currentQuestion.timelimit\r\n    return state\r\n}\r\n\r\n","import React, { CSSProperties } from 'react';\r\nimport { InputGroup, FormControl } from 'react-bootstrap';\r\nimport { Theme } from '../App';\r\nimport { Input, InputType } from '../logic/GameController';\r\nimport GameState, { ProgressState } from '../logic/GameState';\r\n\r\ntype propType = { \r\n    inputHandler : (arg0: Input) => void,\r\n    theme: Theme,\r\n    gameState: GameState\r\n}\r\n\r\n\r\n\r\nclass InputView extends React.Component<propType, {text: string}>{\r\n    inputField: React.RefObject<HTMLInputElement>;\r\n    canvasRef: React.RefObject<HTMLCanvasElement>;\r\n    timerInterval?: NodeJS.Timeout;\r\n    questionId: number = 0;\r\n    timeLimit: number = 0;\r\n    startTime: number = 0;\r\n    \r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            text: \"\",\r\n        }\r\n\r\n        this.inputField = React.createRef();\r\n        this.canvasRef = React.createRef();\r\n        this.drawArc = this.drawArc.bind(this);\r\n        this.handleChange = this.handleChange.bind(this)\r\n\r\n    }\r\n\r\n    drawArc(fraction: number) {\r\n        if (this.canvasRef.current === null) {\r\n            return\r\n        }\r\n\r\n        const canvas: any = this.canvasRef.current;\r\n        const context: any = this.canvasRef.current.getContext('2d');\r\n        context.strokeStyle = fraction < 0.75? 'green':'red'\r\n        \r\n        context.fillStyle = this.props.theme.background;\r\n        context.fillRect(0,0,48,48);\r\n        context.lineWidth = 3\r\n        context.translate(-0.5,-0.5);\r\n        let cx = canvas.width/2;\r\n        let cy = canvas.height/2;\r\n        context.beginPath();\r\n        context.arc(cx,cy, 16, 2* Math.PI * fraction - Math.PI /2, - Math.PI / 2);\r\n        context.stroke();\r\n\r\n        context.translate(0.5,0.5);\r\n\r\n        \r\n    }\r\n\r\n    componentDidMount(){\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.inputField.current?.focus();\r\n        \r\n    }\r\n    render() {\r\n        let inputStyle: CSSProperties = {\r\n            background: this.props.theme.background,\r\n            color: this.props.theme.textColor,\r\n        }\r\n    \r\n\r\n        \r\n        let progressState = this.props.gameState.progressState;\r\n        \r\n        let curQuestion = this.props.gameState.currentQuestion;\r\n        if (curQuestion !== undefined && curQuestion.id !== this.questionId) {\r\n\r\n            this.timerInterval && clearInterval(this.timerInterval);\r\n            \r\n            \r\n            this.questionId = curQuestion.id;\r\n            this.timeLimit = curQuestion.timelimit;\r\n            this.startTime = Date.now();\r\n            if (this.timeLimit !== 0) {\r\n                \r\n                this.timerInterval = setInterval(() => {\r\n                    if (this.props.gameState.progressState === ProgressState.PAUSED) {\r\n                        this.startTime += 16.67; // instead of stopping the interval\r\n                    }\r\n                    let elapsed =  Date.now() - this.startTime ;\r\n                    let fraction = elapsed / this.timeLimit \r\n                    \r\n                    if (fraction < 1) {\r\n                        this.drawArc(fraction);\r\n                    } else {\r\n                        this.timerInterval && clearInterval(this.timerInterval);\r\n                        this.props.inputHandler({type: InputType.ANSWER, payload: this.toValidAnswer(this.state.text) })\r\n                        this.setState({text: ''})\r\n                    }\r\n\r\n                }, 16.67);\r\n            }\r\n            this.forceUpdate();\r\n\r\n        }\r\n        let totalTime = curQuestion?.timelimit || 0;\r\n        let {gameState} = this.props;\r\n\r\n        let placeholder = '';\r\n        if (progressState === ProgressState.RUNNING) {\r\n            placeholder = 'Enter Answer'\r\n        } else if (progressState === ProgressState.PAUSED) {\r\n            placeholder = 'Game Paused'\r\n        }\r\n\r\n        return (\r\n            <div style={{display: 'flex', flexDirection: 'row'}}>\r\n                <InputGroup size=\"lg\" style = {inputStyle}>\r\n                    <FormControl onKeyDown = {this.handleKeyDown}\r\n                        style = {inputStyle}\r\n                        value = {this.state.text}\r\n                        onChange = {this.handleChange}\r\n                        placeholder={placeholder }\r\n                        ref = {this.inputField}\r\n                        autoComplete = {'chrome-off'}\r\n                    />\r\n                </InputGroup>  \r\n                {totalTime !== 0 && gameState.progressState === ProgressState.RUNNING \r\n                && <canvas ref = {this.canvasRef} width = {48} height = {48}/>}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    toValidAnswer(text: string): number{\r\n        let parsed: number\r\n        try {\r\n            parsed = parseFloat(text);\r\n        } catch (error) {\r\n            return 1\r\n        }\r\n        if (isNaN(parsed)) {\r\n            return 1\r\n        }\r\n        return parsed\r\n    }\r\n\r\n    handleChange(e: any) {\r\n        if (this.props.gameState.progressState !== ProgressState.RUNNING) {\r\n            return\r\n        }\r\n        let inputText: string = e.target.value;\r\n        let lastChar = inputText.slice(-1);\r\n        if (inputText.length === 0 || (lastChar >= '0' && lastChar <= '9') || lastChar === 'e' || lastChar === '-' || lastChar === '+' || lastChar === '.') {\r\n            this.setState({text: inputText});\r\n        } \r\n    }\r\n\r\n    handleKeyDown = (e: React.KeyboardEvent) => {\r\n        if (e.key === 'Enter' && this.props.gameState.progressState === ProgressState.RUNNING) {\r\n            let parsed : number;\r\n            try {\r\n                parsed = parseFloat(this.state.text);\r\n            } catch (error) {\r\n                return\r\n            }\r\n            if (isNaN(parsed)) {\r\n                return\r\n            }\r\n           this.props.inputHandler({type: InputType.ANSWER, payload: parsed})\r\n           this.setState({text: ''})\r\n\r\n           if (this.props.gameState.currentIndex === this.props.gameState.numQuestions - 1) {\r\n           }\r\n        } else if (e.key === 'Enter' && this.props.gameState.progressState === ProgressState.POSTGAME) {\r\n            this.props.inputHandler({type: InputType.BUTTON, payload: 'replay'})\r\n        }\r\n    }\r\n}\r\n\r\nexport default InputView","import React from 'react';\r\nimport { Theme } from '../App';\r\nimport GameState, { ProgressState } from '../logic/GameState';\r\nimport Question from '../logic/Question';\r\n// @ts-ignore\r\nimport { Textfit } from 'react-textfit';\r\nimport TextView from '../questionViews/TextView';\r\n\r\ntype propType = {\r\n    question: Question | undefined,\r\n    theme: Theme\r\n    gameState: GameState\r\n}\r\n\r\nlet mainFontStyle = {\r\n    fontSize: 45,\r\n    textAlign: \"center\" as const,\r\n    minHeight: 100\r\n}\r\n\r\nlet altFontStyle = {\r\n    fontSize: 30,\r\n    textAlign: \"center\" as const,\r\n    minHeight: 100,\r\n    padding: 15\r\n}\r\n\r\n\r\n\r\nclass QuestionView extends React.Component<propType, any>{\r\n    \r\n\r\n\r\n    render() {\r\n\r\n        let progressState = this.props.gameState.progressState;\r\n\r\n        if (progressState === ProgressState.PAUSED) {\r\n            return (\r\n                <div style = {{...mainFontStyle, fontFamily: this.props.theme.questionFont}}>\r\n                    ---Paused---\r\n                </div>\r\n            )\r\n        } else if (progressState === ProgressState.POSTGAME) {\r\n            return (\r\n                <div style = {{...altFontStyle, fontFamily: this.props.theme.questionFont}}>\r\n                   {`Final Score: ${this.props.gameState.totalScore}`}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (this.props.question) {\r\n            return this.props.question?.view\r\n        } \r\n        return (\r\n            <div style = {{...altFontStyle, fontSize: 20, fontFamily: this.props.theme.questionFont}}>\r\n            {this.props.gameState.helpText}\r\n            </div>  \r\n        )\r\n    }\r\n}\r\n\r\nexport default QuestionView","  import React, { CSSProperties } from \"react\";\r\nimport { Col, Container, Row } from \"react-bootstrap\";\r\nimport GameState, { ProgressState } from \"../logic/GameState\";\r\nvar ls = require('local-storage')\r\n \r\ntype propType = {\r\n    gameState: GameState\r\n}\r\n\r\nclass ScoreView extends React.Component<propType, {}> {\r\n\r\n    render() {\r\n\r\n        let {recentGuess , recentAnswer, totalScore, recentScore} = this.props.gameState\r\n\r\n        let errorString = '';\r\n        let relError = Math.abs(Math.log10(recentAnswer) - Math.log10(recentGuess))\r\n        relError = Math.pow(10, relError);\r\n        \r\n        if (isNaN(relError)) {\r\n            relError = 1\r\n        } \r\n        \r\n\r\n        \r\n        if (relError < 1.5) {\r\n            relError = 100 * (relError - 1);\r\n            errorString = `Error: ${relError.toFixed(2)} %`\r\n        } else {\r\n            relError = Math.log10(relError)\r\n            errorString = `Error (log₁₀): ${relError.toFixed(2)}`\r\n        }\r\n\r\n        let isTinyScreen = window.innerWidth < 576\r\n        let errorStyle: CSSProperties = isTinyScreen ? {} : {float: \"right\"}\r\n\r\n        let textStyle: CSSProperties = {\r\n            fontSize: (isTinyScreen ? '16px' : '18px')\r\n        }\r\n\r\n        \r\n        let highscores = ls('highscores') \r\n        if (highscores === null) {\r\n            ls('highscores', {})\r\n            highscores = {}\r\n        }\r\n\r\n        let highscore = highscores[this.props.gameState.storageKey] || 0\r\n\r\n\r\n\r\n\r\n        return (\r\n            <div>\r\n                <Container>\r\n                    <Row>\r\n                        <Col xs = {12} sm = {4}>\r\n                            <div>\r\n                                <span style = {textStyle}>{`Score: ${totalScore} `}</span>\r\n                                <span style = {textStyle}>{`(+${recentScore})`}</span>\r\n                            </div>\r\n                            \r\n                            <div style = {textStyle}>{`Highscore: ${highscore}`}</div>\r\n                            \r\n                            \r\n                        </Col>\r\n                        <Col xs = {12} sm = {8}>\r\n                            <div style = {errorStyle}>\r\n                                <div style = {textStyle}>{`Guess: ${format(recentGuess)}, Answer: ${format(recentAnswer)}`}</div>\r\n                                <div style = {textStyle}>{errorString}</div>\r\n                            </div>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nlet superscripts = \"⁰¹²³⁴⁵⁶⁷⁸⁹⁻\"\r\n\r\n\r\nfunction format(num: number, max:number  = 1e6, min:number = 1e-3): string {\r\n    if (num !== 0 && (num < min || num > max)) {\r\n        let exponent = Math.floor(Math.log10(num))\r\n        let mantissa = num / Math.pow(10, exponent);\r\n        let temp = exponent.toString();\r\n        let exponentStr = ''\r\n        for (let i = 0; i < temp.length; i++) {\r\n            if (temp[i] === '-') {\r\n                exponentStr += superscripts[10]\r\n            } else {\r\n                exponentStr += superscripts[parseInt(temp[i])]\r\n            }\r\n        }\r\n\r\n        return `${mantissa.toFixed(3)}×10${exponentStr}`\r\n        \r\n    }\r\n    let tmp =  num.toString();\r\n\r\n    // Remove floating imprecision\r\n\r\n    let i = tmp.length - 1;\r\n    let decimal = 0;\r\n    while (i >= 0 && tmp[i] != '.') {\r\n        i--;\r\n        decimal++;\r\n    }\r\n    if (i >= 0 && decimal > 6) {\r\n        tmp = num.toFixed(6)\r\n    }\r\n    if (tmp.length > 8) {\r\n        tmp = tmp.substring(0,8);\r\n    }\r\n    return tmp\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default ScoreView;","import React, { CSSProperties } from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { Theme } from '../App';\r\nimport { Input, InputType } from '../logic/GameController';\r\nimport GameState, { ProgressState } from '../logic/GameState';\r\n\r\ntype propType = { \r\n    theme: Theme,\r\n    gameState: GameState,\r\n    inputHandler: (arg0: Input) => void,\r\n    width: number\r\n}\r\n\r\n\r\nclass GameInfoView extends React.Component<propType, any>{\r\n    render() {\r\n        let {theme, gameState, inputHandler} = this.props\r\n        let style: CSSProperties = {\r\n            fontFamily:  theme.headerFont,\r\n            fontSize: \"24px\",\r\n            marginTop: \"12px\",\r\n        }\r\n\r\n        let smallui = (this.props.width < 450)\r\n        \r\n        if (smallui) {\r\n            style.fontSize = \"18px\"\r\n        }\r\n\r\n        let progressString = `(${gameState.currentIndex + 1}/${gameState.numQuestions})`\r\n        let startButton = <Button \r\n            size = {smallui? 'sm': undefined}\r\n            variant = \"success\" \r\n            style = {{float: \"right\", fontFamily : theme.bodyFont}}\r\n            onClick = {() => {inputHandler({type: InputType.BUTTON, payload: 'start'})}\r\n        }>Start↵</Button>\r\n        \r\n        let replayButton = <Button \r\n            size = {smallui? 'sm': undefined}\r\n            variant = \"success\" \r\n            style = {{float: \"right\", fontFamily : theme.bodyFont}}\r\n            onClick = {() => {inputHandler({type: InputType.BUTTON, payload: 'replay'})}\r\n        }>Replay↵</Button>\r\n\r\n\r\n\r\n        return (\r\n            <div style = {style}>\r\n\r\n                <span>{gameState.category}</span>\r\n    \r\n                {gameState.progressState === ProgressState.PREGAME ? \r\n                    startButton :\r\n                gameState.progressState === ProgressState.POSTGAME ?\r\n                    replayButton:\r\n                    <span style = {{float: \"right\"}}>{progressString}</span>\r\n                }\r\n                <hr style = {{borderColor: theme.textColor  }}></hr>\r\n            </div>       \r\n        )\r\n    }\r\n\r\n    \r\n}\r\n\r\nexport default GameInfoView","import React, { CSSProperties } from \"react\";\r\nimport { Input, InputType } from \"../logic/GameController\";\r\nimport GameState, { ProgressState } from \"../logic/GameState\";\r\nimport { Button } from 'react-bootstrap'\r\n\r\ntype propType = {\r\n    inputHandler: (arg0: Input) => void\r\n    gameState: GameState\r\n}\r\n\r\nlet buttonStyle: CSSProperties = {\r\n    marginRight: 4\r\n}\r\n\r\nclass ButtonRow extends React.Component<propType, {}> {\r\n\r\n\r\n    constructor(props: propType) {\r\n        super(props);\r\n\r\n        this.pauseEvent = this.pauseEvent.bind(this);\r\n        this.resetEvent = this.resetEvent.bind(this);\r\n    }\r\n\r\n    render() {\r\n\r\n        let progressState = this.props.gameState.progressState\r\n        let paused = progressState === ProgressState.PAUSED\r\n\r\n        let runningButtons = \r\n        [\r\n            <Button variant=\"primary\" style={buttonStyle} key ={1} onClick={this.pauseEvent}><u>P</u>{paused? \"lay\" : \"ause\"}</Button>,\r\n            <Button variant=\"warning\" style={buttonStyle} key={2} onClick={this.resetEvent}><u>R</u>eset</Button>\r\n        ]\r\n        \r\n        let postgameButtons: HTMLElement[] = [] \r\n        // [\r\n        //     <Button variant=\"primary\" style={buttonStyle} onClick={this.replayEvent} key={1}>Replay ↵</Button>\r\n        // ]\r\n\r\n        return (\r\n            <div>\r\n                {progressState === ProgressState.POSTGAME ? postgameButtons:runningButtons }\r\n            </div>\r\n        )\r\n    }\r\n\r\n    pauseEvent() {\r\n        this.props.inputHandler({type: InputType.BUTTON, payload: \"playpause\"})\r\n    }\r\n    \r\n    resetEvent() {\r\n        this.props.inputHandler({type: InputType.BUTTON, payload: \"reset\"})\r\n    }\r\n    \r\n}\r\n\r\nexport default ButtonRow","import { Input, InputType } from \"./GameController\";\r\nimport GameState, { ProgressState } from \"./GameState\";\r\n\r\nlet prev = 0;\r\n\r\nexport function decodeInput(e: KeyboardEvent, gameState: GameState) : Input | undefined {\r\n    if (e.timeStamp - prev < 0.1) {\r\n        return undefined\r\n    }\r\n\r\n    prev = e.timeStamp\r\n\r\n    let input: Input = {\r\n        type: InputType.BUTTON,\r\n        payload: ''\r\n    }\r\n\r\n    if (e.code === 'KeyR') {\r\n        input.payload = 'reset';\r\n        return input\r\n    }\r\n    if (e.code === 'KeyP') {\r\n        input.payload = 'playpause';\r\n        return input\r\n    }\r\n    if (e.code === 'Enter') {\r\n        if (gameState.progressState === ProgressState.PREGAME) {\r\n            input.payload = 'start'\r\n            return input\r\n        }  else if (gameState.progressState === ProgressState.RUNNING) {\r\n            return undefined\r\n        }\r\n    }\r\n\r\n    return undefined\r\n}","import React from 'react';\r\nimport Question from '../logic/Question';\r\nimport InputView from './InputView';\r\nimport QuestionView from './QuestionView';\r\nimport ScoreView from './ScoreView';\r\nimport { Theme } from '../App'\r\nimport GameInfoView from './GameInfoView';\r\nimport ButtonRow from './ButtonRow';\r\nimport { Input } from '../logic/GameController';\r\nimport GameState from '../logic/GameState';\r\nimport {nextState } from '../logic/GameController'\r\nimport { decodeInput } from '../logic/KeyDecoder';\r\n\r\ntype propType = {\r\n    theme: Theme,\r\n    width: number\r\n}\r\n\r\ntype stateType = {\r\n    gameState: GameState\r\n}\r\n\r\n\r\n\r\nclass CenterView extends React.Component<propType, stateType>{\r\n    \r\n    \r\n    prevTimestamp: number = 0;\r\n\r\n    constructor(props: propType) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            gameState: new GameState()\r\n        }\r\n\r\n        \r\n        this.handleInput = this.handleInput.bind(this);   \r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        \r\n        this.handleInput = this.handleInput.bind(this);   \r\n        this.keyCapture  = this.keyCapture.bind(this);\r\n        \r\n        document.body.addEventListener('keydown', this.keyCapture)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.body.removeEventListener('keydown', this.keyCapture);\r\n    }\r\n\r\n    render() {\r\n        let gameState = this.state.gameState;\r\n        \r\n        return (\r\n            <div id='centerview'>\r\n                \r\n                <GameInfoView theme = {this.props.theme} gameState={gameState} inputHandler = {this.handleInput} width = {this.props.width}/> \r\n                <QuestionView question = {gameState.currentQuestion} theme ={this.props.theme} gameState={gameState}/>\r\n                <InputView inputHandler = {this.handleInput} theme = {this.props.theme} gameState={gameState}></InputView>\r\n                <ScoreView gameState = {gameState}/>\r\n                <ButtonRow inputHandler = {this.handleInput} gameState={gameState}/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    parentUpdate(gameState: GameState) {\r\n        this.setState({gameState})\r\n    }\r\n\r\n    handleInput(input: Input) {\r\n\r\n        let next = nextState(this.state.gameState, input, this.handleInput);\r\n        this.setState({gameState: next})\r\n    }\r\n\r\n    keyCapture(e: KeyboardEvent) {\r\n        \r\n        let inputEvent: Input | undefined = decodeInput(e, this.state.gameState);\r\n        if (inputEvent !== undefined) {\r\n            this.handleInput(inputEvent);\r\n        }\r\n    }\r\n    \r\n    \r\n\r\n}\r\n\r\nexport default CenterView","import { genAngle, genArea, genCounting, genCountingMoving, genExpo, genLength, genMul, genPerc, genSpeed, genTime } from \"./QGenerators\";\r\n\r\nlet modes: any = [\r\n    {\r\n        category: 'Multiplication',\r\n        numQuestions: 5,\r\n        generator: genMul,\r\n        helpText: 'Estimate the value of the mathematical expression',\r\n\r\n        levels: [\r\n            {\r\n                name: 'Easy',\r\n                config: {\r\n                    numOperands : {low: 2, high: 2},\r\n                    rangeCenter: 20000,\r\n                    rangeVariance: 2,\r\n                    operandVariance: 2,\r\n                    timeLimit: 0\r\n                }\r\n            },\r\n            {\r\n                name: 'Medium',\r\n                config: {\r\n                    numOperands : {low: 3, high: 3},\r\n                    rangeCenter: 100000,\r\n                    rangeVariance: 2,\r\n                    operandVariance: 2,\r\n                    timeLimit: 0\r\n                }\r\n            },\r\n            {\r\n                name: 'Hard',\r\n                config: {\r\n                    numOperands : {low: 4, high: 4},\r\n                    rangeCenter: 1000000,\r\n                    rangeVariance: 2,\r\n                    operandVariance: 2,\r\n                    timeLimit: 0\r\n                }\r\n            }\r\n        ],\r\n        times: [0, 10000, 30000]\r\n    },\r\n\r\n    {\r\n        category: 'Percentages',\r\n        numQuestions: 5,\r\n        generator: genPerc,\r\n        helpText: 'Estimate the value of the mathematical expression',\r\n\r\n        levels: [\r\n            {\r\n                name: 'Easy',\r\n                config: {\r\n                    numOperands : {low: 2, high: 3},\r\n                    operandRange: {low: 10, high: 99},\r\n                    timeLimit: 0,\r\n                    round: 5\r\n                }\r\n            },\r\n            {\r\n                name: 'Hard',\r\n                config: {\r\n                    numOperands : {low: 4, high: 4},\r\n                    operandRange: {low: 10, high: 99},\r\n                    timeLimit: 0,\r\n                    round: 1\r\n                }\r\n            }\r\n        ],\r\n        times: [0, 10000, 30000]\r\n    },\r\n    {\r\n        category: 'Exponentiation',\r\n        numQuestions: 5,\r\n        generator: genExpo,\r\n        helpText: 'Estimate the value of the mathematical expression',\r\n\r\n        levels: [\r\n            {\r\n                name: 'Interest',\r\n                config: {\r\n                    type: 'interest',\r\n                    timeLimit: 0\r\n                }\r\n            },\r\n            {\r\n                name: 'Huge',\r\n                config: {\r\n                    type: 'huge',\r\n                    timeLimit: 0\r\n                }\r\n            },\r\n            {\r\n                name: 'Insane',\r\n                config: {\r\n                    type: 'insane',\r\n                    timeLimit: 0\r\n                }\r\n            }\r\n        ],\r\n        times: [0, 15000, 40000]\r\n    },\r\n    {\r\n        category: 'Angles',\r\n        numQuestions: 5,\r\n        generator: genAngle,\r\n        helpText: 'Estimate the angle shown (in degrees)',\r\n\r\n\r\n        levels: [\r\n            {\r\n                name: 'Acute Only',\r\n                config: {\r\n                    minDeg: 1,\r\n                    maxDeg: 89,\r\n                    timeLimit: 0,\r\n            \r\n                }\r\n            },\r\n            {\r\n                name: 'Any',\r\n                config: {\r\n                    minDeg: 1,\r\n                    maxDeg: 359,\r\n                    timeLimit: 0,\r\n                }\r\n            }\r\n        ],\r\n        times: [0, 7000, 20000]\r\n    },\r\n    {\r\n        category: 'Counting (Static)',\r\n        numQuestions: 5,\r\n        generator: genCounting,\r\n        helpText: 'Estimate the number of objects shown',\r\n\r\n        levels: [\r\n            {\r\n                name: '20 - 50',\r\n                config: {\r\n                    min: 20,\r\n                    max: 50,\r\n                    timeLimit: 0,\r\n                }\r\n            },\r\n            {\r\n                name: '50 - 100',\r\n                config: {\r\n                    min: 50,\r\n                    max: 100,\r\n                    timeLimit: 0,\r\n                }\r\n            },\r\n            {\r\n                name: '100 - 500',\r\n                config: {\r\n                    min: 100,\r\n                    max: 500,\r\n                    timeLimit: 0,\r\n                }\r\n            }\r\n        ],\r\n        times: [0, 7000, 20000]\r\n    },\r\n    {\r\n        category: 'Counting (Moving)',\r\n        numQuestions: 5,\r\n        generator: genCountingMoving,\r\n        helpText: 'Estimate the number of objects shown',\r\n\r\n\r\n        levels: [\r\n            {\r\n                name: '15-30',\r\n                config: {\r\n                    min: 15,\r\n                    max: 30,\r\n                    timeLimit: 0,\r\n                }\r\n            },\r\n            {\r\n                name: '30 - 80',\r\n                config: {\r\n                    min: 30,\r\n                    max: 80,\r\n                    timeLimit: 0,\r\n                }\r\n            },\r\n            {\r\n                name: '80 - 200',\r\n                config: {\r\n                    min: 81,\r\n                    max: 200,\r\n                    timeLimit: 0,\r\n                }\r\n            }\r\n        ],\r\n        times: [0, 7000, 20000]\r\n    },\r\n    {\r\n        category: 'Length',\r\n        numQuestions: 5,\r\n        generator: genLength,\r\n        helpText: 'If the white line is 1 unit long, estimate the length of the yellow line',\r\n\r\n        levels: [\r\n\r\n            {\r\n                name: 'Parallel Lines',\r\n                config: {\r\n                    center: 3,\r\n                    variance: 3,\r\n                    shape: 'parallel',\r\n                    timeLimit: 0,\r\n                }\r\n            },\r\n            {\r\n                name: 'Lines',\r\n                config: {\r\n                    center: 3,\r\n                    variance: 3,\r\n                    shape: 'singlelines',\r\n                    timeLimit: 0,\r\n                }\r\n            },\r\n            {\r\n                name: 'Paths',\r\n                config: {\r\n                    center: 16,\r\n                    variance: 1,\r\n                    shape: 'path',\r\n                    timeLimit: 0,\r\n                }\r\n            }\r\n        ],\r\n        times: [0, 7000, 20000]\r\n    },\r\n\r\n    {\r\n        category: 'Area',\r\n        numQuestions: 5,\r\n        generator: genArea,\r\n        helpText: 'If the white shape has an area of 1, estimate the area of the yellow shape',\r\n\r\n\r\n        levels: [\r\n\r\n            {\r\n                name: 'Circles',\r\n                config: {\r\n                    center: 3,\r\n                    variance: 5,\r\n                    shape: 'circle',\r\n                    timeLimit: 0,\r\n                }\r\n            },\r\n            {\r\n                name: 'Polygons',\r\n                config: {\r\n                    center: 3,\r\n                    variance: 4,\r\n                    shape: 'polygon',\r\n                    timeLimit: 0,\r\n                }\r\n            },\r\n        ],\r\n        times: [0, 7000, 20000]\r\n    },\r\n    {\r\n        category: 'Speed',\r\n        numQuestions: 5,\r\n        generator: genSpeed,\r\n        helpText: 'If the white circle has a speed of 1, estimate the speed of the yellow circle',\r\n\r\n\r\n        levels: [\r\n\r\n            {\r\n                name: 'Parallel',\r\n                config: {\r\n                    center: 2,\r\n                    variance: 3,\r\n                    parallel: true,\r\n                    timeLimit: 0,\r\n                }\r\n            },\r\n            {\r\n                name: 'Any direction',\r\n                config: {\r\n                    center: 2,\r\n                    variance: 3,\r\n                    parallel: false,\r\n                    timeLimit: 0,\r\n                }\r\n            },\r\n        ],\r\n        times: [0, 7000, 20000]\r\n    },\r\n    // {\r\n    //     category: 'Time',\r\n    //     numQuestions: 5,\r\n    //     generator: genTime,\r\n    //     helpText: 'Estimate the time (in seconds) for the Yellow timer to finish',\r\n\r\n\r\n    //     levels: [\r\n\r\n    //         {\r\n    //             name: 'Easy',\r\n    //             config: {\r\n    //                 min: 1500,\r\n    //                 max: 10000,\r\n    //                 reference: true,\r\n    //                 timeLimit: 0,\r\n    //             }\r\n    //         },\r\n    //         {\r\n    //             name: 'Hard',\r\n    //             config: {\r\n    //                 min: 1500,\r\n    //                 max: 10000,\r\n    //                 reference: false,\r\n    //                 timeLimit: 0,\r\n    //             }\r\n    //         },\r\n    //         {\r\n    //             name: 'Hard, Long',\r\n    //             config: {\r\n    //                 min: 10000,\r\n    //                 max: 30000,\r\n    //                 reference: false,\r\n    //                 timeLimit: 0,\r\n    //             }\r\n    //         },\r\n    //     ],\r\n    //     times: [0]\r\n    // },\r\n]\r\n\r\nexport default modes;\r\n\r\n","import React, { CSSProperties } from \"react\";\r\nimport { Button, ButtonGroup, ThemeProvider } from \"react-bootstrap\";\r\nimport { Theme } from \"../App\";\r\n\r\nimport modes from \"../logic/GameModes\"\r\n\r\ntype propType = {\r\n    theme: Theme,\r\n    updateHandler: any,\r\n    visible: boolean\r\n}\r\n\r\ntype stateType = {\r\n    outer: string,\r\n    level: string,\r\n    timeLimit: number\r\n}\r\n\r\nclass GamemodeSidebar extends React.Component<propType,stateType> {\r\n\r\n    constructor(props: propType) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            outer: 'Multiplication',\r\n            level: 'Easy',\r\n            timeLimit: 0\r\n        }\r\n\r\n        this.changeOuter = this.changeOuter.bind(this);\r\n        this.changeTimeLimit = this.changeTimeLimit.bind(this);\r\n        this.changeLevel = this.changeLevel.bind(this);\r\n        this.updateParent = this.updateParent.bind(this);\r\n        this.handleUpdate = this.handleUpdate.bind(this)\r\n    }\r\n    \r\n\r\n    render() {\r\n\r\n        if (!this.props.visible) {\r\n            return <div></div>\r\n        }\r\n\r\n        let sidebarStyle: CSSProperties = {\r\n            height: '100%',\r\n            width: '300px',\r\n            position: 'fixed',\r\n            zIndex: 10000,\r\n            top: 0,\r\n            right: 0,\r\n            overflowX: 'hidden',\r\n            backgroundColor: this.props.theme.primary,\r\n            \r\n            borderLeft: `3px solid ${this.props.theme.textColor}`,\r\n            // borderTop: `3px solid ${this.props.theme.textColor}`,\r\n        }\r\n        sidebarStyle.marginTop = document.getElementById('header')?.clientHeight\r\n\r\n        let headingStyle: CSSProperties = {\r\n            fontFamily: this.props.theme.headerFont,\r\n            fontSize: '20px',\r\n            margin: '3px'\r\n        }\r\n\r\n        let chosenOuter = modes[0];\r\n\r\n        let outerButtons = modes.map((e: any, i: any) => {\r\n            let isSelected = e.category === this.state.outer\r\n            \r\n            if (isSelected) {\r\n                chosenOuter = e\r\n            }\r\n\r\n            return <Button \r\n                key = {i}\r\n                style = {{margin: '2px'}}\r\n                variant={isSelected ? 'warning' : 'primary'}\r\n                onClick={() => this.changeOuter(e.category)}    \r\n            >{e.category}</Button>\r\n        })\r\n\r\n        let timeButtons = chosenOuter.times.map((e: any ,i: any) => {\r\n            let isSelected = e === this.state.timeLimit\r\n            \r\n            let timerText = e > 0? (e/1000).toFixed(0) + ' s' : 'Unlimited'\r\n\r\n            return <Button \r\n            \r\n                key = {i}\r\n                style = {{margin: '2px'}}\r\n                variant={isSelected ? 'warning' : 'primary'}\r\n                onClick={() => this.changeTimeLimit(e)}    \r\n            >{timerText}</Button>\r\n        })\r\n\r\n        let levelButtons = chosenOuter.levels.map((e: any,i: any) => {\r\n            let isSelected = e.name === this.state.level\r\n            \r\n\r\n            return <Button \r\n                key = {i}\r\n                 style = {{margin: '2px'}}\r\n                variant={isSelected ? 'warning' : 'primary'}\r\n                onClick={() => this.changeLevel(e.name)}    \r\n            >{e.name}</Button>\r\n        })\r\n\r\n\r\n        return (\r\n\r\n            <div style= {sidebarStyle}>\r\n                <div style={{...headingStyle, fontSize: '24px'}}>Gamemode Settings</div>\r\n\r\n                <div style={headingStyle}>Time Limit</div> \r\n                {timeButtons}\r\n\r\n                <div style={headingStyle}>Difficulty</div> \r\n                {levelButtons}\r\n\r\n                <div style={headingStyle}>Category</div> \r\n                <ButtonGroup vertical>\r\n                    {outerButtons}\r\n                </ButtonGroup>\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n    changeOuter(newCategory: string) {\r\n        if (this.state.outer === newCategory) {\r\n            return\r\n        }\r\n\r\n        let outerObj:any = {};\r\n\r\n        for (let i = 0; i < modes.length; i++) {\r\n            if (modes[i].category === newCategory) {\r\n                outerObj = modes[i];\r\n            }\r\n        }\r\n\r\n        let newTime = outerObj.times[0]\r\n        let newLevel = outerObj.levels[0].name;\r\n\r\n\r\n        this.setState({outer: newCategory, timeLimit: newTime, level: newLevel}, this.updateParent)\r\n    }\r\n\r\n    changeTimeLimit(newLimit: number) {\r\n        if (this.state.timeLimit === newLimit) {\r\n            return\r\n        }\r\n        this.setState({timeLimit: newLimit}, this.updateParent)\r\n    }\r\n\r\n    changeLevel(newLevel: string) {\r\n        if (this.state.level === newLevel) {\r\n            return\r\n        }\r\n        this.setState({level: newLevel}, this.updateParent)\r\n    }\r\n\r\n    //category: string, numQ: number, generator: any, config: any\r\n    updateParent() {\r\n\r\n        let outerObj: any = {};\r\n        for (let i = 0; i < modes.length; i++) {\r\n            if (modes[i].category === this.state.outer) {\r\n                outerObj = modes[i];\r\n            }\r\n        }\r\n\r\n        let category = `${this.state.outer} (${this.state.level})`;\r\n        let numQ = outerObj.numQuestions;\r\n        let generator = outerObj.generator;        \r\n        let config: any = {}\r\n        for (let l of outerObj.levels) {\r\n            if (l.name === this.state.level) {\r\n                config = l.config;\r\n            }\r\n        }\r\n\r\n        config.timeLimit = this.state.timeLimit;\r\n        this.props.updateHandler(category, numQ, generator, config, outerObj.helpText)\r\n    }\r\n\r\n    handleUpdate(outer: string) {\r\n        let outerObj: any = {};\r\n        for (let i = 0; i < modes.length; i++) {\r\n            if (`${modes[i].category} (${modes[i].levels[0].name})` === outer) {\r\n                outerObj = modes[i];\r\n            }\r\n        }\r\n        outer = outerObj.category\r\n        let level = outerObj.levels[0].name;\r\n        let timeLimit = outerObj.times[0]\r\n        this.setState({outer, level, timeLimit}) \r\n    }\r\n    \r\n}\r\n\r\nexport default GamemodeSidebar","import React, { CSSProperties } from \"react\"\r\nimport { Theme } from \"../App\"\r\n\r\n\r\ntype propType = {\r\n    theme: Theme,\r\n    sidebarHandler: (arg0: string) => void,\r\n    width: number\r\n}\r\n\r\n\r\nclass HeaderView extends React.Component<propType,{}> {\r\n    render() {\r\n        \r\n        let headerStyle: CSSProperties = {\r\n            background: this.props.theme.primary,\r\n            width: \"wrap-content\",\r\n            textAlign: 'center',\r\n            fontFamily: this.props.theme.headerFont,\r\n            fontSize: \"30px\",\r\n            color: this.props.theme.textColor,\r\n        }\r\n\r\n        let iconStyle: CSSProperties = {\r\n            height: '100%',\r\n            margin: '6px',\r\n        }\r\n\r\n        if (this.props.width < 400) headerStyle.fontSize = \"24px\"\r\n        return (\r\n            \r\n            <div style = {headerStyle} id = 'header'>\r\n             \r\n                <span style={{ ...headerStyle, display:'inline-block'}}>\r\n                    The Estimation Game\r\n                </span>\r\n                <i \r\n                    className=\"fas fa-question\" \r\n                    style={{ ...iconStyle ,float: 'left'}}\r\n                    onClick = {() => this.props.sidebarHandler('left')}\r\n                />\r\n                <i \r\n                    className=\"fas fa-dice\" \r\n                    style={{...iconStyle ,float: 'right'}}\r\n                    onClick = {() => this.props.sidebarHandler('right')}\r\n                \r\n                />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default HeaderView","import React from \"react\";\r\nimport { Theme } from \"../App\";\r\nimport Question from \"../logic/Question\";\r\n\r\n\r\nimport modes from \"../logic/GameModes\"\r\nimport { Button, ButtonGroup } from \"react-bootstrap\";\r\n\r\n\r\ntype propType = {\r\n    theme: Theme,\r\n    updateHandler: any\r\n\r\n}\r\n\r\nclass WelcomePage extends React.Component<propType, {}> {\r\n\r\n    constructor(props: propType) {\r\n        super(props) \r\n            \r\n        this.updateParent = this.updateParent.bind(this)\r\n        \r\n    }\r\n\r\n    render() {\r\n\r\n        let {theme, updateHandler} = this.props\r\n\r\n        let outerButtons = modes.map((e: any, i: any) => {\r\n            \r\n\r\n            return <Button \r\n                key = {i}\r\n                style = {{margin: '2px'}}\r\n                variant='primary'\r\n                onClick={() => this.updateParent(e.category)}    \r\n            >{e.category}</Button>\r\n        })\r\n\r\n        return (<div id='welcomediv'>\r\n            <div style={{fontSize: '24px', fontFamily: theme.bodyFont, textAlign: 'center', padding: '10px'}}>\r\n                Quick Play\r\n            </div>\r\n            \r\n            <ButtonGroup vertical style={{width: '100%'}}>\r\n                {outerButtons}\r\n            </ButtonGroup>\r\n           \r\n        </div>)\r\n    }\r\n\r\n    updateParent(outer: string) {\r\n\r\n        let outerObj: any = {};\r\n        for (let i = 0; i < modes.length; i++) {\r\n            if (modes[i].category === outer) {\r\n                outerObj = modes[i];\r\n            }\r\n        }\r\n        let level = outerObj.levels[0].name\r\n\r\n        let category = `${outer} (${level})`;\r\n        let numQ = outerObj.numQuestions;\r\n        let generator = outerObj.generator;        \r\n        let config: any = {}\r\n        for (let l of outerObj.levels) {\r\n            if (l.name === level) {\r\n                config = l.config;\r\n            }\r\n        }\r\n\r\n        config.timeLimit = outerObj.times[0];\r\n\r\n        this.props.updateHandler(category, numQ, generator, config, outerObj.helpText, true)\r\n    }\r\n}\r\n\r\nexport default WelcomePage","import React, { CSSProperties } from \"react\";\r\nimport { Button, ButtonGroup, ThemeProvider } from \"react-bootstrap\";\r\nimport { Theme } from \"../App\";\r\nimport modes from \"../logic/GameModes\"\r\nvar ls = require('local-storage')\r\n\r\n\r\ntype propType = {\r\n    theme: Theme,\r\n    visible: boolean\r\n}\r\n\r\nclass SettingsSidebar extends React.Component<propType,{}> {\r\n\r\n    constructor(props: propType) {\r\n        super(props);\r\n\r\n    }\r\n    \r\n\r\n    render() {\r\n\r\n        if (!this.props.visible) {\r\n            return <div></div>\r\n        }\r\n\r\n        let sidebarStyle: CSSProperties = {\r\n            height: '100%',\r\n            width: '350px',\r\n            position: 'fixed',\r\n            zIndex: 10000,\r\n            top: 0,\r\n            left: 0,\r\n            overflowX: 'hidden',\r\n            backgroundColor: this.props.theme.primary,\r\n            \r\n            borderRight: `3px solid ${this.props.theme.textColor}`,\r\n            // borderTop: `3px solid ${this.props.theme.textColor}`,\r\n        }\r\n        sidebarStyle.marginTop = document.getElementById('header')?.clientHeight\r\n\r\n        let headingStyle: CSSProperties = {\r\n            fontFamily: this.props.theme.headerFont,\r\n            fontSize: '20px',\r\n            margin: '3px'\r\n        }\r\n        let bodyStyle: CSSProperties = {\r\n            fontFamily: this.props.theme.bodyFont,\r\n            fontSize: '16px',\r\n            margin: '3px'\r\n        }\r\n\r\n\r\n    \r\n\r\n\r\n        return (\r\n\r\n            <div style= {sidebarStyle}>\r\n                <div style = {headingStyle}>\r\n                    Instructions\r\n                </div>\r\n                <div style = {bodyStyle}>\r\n                    To select a gamemode, click the dice icon on the top right. You will see a description of what needs to be guessed.\r\n                </div>\r\n                <br></br>\r\n                <div style = {bodyStyle}>\r\n                    Type your answer in the input box and press <b>Enter↵</b> to submit the answer. Each answer is given a score between 0 and 100 based on how accurate it is. The score, correct answer, and your guess are also shown there.\r\n                </div>\r\n                <br></br>\r\n                <div style = {bodyStyle}>\r\n                    For very large/very small answers, use \"e\" to use scientific notation. E.g. 1234000 can be entered as \"1.234e6\". \r\n                </div>\r\n                <br></br>\r\n                <div style = {bodyStyle}>\r\n                    For timed questions, if the timer runs out, the answer in the text box is submitted. If there is no valid number in the text box, \"1\" is submitted. \r\n                </div>\r\n                <br></br>\r\n                <Button \r\n                    style = {{margin: '5px'}}\r\n                    variant = 'danger'\r\n                    onClick = {this.handleDelete} >\r\n                        \r\n                Reset Highscores</Button>\r\n\r\n                {/* <Button \r\n                    style = {{margin: '5px'}}\r\n                    variant = 'danger'\r\n                    onClick = {() => {\r\n                        console.log(ls('highscores'))\r\n                    }} >\r\n                        \r\n                Debug</Button> */}\r\n\r\n                \r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n    handleDelete() {\r\n        let res = window.confirm('do you wanna delete')\r\n        if (!res) {\r\n            return\r\n        }\r\n\r\n        ls.remove('highscores')\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n}   \r\n\r\nexport default SettingsSidebar","import React, { CSSProperties } from 'react';\r\nimport { Container, Row, Col} from 'react-bootstrap';\r\nimport './App.css';\r\nimport { genMul } from './logic/QGenerators';\r\nimport Question from './logic/Question';\r\nimport CenterView from './view/CenterView';\r\nimport GamemodeSidebar from './view/GamemodeSidebar';\r\nimport HeaderView from './view/HeaderView';\r\nimport modes from './logic/GameModes'\r\nimport GameState from './logic/GameState';\r\nimport WelcomePage from './view/WelcomePage';\r\nimport TextView from './questionViews/TextView';\r\nimport AngleView from './questionViews/AngleView';\r\nimport CountingStaticView from './questionViews/CountingStaticView';\r\nimport { Recoverable } from 'repl';\r\nimport SettingsSidebar from './view/SettingsSidebar';\r\nvar ls = require('local-storage')\r\n\r\nlet generator: (arg0: any) => Question = genMul;\r\ntype stateType = {\r\n\twidth: number,\r\n\theight: number,\r\n\tleftBar: boolean,\r\n\trightBar: boolean,\r\n\twelcomePage: boolean\r\n}\r\n\r\nexport type Theme = {\r\n\tbackground: string,\r\n\tprimary: string,\r\n\tsecondary: string,\r\n\ttextColor: string,\r\n\tquestionFont: string, \r\n\theaderFont: string,\r\n\tbodyFont: string\r\n}\r\n\r\nlet theme: Theme = {\r\n\tbackground: \"#222831\",\r\n\tprimary: \"#30475e\",\r\n\tsecondary: \"#ffc107\",\r\n\ttextColor: \"#eeeeee\",\r\n\tquestionFont: \"Roboto Mono\",\r\n\theaderFont: \"Concert One\",\r\n\tbodyFont: \"Noto Sans\"\r\n}\r\n\r\nlet appStyle: CSSProperties = {\r\n\tbackground: theme.background,\r\n\tminHeight: \"100vh\",\r\n\tcolor: theme.textColor,\r\n\tfontFamily: theme.bodyFont\r\n}\r\n\r\n\r\nlet previewQuestions: any = [\r\n\t<TextView text = {'12 * 34'}/>,\r\n\t<TextView text = {'60% * 35% * 12%'}/>,\r\n\t<AngleView angle = {Math.PI / 3}/>,\r\n\t<CountingStaticView num = {25} shape = {'circle'}/>\r\n]\r\n\r\nlet categories = ['Multiplication' , 'Percentages', 'Angles' , 'Counting']\r\n\r\n\r\n\r\nclass App extends React.Component<any,stateType> {\r\n\r\n\tcenterRef: React.RefObject<CenterView>\r\n\tsidebarRef: React.RefObject<GamemodeSidebar>\r\n\r\n\tconstructor(props: any) {\r\n\t\tsuper(props)\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\twidth: window.innerWidth,\r\n\t\t\theight: window.innerHeight,\r\n\t\t\trightBar: false,\r\n\t\t\tleftBar: false,\r\n\t\t\twelcomePage: true\r\n\t\t}\r\n\t\twindow.addEventListener('resize', (ev: any)=> {\r\n\t\t\tthis.setState({\r\n\t\t\t\theight: ev.currentTarget.innerHeight,\r\n\t\t\t\twidth: ev.currentTarget.innerWidth\r\n\t\t\t})\r\n\t\t})\r\n\t\tthis.sidebarHandler = this.sidebarHandler.bind(this)\r\n\t\tthis.centerRef = React.createRef()\r\n\t\tthis.sidebarRef = React.createRef()\r\n\t\tthis.updateGamemode = this.updateGamemode.bind(this)\r\n\r\n\t\tif (ls('highscore') == null) {\r\n\t\t\tls('highscore' , {})\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\t\r\n\trender() {\r\n    \treturn (\r\n\t\t\t<div style = {appStyle}>\r\n\t\t\t\t<HeaderView theme = {theme} sidebarHandler = {this.sidebarHandler} width = {this.state.width} />\r\n\t\t\t\t{this.state.welcomePage && <div style={{right: 5, position: 'fixed', fontSize: 20}}> View all modes ↑ </div>}\r\n\t\t\t\t{this.state.welcomePage && <div style={{left: 5, position: 'fixed', fontSize: 20}}> ↑ Settings / Help</div>}\r\n\t\t\t\t{this.state.welcomePage && <br/>}\r\n\t\t\t\t<SettingsSidebar theme = {theme} visible = {this.state.leftBar} />\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col lg={2} md={1} xs = {0}>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col lg={8} md={10} xs = {12}>\r\n\t\t\t\t\t\t\t{this.state.welcomePage? \r\n\t\t\t\t\t\t\t\t<WelcomePage theme = {theme} updateHandler = {this.updateGamemode}/> : \r\n\t\t\t\t\t\t\t\t<CenterView theme = {theme} ref = {this.centerRef} width = {this.state.width}></CenterView>\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col lg ={2} md = {1} xs = {0} >\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\r\n\t\t\t\t <GamemodeSidebar ref = {this.sidebarRef} theme = {theme} updateHandler = {this.updateGamemode} visible = {this.state.rightBar} />\r\n\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t\r\n  \t}\r\n  \r\n\tsidebarHandler(side: string) {\r\n\t\tif (side === 'right') {\r\n\t\t\tthis.setState(({rightBar}) => ({\r\n\t\t\t\trightBar: !rightBar,\r\n\t\t\t\tleftBar: false\r\n\t\t\t}))\r\n\t\t} else if (side === 'left') {\r\n\t\t\tthis.setState(({leftBar}) => ({\r\n\t\t\t\tleftBar: !leftBar,\r\n\t\t\t\trightBar: false\r\n\t\t\t}))\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tupdateGamemode(category: string, numQ: number, generator: any, config: any, helpText: string, fromWelcomePage = false) {\r\n\t\tif (this.state.welcomePage) {\r\n\t\t\tthis.setState({welcomePage: false}, \r\n\t\t\t() => {\r\n\t\t\t\tif (fromWelcomePage) {\r\n\t\t\t\t\tthis.sidebarRef.current?.handleUpdate(category)\r\n\t\t\t\t}\t\r\n\t\t\t\tthis.updateGamemode(category, numQ, generator, config, helpText)\r\n\t\t\t})\r\n\t\t} \r\n\t\tlet gameState = new GameState();\r\n\t\tgameState.category = category;\r\n\t\tgameState.numQuestions = numQ;\r\n\t\tgameState.generator = generator;\r\n\t\tgameState.generatorconfig =config;\r\n\t\tgameState.storageKey = `${category}|${config.timeLimit}`\r\n\t\tgameState.helpText = helpText\r\n\t\tthis.centerRef.current?.parentUpdate(gameState)\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}