{"version":3,"sources":["questionViews/AngleView.tsx","questionViews/CountingStaticView.tsx","questionViews/TextView.tsx","logic/Question.tsx","logic/QGenerators.tsx","logic/GameState.tsx","logic/GameController.tsx","view/InputView.tsx","view/QuestionView.tsx","view/ScoreView.tsx","view/GameInfoView.tsx","view/ButtonRow.tsx","logic/KeyDecoder.tsx","view/CenterView.tsx","logic/GameModes.ts","view/GamemodeSidebar.tsx","view/HeaderView.tsx","App.tsx","index.tsx"],"names":["AngleView","props","canvasRef","width","height","state","remUpdates","React","createRef","update","bind","this","document","getElementById","clientWidth","ctx","current","getContext","fillStyle","fillRect","strokeStyle","lineWidth","beginPath","radius","innerRad","moveTo","lineTo","x","Math","cos","angle","y","sin","arc","stroke","ref","setState","setTimeout","Component","rngInt","low","high","floor","random","CountingStaticView","gridsize","num","filled","Array","fill","map","cnt","drawFunction","shape","drawSquare","drawCircle","r","c","w","h","cellsize","console","log","PI","closePath","TextView","fontStyle","fontSize","textAlign","minHeight","max","mode","style","fontFamily","text","defaultScorer","guess","actual","Question","view","answer","scorer","timelimit","id","logRng","mid","variance","pow","genMul","config","numOperands","rangeCenter","rangeVariance","operandVariance","timeLimit","numOp","result","operands","i","nextOperand","push","round","sort","a","b","reduce","acc","cur","questionString","forEach","element","slice","fraction","ProgressState","InputType","defaultConfig","GameState","generator","questionArray","currentQuestion","category","numQuestions","currentIndex","recentScore","totalScore","recentGuess","recentAnswer","progressState","PREGAME","generatorconfig","totalTime","initialState","InputView","inputField","timerInterval","questionId","startTime","handleKeyDown","e","key","gameState","RUNNING","parsed","parseFloat","error","isNaN","inputHandler","type","ANSWER","payload","POSTGAME","BUTTON","drawArc","handleChange","canvas","context","theme","background","translate","cx","cy","focus","inputStyle","color","textColor","curQuestion","undefined","clearInterval","Date","now","setInterval","PAUSED","forceUpdate","placeholder","display","flexDirection","InputGroup","size","FormControl","onKeyDown","value","onChange","inputText","target","lastChar","length","mainFontStyle","altFontStyle","padding","QuestionView","questionFont","question","ScoreView","errorString","relError","abs","log10","toFixed","errorStyle","window","innerWidth","float","Container","Row","Col","xs","sm","format","superscripts","min","exponent","mantissa","temp","toString","exponentStr","parseInt","tmp","decimal","substring","GameInfoView","headerFont","marginTop","progressString","startButton","Button","variant","bodyFont","onClick","replayButton","borderColor","buttonStyle","marginRight","ButtonRow","pauseEvent","resetEvent","paused","runningButtons","prev","CenterView","prevTimestamp","handleInput","keyCapture","body","addEventListener","removeEventListener","input","next","callback","score","nextState","inputEvent","timeStamp","code","decodeInput","modes","levels","name","times","operandRange","minDeg","maxDeg","resultRad","GamemodeSidebar","outer","level","changeOuter","changeTimeLimit","changeLevel","updateParent","visible","sidebarStyle","position","zIndex","top","right","overflowX","backgroundColor","primary","borderLeft","clientHeight","headingStyle","margin","chosenOuter","outerButtons","isSelected","timeButtons","timerText","levelButtons","ButtonGroup","vertical","newCategory","outerObj","newTime","newLevel","newLimit","numQ","l","updateHandler","HeaderView","headerStyle","iconStyle","className","sidebarHandler","secondary","appStyle","App","centerRef","innerHeight","rightBar","leftBar","ev","currentTarget","updateGamemode","lg","md","side","parentUpdate","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.cfcd78ef.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Theme } from \"../App\";\r\n\r\ntype stateType = {\r\n    remUpdates: number\r\n}\r\n\r\ntype propType = {angle: number}\r\n\r\nclass AngleView extends React.Component<propType, stateType> {\r\n    \r\n    canvasRef: React.RefObject<HTMLCanvasElement>\r\n    width: number = 300\r\n    height: number = 300\r\n    constructor(props: propType) {\r\n        super(props)\r\n        this.state = {\r\n            remUpdates: 1\r\n        }\r\n        this.canvasRef = React.createRef();\r\n        this.update = this.update.bind(this);\r\n    }\r\n    \r\n\r\n    render() {\r\n\r\n       \r\n        this.width = document.getElementById('centerview')?.clientWidth || 300;\r\n        this.height = this.width;\r\n        let ctx = this.canvasRef.current?.getContext('2d')\r\n        if (ctx) {\r\n\r\n            ctx.fillStyle = '#222831'\r\n            ctx.fillRect(0,0,this.width, this.height)\r\n\r\n            ctx.strokeStyle = '#eeeeee'\r\n            ctx.lineWidth = this.width /150\r\n            ctx.beginPath()\r\n            let radius = this.width * 0.4\r\n            let innerRad = radius * 0.2\r\n            ctx.moveTo(this.width/2, this.height/2)\r\n            ctx.lineTo(this.width / 2 + radius, this.height / 2)\r\n            ctx.moveTo(this.width / 2, this.height / 2);\r\n\r\n            let x = radius * Math.cos(this.props.angle)\r\n            let y = radius * Math.sin(this.props.angle)\r\n\r\n            ctx.lineTo(this.width / 2 + x , this.height / 2 - y)\r\n\r\n\r\n            ctx.moveTo(this.width/2, this.height/2)\r\n            \r\n            ctx.arc(this.width/2, this.height/2, innerRad, -this.props.angle , 0)\r\n\r\n            ctx.stroke()\r\n        }\r\n\r\n        this.update();\r\n\r\n\r\n\r\n        return <canvas width = {this.width} height = {this.height} ref = {this.canvasRef}/>\r\n    }\r\n\r\n\r\n\r\n    update() {\r\n        if (this.state.remUpdates <= 0) {\r\n            return\r\n        }\r\n        \r\n        this.setState((state) => ({remUpdates: state.remUpdates - 1}));\r\n        setTimeout(this.update, 16.67);\r\n    }\r\n}\r\n\r\nexport default AngleView","import React from \"react\";\r\nimport { Theme } from \"../App\";\r\n\r\ntype stateType = {\r\n    remUpdates: number\r\n}\r\n\r\ntype propType = {num: number, shape: string}\r\n\r\nfunction rngInt(low: number, high: number) : number {\r\n    return low + Math.floor(Math.random() * (high - low + 0.99999));\r\n}\r\n\r\n\r\nclass CountingStaticView extends React.Component<propType, stateType> {\r\n    \r\n    canvasRef: React.RefObject<HTMLCanvasElement>\r\n    width: number = 300\r\n    height: number = 300\r\n    constructor(props: propType) {\r\n        super(props)\r\n        this.state = {\r\n            remUpdates: 1\r\n        }\r\n        this.canvasRef = React.createRef();\r\n        this.update = this.update.bind(this);\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        let {num} = this.props\r\n        let gridsize = num < 100 ? 32 : 50\r\n        \r\n        this.width = document.getElementById('centerview')?.clientWidth || 300;\r\n        this.height = this.width;\r\n        let cellsize = this.width / gridsize;\r\n        \r\n        let ctx = this.canvasRef.current?.getContext('2d')\r\n        if (ctx) {\r\n\r\n            ctx.fillStyle = '#222831'\r\n            ctx.fillRect(0,0,this.width, this.height)\r\n\r\n            ctx.fillStyle = '#eeeeee'\r\n            let filled: boolean[][] = new Array(gridsize)\r\n                .fill(false)\r\n                .map(() => new Array(gridsize)\r\n                .fill(false));\r\n\r\n            \r\n\r\n            let cnt = 0\r\n            let drawFunction = this.props.shape === 'square'? this.drawSquare : this.drawCircle\r\n            while (cnt < this.props.num) {\r\n\r\n                let r = rngInt(0, gridsize - 1)\r\n                let c = rngInt(0, gridsize - 1)\r\n                if (filled[r][c]) continue\r\n\r\n                filled[r][c] = true\r\n\r\n                drawFunction(ctx, gridsize, r, c, this.width, this.height)\r\n\r\n                cnt++\r\n            }\r\n\r\n        }\r\n\r\n        this.update();\r\n\r\n\r\n\r\n        return <canvas width = {this.width} height = {this.height} ref = {this.canvasRef}/>\r\n    }\r\n\r\n    update() {\r\n        if (this.state.remUpdates <= 0) {\r\n            return\r\n        }\r\n        \r\n        this.setState((state) => ({remUpdates: state.remUpdates - 1}));\r\n        setTimeout(this.update, 16.67);\r\n    }\r\n\r\n    drawCircle(ctx: CanvasRenderingContext2D , gridsize: number, r: number, c: number, w: number, h: number) {\r\n       \r\n        \r\n\r\n        let cellsize = w / (gridsize + 1)\r\n        \r\n        let x = c * cellsize\r\n        let y = r * cellsize\r\n        x += cellsize * (gridsize - r - 1) / gridsize;\r\n        y += cellsize * (c) / gridsize\r\n\r\n        x += cellsize / 2\r\n        y += cellsize / 2\r\n\r\n        if (x < 0 || x > h || y < 0 || y > h) console.log('err')\r\n\r\n        ctx.beginPath()\r\n        ctx.arc(x,y,cellsize / 2 * 0.9, 0, 2* Math.PI)\r\n        ctx.fill()\r\n        ctx.closePath()\r\n\r\n    }\r\n\r\n    drawSquare(ctx: CanvasRenderingContext2D , gridsize: number, r: number, c: number, w: number, h: number) {\r\n        let cellsize = w / (gridsize + 1)\r\n        \r\n        let x = c * cellsize\r\n        let y = r * cellsize\r\n        x += cellsize * (gridsize - r - 1) / gridsize;\r\n        y += cellsize * (c) / gridsize\r\n\r\n        x += cellsize / 2\r\n        y += cellsize / 2\r\n\r\n        if (x < 0 || x > h || y < 0 || y > h) console.log('err')\r\n\r\n        ctx.beginPath()\r\n        ctx.fillRect(x,y,cellsize, cellsize)\r\n        ctx.closePath()\r\n\r\n    }\r\n}\r\n\r\nexport default CountingStaticView","import React, { CSSProperties } from \"react\";\r\n// @ts-ignore\r\nimport { Textfit } from 'react-textfit';\r\n\r\n\r\nclass TextView extends React.Component<{text: string}, {}> {\r\n\r\n    render() {\r\n\r\n        let fontStyle: CSSProperties = {\r\n            fontSize: 45,\r\n            textAlign: \"center\" as const,\r\n            minHeight: 100\r\n        }\r\n        return (\r\n        <Textfit max={fontStyle.fontSize} mode = {'single'} style = {{...fontStyle, fontFamily: 'Roboto Mono'}}>\r\n            {this.props.text}\r\n        </Textfit>)\r\n    }\r\n\r\n}\r\n\r\nexport default TextView","\r\n\r\nclass Question {\r\n    \r\n    view: any\r\n    answer: number\r\n    timelimit: number\r\n    id: number\r\n    \r\n    // Return a number between 0 and 1\r\n    scorer: (arg0: number) => number\r\n\r\n    constructor(view: any, answer: number, scorer = defaultScorer, timelimit: number = 0) {\r\n        this.view = view\r\n        this.answer = answer\r\n        this.id = Math.random();\r\n        this.scorer = (guess: number) => scorer(guess, this.answer)\r\n        this.timelimit = timelimit\r\n    }\r\n\r\n}\r\n\r\nfunction defaultScorer(guess: number, actual: number) : number {\r\n    if (guess < actual) {\r\n        return guess / actual;\r\n    }\r\n    return actual / guess;\r\n}\r\n\r\nexport default Question","import React from \"react\";\r\nimport { Theme } from \"../App\";\r\nimport AngleView from \"../questionViews/AngleView\";\r\nimport CountingStaticView from \"../questionViews/CountingStaticView\";\r\nimport TextView from \"../questionViews/TextView\";\r\nimport Question from \"./Question\";\r\n\r\ntype Range = {\r\n    low: number,\r\n    high: number\r\n}\r\n\r\n\r\n\r\nfunction rngInt(low: number, high: number) : number {\r\n    return low + Math.floor(Math.random() * (high - low + 0.99999));\r\n}\r\n\r\n\r\nfunction rng(low: number, high: number) : number {\r\n    return low + Math.random() * (high - low);\r\n}\r\n\r\nfunction logRng(mid: number, variance: number) : number {\r\n    return mid * Math.pow(2 , rng(-variance, variance));\r\n}\r\n\r\n\r\nexport function genMul(config : {\r\n    numOperands : Range,\r\n    rangeCenter: number,\r\n    rangeVariance: number\r\n    operandVariance: number,\r\n    timeLimit: number\r\n\r\n}) : Question {\r\n    let {numOperands, rangeCenter, rangeVariance, operandVariance, timeLimit} = config;\r\n    let numOp = rngInt(numOperands.low, numOperands.high);\r\n    let result = logRng(rangeCenter, rangeVariance);\r\n    let avgOp: number\r\n    let operands: number[] = [];\r\n    for (let i = 0; i < numOp; i++) {\r\n        avgOp = Math.pow(result , 1 / (numOp - i));\r\n        let nextOperand = logRng(avgOp , operandVariance);\r\n        operands.push(Math.round(nextOperand));\r\n        result /= nextOperand;\r\n    }\r\n    operands.sort((a,b) => a-b);\r\n    \r\n\r\n    // Calculate actual result\r\n    result = operands.reduce((acc, cur) => acc * cur);\r\n    // scorer\r\n    let scorer = (guess: number, actual: number) : number => {\r\n        let fraction = guess < actual ? (guess / actual) : (actual / guess)\r\n        return Math.round(fraction * 100)\r\n    }\r\n\r\n    let questionString = '';\r\n    operands.forEach(element => {\r\n        questionString += `${element} × `;\r\n    });\r\n    questionString = questionString.slice(0, -3);\r\n    return new Question( <TextView text = {questionString}/>, result, scorer, timeLimit);\r\n}\r\n\r\nexport function genPerc(\r\n    config : {\r\n        numOperands : Range,\r\n        operandRange: Range,\r\n        timeLimit: number,\r\n        round: number\r\n    }\r\n) {\r\n\r\n    let {numOperands, operandRange, timeLimit, round} = config;\r\n    let numOp = rngInt(numOperands.low, numOperands.high);\r\n\r\n    let operands = []\r\n    let result = 1;\r\n    for (let i = 0; i < numOp; i++) {\r\n        \r\n        operands.push(rngInt(operandRange.low, operandRange.high));\r\n        \r\n        operands[i] -= operands[i] % round; \r\n        result *= operands[i] / 100;\r\n    }\r\n\r\n    let questionString = '';\r\n    operands.forEach(element => {\r\n        questionString += `${(element)}% × `;\r\n    });\r\n    questionString = questionString.slice(0, -3);\r\n\r\n    let scorer = (guess: number, actual: number) : number => {\r\n        let fraction = guess < actual ? (guess / actual) : (actual / guess)\r\n        return Math.round(fraction * 100)\r\n    }\r\n\r\n\r\n    return new Question(<TextView text = {questionString}/>, result, scorer, timeLimit);\r\n\r\n\r\n    \r\n\r\n}\r\n\r\n\r\nexport function genAngle (\r\n    config: {\r\n        minDeg: number,\r\n        maxDeg: number,\r\n        timeLimit: number\r\n    }\r\n) : Question {\r\n\r\n    let {minDeg, maxDeg, timeLimit} = config\r\n    let result = rngInt(minDeg, maxDeg);\r\n\r\n    let resultRad = result * Math.PI / 180\r\n\r\n    let scorer = (guess: number, actual: number) : number => {\r\n\r\n        let fraction = 1 - Math.abs(guess - actual) * 0.05\r\n        if (fraction < 0) fraction = 0;\r\n        return Math.round(fraction * 100)\r\n    }\r\n\r\n\r\n    return new Question(<AngleView angle={resultRad}/>, result, scorer, timeLimit)\r\n\r\n}\r\n\r\nexport function genCounting (\r\n    config: {\r\n        min: number,\r\n        max: number,\r\n        timeLimit: number\r\n    }\r\n) : Question {\r\n\r\n    let {min, max, timeLimit} = config;\r\n    let result = rngInt(min, max)\r\n\r\n    let scorer = (guess: number, actual: number) : number => {\r\n\r\n        if (guess === actual) {\r\n            return 100\r\n        }\r\n\r\n        let fraction = guess < actual ? (guess / actual) : (actual / guess)\r\n        return Math.round(fraction * 90)\r\n    }\r\n\r\n    let shape = 'circle'\r\n\r\n    return new Question(<CountingStaticView num={result} shape = {shape}/>, result, scorer, timeLimit)\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import { genMul } from \"./QGenerators\";\r\nimport Question from \"./Question\";\r\n\r\ntype generatorType = (arg0: any) => Question;\r\nexport enum ProgressState {\r\n    PREGAME,\r\n    INTRO,\r\n    RUNNING,\r\n    PAUSED,\r\n    OUTRO,\r\n    POSTGAME\r\n}\r\n\r\nlet defaultConfig = {\r\n\tnumOperands : {low: 2, high: 2},\r\n    rangeCenter: 20000,\r\n    rangeVariance: 2,\r\n    operandVariance: 2,\r\n    timeLimit: 0\r\n}\r\n\r\nclass GameState {\r\n    generator: generatorType = genMul\r\n    questionArray: Question[] = []\r\n    currentQuestion?: Question;\r\n    category: string = \"Multiplication (Easy)\"\r\n    numQuestions: number = 5\r\n    currentIndex: number = 0\r\n    recentScore: number = 0\r\n    totalScore: number = 0\r\n    recentGuess: number = 0\r\n    recentAnswer: number = 0\r\n    progressState: ProgressState = ProgressState.PREGAME\r\n    generatorconfig: any = defaultConfig\r\n    totalTime = 0\r\n    // constructor(category: string, generator: generatorType, numQuestions: number, config: any) {\r\n    //     this.category = category\r\n    //     this.generator = generator\r\n    //     this.numQuestions = numQuestions\r\n    //     this.generatorconfig = config\r\n    // }\r\n}\r\n\r\nexport default GameState;","\r\nimport GameState , {ProgressState} from \"./GameState\";\r\n\r\n\r\nexport enum InputType {\r\n    BUTTON,\r\n    ANSWER,\r\n    ANIM\r\n}\r\nexport type Input = {\r\n    type: InputType,\r\n    payload: any\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport function nextState(state: GameState, input: Input, callback: (input: Input) => void): GameState {\r\n\r\n    let next = state;\r\n    if (state.progressState === ProgressState.PREGAME) {\r\n        \r\n        if (input.type === InputType.BUTTON) {\r\n            if (input.payload === \"start\") {\r\n                next = initialState(state)\r\n\r\n                next.progressState = ProgressState.RUNNING\r\n            }\r\n        }\r\n    } else if (state.progressState === ProgressState.RUNNING) {\r\n        if (input.type === InputType.BUTTON) {\r\n            if (input.payload === \"reset\") {\r\n                next = initialState(state)\r\n                next.progressState = ProgressState.RUNNING\r\n            } else if (input.payload === 'playpause') {\r\n                next.progressState = ProgressState.PAUSED\r\n            }\r\n        } else if (input.type === InputType.ANSWER) {\r\n            let score = state.currentQuestion?.scorer(input.payload)\r\n            next.totalScore += score || 0;\r\n            next.recentGuess = input.payload\r\n            next.recentAnswer = state.currentQuestion?.answer || -1;\r\n            next.recentScore = score || 0;\r\n\r\n            next.currentIndex ++;\r\n            if (next.currentIndex < next.numQuestions) {\r\n                next.currentQuestion = next.questionArray[next.currentIndex];\r\n                next.totalTime = next.currentQuestion.timelimit\r\n            } else {\r\n                next.progressState = ProgressState.POSTGAME;\r\n            }\r\n        } \r\n    } else if (state.progressState === ProgressState.PAUSED) {\r\n        if (input.type === InputType.BUTTON && input.payload === 'playpause') {\r\n            next.progressState = ProgressState.RUNNING\r\n        } else if (input.payload === \"reset\") {\r\n            next = initialState(state)\r\n            next.progressState = ProgressState.RUNNING\r\n        }\r\n    } else if (state.progressState === ProgressState.POSTGAME) {\r\n        if (input.type === InputType.BUTTON && input.payload === 'replay') {\r\n            next = initialState(state)\r\n            next.progressState = ProgressState.RUNNING   \r\n        }\r\n    }\r\n\r\n    return next;\r\n}\r\n\r\nfunction initialState(state: GameState): GameState {\r\n    state.currentIndex = 0;\r\n    state.recentAnswer = state.recentGuess = state.recentScore = state.totalScore = 0;\r\n    state.questionArray = []\r\n    for (let i = 0; i < state.numQuestions; i++) {\r\n        state.questionArray.push(state.generator(state.generatorconfig));\r\n    }\r\n    state.currentQuestion = state.questionArray[0]\r\n    state.totalTime = state.currentQuestion.timelimit\r\n    return state\r\n}\r\n\r\n","import React, { CSSProperties } from 'react';\r\nimport { InputGroup, FormControl } from 'react-bootstrap';\r\nimport { Theme } from '../App';\r\nimport { Input, InputType } from '../logic/GameController';\r\nimport GameState, { ProgressState } from '../logic/GameState';\r\n\r\ntype propType = { \r\n    inputHandler : (arg0: Input) => void,\r\n    theme: Theme,\r\n    gameState: GameState\r\n}\r\n\r\n\r\n\r\nclass InputView extends React.Component<propType, {text: string}>{\r\n    inputField: React.RefObject<HTMLInputElement>;\r\n    canvasRef: React.RefObject<HTMLCanvasElement>;\r\n    timerInterval?: NodeJS.Timeout;\r\n    questionId: number = 0;\r\n    timeLimit: number = 0;\r\n    startTime: number = 0;\r\n    \r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            text: \"\",\r\n        }\r\n\r\n        this.inputField = React.createRef();\r\n        this.canvasRef = React.createRef();\r\n        this.drawArc = this.drawArc.bind(this);\r\n        this.handleChange = this.handleChange.bind(this)\r\n\r\n    }\r\n\r\n    drawArc(fraction: number) {\r\n        if (this.canvasRef.current === null) {\r\n            return\r\n        }\r\n\r\n        const canvas: any = this.canvasRef.current;\r\n        const context: any = this.canvasRef.current.getContext('2d');\r\n        context.strokeStyle = fraction < 0.75? 'green':'red'\r\n        \r\n        context.fillStyle = this.props.theme.background;\r\n        context.fillRect(0,0,48,48);\r\n        context.lineWidth = 3\r\n        context.translate(-0.5,-0.5);\r\n        let cx = canvas.width/2;\r\n        let cy = canvas.height/2;\r\n        context.beginPath();\r\n        context.arc(cx,cy, 16, 2* Math.PI * fraction - Math.PI /2, - Math.PI / 2);\r\n        context.stroke();\r\n\r\n        context.translate(0.5,0.5);\r\n\r\n        \r\n    }\r\n\r\n    componentDidMount(){\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.inputField.current?.focus();\r\n        \r\n    }\r\n    render() {\r\n        let inputStyle: CSSProperties = {\r\n            background: this.props.theme.background,\r\n            color: this.props.theme.textColor,\r\n        }\r\n    \r\n\r\n        \r\n        let progressState = this.props.gameState.progressState;\r\n        \r\n        let curQuestion = this.props.gameState.currentQuestion;\r\n        if (curQuestion !== undefined && curQuestion.id !== this.questionId) {\r\n\r\n            this.timerInterval && clearInterval(this.timerInterval);\r\n            \r\n            \r\n            this.questionId = curQuestion.id;\r\n            this.timeLimit = curQuestion.timelimit;\r\n            this.startTime = Date.now();\r\n            if (this.timeLimit !== 0) {\r\n                \r\n                this.timerInterval = setInterval(() => {\r\n                    if (this.props.gameState.progressState === ProgressState.PAUSED) {\r\n                        this.startTime += 16.67; // instead of stopping the interval\r\n                    }\r\n                    let elapsed =  Date.now() - this.startTime ;\r\n                    let fraction = elapsed / this.timeLimit \r\n                    \r\n                    if (fraction < 1) {\r\n                        this.drawArc(fraction);\r\n                    } else {\r\n                        this.timerInterval && clearInterval(this.timerInterval);\r\n                        this.props.inputHandler({type: InputType.ANSWER, payload: 1})\r\n                    }\r\n\r\n                }, 16.67);\r\n            }\r\n            this.forceUpdate();\r\n\r\n        }\r\n        let totalTime = curQuestion?.timelimit || 0;\r\n        let {gameState} = this.props;\r\n\r\n        let placeholder = '';\r\n        if (progressState === ProgressState.RUNNING) {\r\n            placeholder = 'Enter Answer'\r\n        } else if (progressState === ProgressState.PAUSED) {\r\n            placeholder = 'Game Paused'\r\n        }\r\n\r\n        return (\r\n            <div style={{display: 'flex', flexDirection: 'row'}}>\r\n                <InputGroup size=\"lg\" style = {inputStyle}>\r\n                    <FormControl onKeyDown = {this.handleKeyDown}\r\n                        style = {inputStyle}\r\n                        value = {this.state.text}\r\n                        onChange = {this.handleChange}\r\n                        placeholder={placeholder }\r\n                        ref = {this.inputField}\r\n                    />\r\n                </InputGroup>   \r\n                {totalTime !== 0 && gameState.progressState === ProgressState.RUNNING \r\n                && <canvas ref = {this.canvasRef} width = {48} height = {48}/>}\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n    handleChange(e: any) {\r\n        if (this.props.gameState.progressState !== ProgressState.RUNNING) {\r\n            return\r\n        }\r\n        let inputText: string = e.target.value;\r\n        let lastChar = inputText.slice(-1);\r\n        if (inputText.length === 0 || (lastChar >= '0' && lastChar <= '9') || lastChar === 'e' || lastChar === '-' || lastChar === '+' || lastChar === '.') {\r\n            this.setState({text: inputText});\r\n        } \r\n    }\r\n\r\n    handleKeyDown = (e: React.KeyboardEvent) => {\r\n        if (e.key === 'Enter' && this.props.gameState.progressState === ProgressState.RUNNING) {\r\n            let parsed : number;\r\n            try {\r\n                parsed = parseFloat(this.state.text);\r\n            } catch (error) {\r\n                return\r\n            }\r\n            if (isNaN(parsed)) {\r\n                return\r\n            }\r\n           this.props.inputHandler({type: InputType.ANSWER, payload: parsed})\r\n           this.setState({text: ''})\r\n\r\n           if (this.props.gameState.currentIndex === this.props.gameState.numQuestions - 1) {\r\n           }\r\n        } else if (e.key === 'Enter' && this.props.gameState.progressState === ProgressState.POSTGAME) {\r\n            this.props.inputHandler({type: InputType.BUTTON, payload: 'replay'})\r\n        }\r\n    }\r\n}\r\n\r\nexport default InputView","import React from 'react';\r\nimport { Theme } from '../App';\r\nimport GameState, { ProgressState } from '../logic/GameState';\r\nimport Question from '../logic/Question';\r\n// @ts-ignore\r\nimport { Textfit } from 'react-textfit';\r\nimport TextView from '../questionViews/TextView';\r\n\r\ntype propType = {\r\n    question: Question | undefined,\r\n    theme: Theme\r\n    gameState: GameState\r\n}\r\n\r\nlet mainFontStyle = {\r\n    fontSize: 45,\r\n    textAlign: \"center\" as const,\r\n    minHeight: 100\r\n}\r\n\r\nlet altFontStyle = {\r\n    fontSize: 30,\r\n    textAlign: \"center\" as const,\r\n    minHeight: 100,\r\n    padding: 15\r\n}\r\n\r\n\r\n\r\nclass QuestionView extends React.Component<propType, any>{\r\n    \r\n\r\n\r\n    render() {\r\n\r\n        let progressState = this.props.gameState.progressState;\r\n\r\n        \r\n\r\n        \r\n\r\n\r\n        if (progressState === ProgressState.PAUSED) {\r\n            return (\r\n                <div style = {{...mainFontStyle, fontFamily: this.props.theme.questionFont}}>\r\n                    ---Paused---\r\n                </div>\r\n            )\r\n        } else if (progressState === ProgressState.POSTGAME) {\r\n            return (\r\n                <div style = {{...altFontStyle, fontFamily: this.props.theme.questionFont}}>\r\n                   {`Final Score: ${this.props.gameState.totalScore}`}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (this.props.question) {\r\n            return this.props.question?.view\r\n        } \r\n        return <TextView text= '---'/>\r\n    }\r\n}\r\n\r\nexport default QuestionView","import React, { CSSProperties } from \"react\";\r\nimport { Col, Container, Row } from \"react-bootstrap\";\r\n\r\n \r\ntype propType = {\r\n    recentScore: number,\r\n    totalScore: number,\r\n    recentGuess: number,\r\n    recentAnswer: number\r\n}\r\n\r\nclass ScoreView extends React.Component<propType, {}> {\r\n\r\n    render() {\r\n\r\n        let {recentGuess , recentAnswer} = this.props\r\n\r\n        let errorString = '';\r\n        let relError = Math.abs(Math.log10(recentAnswer) - Math.log10(recentGuess))\r\n        relError = Math.pow(10, relError);\r\n        \r\n        if (isNaN(relError)) {\r\n            relError = 1\r\n        } \r\n        \r\n\r\n        \r\n        if (relError < 1.5) {\r\n            relError = 100 * (relError - 1);\r\n            errorString = `Error: ${relError.toFixed(2)} %`\r\n        } else {\r\n            relError = Math.log10(relError)\r\n            errorString = `Error (log₁₀): ${relError.toFixed(2)}`\r\n        }\r\n\r\n        let isTinyScreen = window.innerWidth < 576\r\n        let errorStyle: CSSProperties = isTinyScreen ? {} : {float: \"right\"}\r\n        \r\n        return (\r\n            <div>\r\n                <Container>\r\n                    <Row>\r\n                        <Col xs = {12} sm = {4}>\r\n                            <span >{`Score: ${this.props.totalScore} `}</span>\r\n                            <span>{`(+${this.props.recentScore})`}</span>\r\n                        </Col>\r\n                        <Col xs = {12} sm = {8}>\r\n                            <div style = {errorStyle}>\r\n                                <div>{`Guess: ${format(recentGuess)}, Answer: ${format(recentAnswer)}`}</div>\r\n                                <div>{errorString}</div>\r\n                            </div>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nlet superscripts = \"⁰¹²³⁴⁵⁶⁷⁸⁹⁻\"\r\n\r\n\r\nfunction format(num: number, max:number  = 1e6, min:number = 1e-3): string {\r\n    if (num !== 0 && (num < min || num > max)) {\r\n        let exponent = Math.floor(Math.log10(num))\r\n        let mantissa = num / Math.pow(10, exponent);\r\n        let temp = exponent.toString();\r\n        let exponentStr = ''\r\n        for (let i = 0; i < temp.length; i++) {\r\n            if (temp[i] === '-') {\r\n                exponentStr += superscripts[10]\r\n            } else {\r\n                exponentStr += superscripts[parseInt(temp[i])]\r\n            }\r\n        }\r\n\r\n        return `${mantissa.toFixed(3)}×10${exponentStr}`\r\n        \r\n    }\r\n    let tmp =  num.toString();\r\n\r\n    // Remove floating imprecision\r\n\r\n    let i = tmp.length - 1;\r\n    let decimal = 0;\r\n    while (i >= 0 && tmp[i] != '.') {\r\n        i--;\r\n        decimal++;\r\n    }\r\n    if (i >= 0 && decimal > 6) {\r\n        tmp = num.toFixed(6)\r\n    }\r\n    if (tmp.length > 8) {\r\n        tmp = tmp.substring(0,8);\r\n    }\r\n    return tmp\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default ScoreView;","import React, { CSSProperties } from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { Theme } from '../App';\r\nimport { Input, InputType } from '../logic/GameController';\r\nimport GameState, { ProgressState } from '../logic/GameState';\r\n\r\ntype propType = { \r\n    theme: Theme,\r\n    gameState: GameState,\r\n    inputHandler: (arg0: Input) => void,\r\n    width: number\r\n}\r\n\r\n\r\nclass GameInfoView extends React.Component<propType, any>{\r\n    render() {\r\n        let {theme, gameState, inputHandler} = this.props\r\n        let style: CSSProperties = {\r\n            fontFamily:  theme.headerFont,\r\n            fontSize: \"24px\",\r\n            marginTop: \"12px\",\r\n        }\r\n\r\n        if (this.props.width < 400) style.fontSize = \"20px\"\r\n\r\n        let progressString = `(${gameState.currentIndex + 1}/${gameState.numQuestions})`\r\n        let startButton = <Button \r\n            variant = \"success\" \r\n            style = {{float: \"right\", fontFamily : theme.bodyFont}}\r\n            onClick = {() => {inputHandler({type: InputType.BUTTON, payload: 'start'})}\r\n        }>Start↵</Button>\r\n        \r\n        let replayButton = <Button \r\n            variant = \"success\" \r\n            style = {{float: \"right\", fontFamily : theme.bodyFont}}\r\n            onClick = {() => {inputHandler({type: InputType.BUTTON, payload: 'replay'})}\r\n        }>Replay↵</Button>\r\n\r\n\r\n\r\n        return (\r\n            <div style = {style}>\r\n\r\n                <span>{gameState.category}</span>\r\n                \r\n                {gameState.progressState === ProgressState.PREGAME ? \r\n                    startButton :\r\n                gameState.progressState === ProgressState.POSTGAME ?\r\n                    replayButton:\r\n                    <span style = {{float: \"right\"}}>{progressString}</span>\r\n                }\r\n                <hr style = {{borderColor: theme.textColor  }}></hr>\r\n            </div>       \r\n        )\r\n    }\r\n\r\n    \r\n}\r\n\r\nexport default GameInfoView","import React, { CSSProperties } from \"react\";\r\nimport { Input, InputType } from \"../logic/GameController\";\r\nimport GameState, { ProgressState } from \"../logic/GameState\";\r\nimport { Button } from 'react-bootstrap'\r\n\r\ntype propType = {\r\n    inputHandler: (arg0: Input) => void\r\n    gameState: GameState\r\n}\r\n\r\nlet buttonStyle: CSSProperties = {\r\n    marginRight: 4\r\n}\r\n\r\nclass ButtonRow extends React.Component<propType, {}> {\r\n\r\n\r\n    constructor(props: propType) {\r\n        super(props);\r\n\r\n        this.pauseEvent = this.pauseEvent.bind(this);\r\n        this.resetEvent = this.resetEvent.bind(this);\r\n    }\r\n\r\n    render() {\r\n\r\n        let progressState = this.props.gameState.progressState\r\n        let paused = progressState === ProgressState.PAUSED\r\n\r\n        let runningButtons = \r\n        [\r\n            <Button variant=\"primary\" style={buttonStyle} key ={1} onClick={this.pauseEvent}><u>P</u>{paused? \"lay\" : \"ause\"}</Button>,\r\n            <Button variant=\"warning\" style={buttonStyle} key={2} onClick={this.resetEvent}><u>R</u>eset</Button>\r\n        ]\r\n        \r\n        let postgameButtons: HTMLElement[] = [] \r\n        // [\r\n        //     <Button variant=\"primary\" style={buttonStyle} onClick={this.replayEvent} key={1}>Replay ↵</Button>\r\n        // ]\r\n\r\n        return (\r\n            <div>\r\n                {progressState === ProgressState.POSTGAME ? postgameButtons:runningButtons }\r\n            </div>\r\n        )\r\n    }\r\n\r\n    pauseEvent() {\r\n        this.props.inputHandler({type: InputType.BUTTON, payload: \"playpause\"})\r\n    }\r\n    \r\n    resetEvent() {\r\n        this.props.inputHandler({type: InputType.BUTTON, payload: \"reset\"})\r\n    }\r\n    \r\n}\r\n\r\nexport default ButtonRow","import { Input, InputType } from \"./GameController\";\r\nimport GameState, { ProgressState } from \"./GameState\";\r\n\r\nlet prev = 0;\r\n\r\nexport function decodeInput(e: KeyboardEvent, gameState: GameState) : Input | undefined {\r\n    if (e.timeStamp - prev < 0.1) {\r\n        return undefined\r\n    }\r\n\r\n    prev = e.timeStamp\r\n\r\n    let input: Input = {\r\n        type: InputType.BUTTON,\r\n        payload: ''\r\n    }\r\n\r\n    if (e.code === 'KeyR') {\r\n        input.payload = 'reset';\r\n        return input\r\n    }\r\n    if (e.code === 'KeyP') {\r\n        input.payload = 'playpause';\r\n        return input\r\n    }\r\n    if (e.code === 'Enter') {\r\n        if (gameState.progressState === ProgressState.PREGAME) {\r\n            input.payload = 'start'\r\n            return input\r\n        }  else if (gameState.progressState === ProgressState.RUNNING) {\r\n            return undefined\r\n        }\r\n    }\r\n\r\n    return undefined\r\n}","import React from 'react';\r\nimport Question from '../logic/Question';\r\nimport InputView from './InputView';\r\nimport QuestionView from './QuestionView';\r\nimport ScoreView from './ScoreView';\r\nimport { Theme } from '../App'\r\nimport GameInfoView from './GameInfoView';\r\nimport ButtonRow from './ButtonRow';\r\nimport { Input } from '../logic/GameController';\r\nimport GameState from '../logic/GameState';\r\nimport {nextState } from '../logic/GameController'\r\nimport { decodeInput } from '../logic/KeyDecoder';\r\n\r\ntype propType = {\r\n    theme: Theme,\r\n    width: number\r\n}\r\n\r\ntype stateType = {\r\n    gameState: GameState\r\n}\r\n\r\n\r\n\r\nclass CenterView extends React.Component<propType, stateType>{\r\n    \r\n    \r\n    prevTimestamp: number = 0;\r\n\r\n    constructor(props: propType) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            gameState: new GameState()\r\n        }\r\n\r\n        \r\n        this.handleInput = this.handleInput.bind(this);   \r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        \r\n        this.handleInput = this.handleInput.bind(this);   \r\n        this.keyCapture  = this.keyCapture.bind(this);\r\n        \r\n        document.body.addEventListener('keydown', this.keyCapture)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.body.removeEventListener('keydown', this.keyCapture);\r\n    }\r\n\r\n    render() {\r\n        let gameState = this.state.gameState;\r\n        \r\n        return (\r\n            <div id='centerview'>\r\n                \r\n                <GameInfoView theme = {this.props.theme} gameState={gameState} inputHandler = {this.handleInput} width = {this.props.width}/> \r\n                <QuestionView question = {gameState.currentQuestion} theme ={this.props.theme} gameState={gameState}/>\r\n                <InputView inputHandler = {this.handleInput} theme = {this.props.theme} gameState={gameState}></InputView>\r\n                <ScoreView recentScore = {gameState.recentScore} totalScore = {gameState.totalScore}\r\n                        recentGuess = {gameState.recentGuess} recentAnswer = {gameState.recentAnswer}/>\r\n                <ButtonRow inputHandler = {this.handleInput} gameState={gameState}/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    parentUpdate(gameState: GameState) {\r\n        this.setState({gameState})\r\n    }\r\n\r\n    handleInput(input: Input) {\r\n\r\n        let next = nextState(this.state.gameState, input, this.handleInput);\r\n        this.setState({gameState: next})\r\n    }\r\n\r\n    keyCapture(e: KeyboardEvent) {\r\n        \r\n        let inputEvent: Input | undefined = decodeInput(e, this.state.gameState);\r\n        if (inputEvent !== undefined) {\r\n            this.handleInput(inputEvent);\r\n        }\r\n    }\r\n    \r\n    \r\n\r\n}\r\n\r\nexport default CenterView","import { genAngle, genCounting, genMul, genPerc } from \"./QGenerators\";\r\n\r\nlet modes: any = [\r\n    {\r\n        category: 'Multiplication',\r\n        numQuestions: 5,\r\n        generator: genMul,\r\n\r\n        levels: [\r\n            {\r\n                name: 'Easy',\r\n                config: {\r\n                    numOperands : {low: 2, high: 2},\r\n                    rangeCenter: 20000,\r\n                    rangeVariance: 2,\r\n                    operandVariance: 2,\r\n                    timeLimit: 0\r\n                }\r\n            },\r\n            {\r\n                name: 'Medium',\r\n                config: {\r\n                    numOperands : {low: 3, high: 3},\r\n                    rangeCenter: 100000,\r\n                    rangeVariance: 2,\r\n                    operandVariance: 2,\r\n                    timeLimit: 0\r\n                }\r\n            },\r\n            {\r\n                name: 'Hard',\r\n                config: {\r\n                    numOperands : {low: 4, high: 4},\r\n                    rangeCenter: 1000000,\r\n                    rangeVariance: 2,\r\n                    operandVariance: 2,\r\n                    timeLimit: 0\r\n                }\r\n            }\r\n        ],\r\n        times: [0, 10000, 30000]\r\n    },\r\n\r\n    {\r\n        category: 'Percentages',\r\n        numQuestions: 5,\r\n        generator: genPerc,\r\n\r\n        levels: [\r\n            {\r\n                name: 'Easy',\r\n                config: {\r\n                    numOperands : {low: 2, high: 3},\r\n                    operandRange: {low: 10, high: 99},\r\n                    timeLimit: 0,\r\n                    round: 5\r\n                }\r\n            },\r\n            {\r\n                name: 'Hard',\r\n                config: {\r\n                    numOperands : {low: 4, high: 4},\r\n                    operandRange: {low: 10, high: 99},\r\n                    timeLimit: 0,\r\n                    round: 1\r\n                }\r\n            }\r\n        ],\r\n        times: [0, 10000, 30000]\r\n    },\r\n\r\n    {\r\n        category: 'Angles',\r\n        numQuestions: 5,\r\n        generator: genAngle,\r\n\r\n        levels: [\r\n            {\r\n                name: 'Acute Only',\r\n                config: {\r\n                    minDeg: 1,\r\n                    maxDeg: 89,\r\n                    timeLimit: 0,\r\n            \r\n                }\r\n            },\r\n            {\r\n                name: 'Any',\r\n                config: {\r\n                    minDeg: 1,\r\n                    maxDeg: 359,\r\n                    timeLimit: 0,\r\n                }\r\n            }\r\n        ],\r\n        times: [0, 7000, 20000]\r\n    },\r\n    {\r\n        category: 'Counting (Static)',\r\n        numQuestions: 5,\r\n        generator: genCounting,\r\n\r\n        levels: [\r\n            {\r\n                name: '20 - 50',\r\n                config: {\r\n                    min: 20,\r\n                    max: 50,\r\n                    timeLimit: 0,\r\n                }\r\n            },\r\n            {\r\n                name: '50 - 100',\r\n                config: {\r\n                    min: 50,\r\n                    max: 100,\r\n                    timeLimit: 0,\r\n                }\r\n            },\r\n            {\r\n                name: '100 - 500',\r\n                config: {\r\n                    min: 100,\r\n                    max: 500,\r\n                    timeLimit: 0,\r\n                }\r\n            }\r\n        ],\r\n        times: [0, 7000, 20000]\r\n    }\r\n]\r\n\r\nexport default modes;","import React, { CSSProperties } from \"react\";\r\nimport { Button, ButtonGroup, ThemeProvider } from \"react-bootstrap\";\r\nimport { Theme } from \"../App\";\r\n\r\nimport modes from \"../logic/GameModes\"\r\n\r\ntype propType = {\r\n    theme: Theme,\r\n    updateHandler: any,\r\n    visible: boolean\r\n}\r\n\r\ntype stateType = {\r\n    outer: string,\r\n    level: string,\r\n    timeLimit: number\r\n}\r\n\r\nclass GamemodeSidebar extends React.Component<propType,stateType> {\r\n\r\n    constructor(props: propType) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            outer: 'Multiplication',\r\n            level: 'Easy',\r\n            timeLimit: 0\r\n        }\r\n\r\n        this.changeOuter = this.changeOuter.bind(this);\r\n        this.changeTimeLimit = this.changeTimeLimit.bind(this);\r\n        this.changeLevel = this.changeLevel.bind(this);\r\n        this.updateParent = this.updateParent.bind(this);\r\n\r\n    }\r\n    \r\n\r\n    render() {\r\n\r\n        if (!this.props.visible) {\r\n            return <div></div>\r\n        }\r\n\r\n        let sidebarStyle: CSSProperties = {\r\n            height: '100%',\r\n            width: '300px',\r\n            position: 'fixed',\r\n            zIndex: 10000,\r\n            top: 0,\r\n            right: 0,\r\n            overflowX: 'hidden',\r\n            backgroundColor: this.props.theme.primary,\r\n            \r\n            borderLeft: `3px solid ${this.props.theme.textColor}`,\r\n            // borderTop: `3px solid ${this.props.theme.textColor}`,\r\n        }\r\n        sidebarStyle.marginTop = document.getElementById('header')?.clientHeight\r\n\r\n        let headingStyle: CSSProperties = {\r\n            fontFamily: this.props.theme.headerFont,\r\n            fontSize: '20px',\r\n            margin: '3px'\r\n        }\r\n\r\n        let chosenOuter = modes[0];\r\n\r\n        let outerButtons = modes.map((e: any, i: any) => {\r\n            let isSelected = e.category === this.state.outer\r\n            \r\n            if (isSelected) {\r\n                chosenOuter = e\r\n            }\r\n\r\n            return <Button \r\n                key = {i}\r\n                style = {{margin: '2px'}}\r\n                variant={isSelected ? 'warning' : 'primary'}\r\n                onClick={() => this.changeOuter(e.category)}    \r\n            >{e.category}</Button>\r\n        })\r\n\r\n        let timeButtons = chosenOuter.times.map((e: any ,i: any) => {\r\n            let isSelected = e === this.state.timeLimit\r\n            \r\n            let timerText = e > 0? (e/1000).toFixed(0) + ' s' : 'Unlimited'\r\n\r\n            return <Button \r\n            \r\n                key = {i}\r\n                style = {{margin: '2px'}}\r\n                variant={isSelected ? 'warning' : 'primary'}\r\n                onClick={() => this.changeTimeLimit(e)}    \r\n            >{timerText}</Button>\r\n        })\r\n\r\n        let levelButtons = chosenOuter.levels.map((e: any,i: any) => {\r\n            let isSelected = e.name === this.state.level\r\n            \r\n\r\n            return <Button \r\n                key = {i}\r\n                 style = {{margin: '2px'}}\r\n                variant={isSelected ? 'warning' : 'primary'}\r\n                onClick={() => this.changeLevel(e.name)}    \r\n            >{e.name}</Button>\r\n        })\r\n\r\n\r\n        return (\r\n\r\n            <div style= {sidebarStyle}>\r\n                <div style={{...headingStyle, fontSize: '24px'}}>Gamemode Settings</div>\r\n\r\n                <div style={headingStyle}>Time Limit</div> \r\n                {timeButtons}\r\n\r\n                <div style={headingStyle}>Difficulty</div> \r\n                {levelButtons}\r\n\r\n                <div style={headingStyle}>Category</div> \r\n                <ButtonGroup vertical>\r\n                    {outerButtons}\r\n                </ButtonGroup>\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n    changeOuter(newCategory: string) {\r\n        if (this.state.outer === newCategory) {\r\n            return\r\n        }\r\n\r\n        let outerObj:any = {};\r\n\r\n        for (let i = 0; i < modes.length; i++) {\r\n            if (modes[i].category === newCategory) {\r\n                outerObj = modes[i];\r\n            }\r\n        }\r\n\r\n        let newTime = outerObj.times[0]\r\n        let newLevel = outerObj.levels[0].name;\r\n\r\n\r\n        this.setState({outer: newCategory, timeLimit: newTime, level: newLevel}, this.updateParent)\r\n    }\r\n\r\n    changeTimeLimit(newLimit: number) {\r\n        if (this.state.timeLimit === newLimit) {\r\n            return\r\n        }\r\n        this.setState({timeLimit: newLimit}, this.updateParent)\r\n    }\r\n\r\n    changeLevel(newLevel: string) {\r\n        if (this.state.level === newLevel) {\r\n            return\r\n        }\r\n        this.setState({level: newLevel}, this.updateParent)\r\n    }\r\n\r\n    //category: string, numQ: number, generator: any, config: any\r\n    updateParent() {\r\n\r\n        let outerObj: any = {};\r\n        for (let i = 0; i < modes.length; i++) {\r\n            if (modes[i].category === this.state.outer) {\r\n                outerObj = modes[i];\r\n            }\r\n        }\r\n\r\n        let category = `${this.state.outer} (${this.state.level})`;\r\n        let numQ = outerObj.numQuestions;\r\n        let generator = outerObj.generator;        \r\n        let config: any = {}\r\n        for (let l of outerObj.levels) {\r\n            if (l.name === this.state.level) {\r\n                config = l.config;\r\n            }\r\n        }\r\n\r\n        config.timeLimit = this.state.timeLimit;\r\n\r\n        this.props.updateHandler(category, numQ, generator, config)\r\n    }\r\n\r\n    \r\n}\r\n\r\nexport default GamemodeSidebar","import React, { CSSProperties } from \"react\"\r\nimport { Theme } from \"../App\"\r\n\r\n\r\ntype propType = {\r\n    theme: Theme,\r\n    sidebarHandler: (arg0: string) => void,\r\n    width: number\r\n}\r\n\r\n\r\nclass HeaderView extends React.Component<propType,{}> {\r\n    render() {\r\n        \r\n        let headerStyle: CSSProperties = {\r\n            background: this.props.theme.primary,\r\n            width: \"wrap-content\",\r\n            textAlign: 'center',\r\n            fontFamily: this.props.theme.headerFont,\r\n            fontSize: \"30px\",\r\n            color: this.props.theme.textColor,\r\n        }\r\n\r\n        let iconStyle: CSSProperties = {\r\n            height: '100%',\r\n            margin: '6px',\r\n        }\r\n\r\n        if (this.props.width < 400) headerStyle.fontSize = \"24px\"\r\n        return (\r\n            \r\n            <div style = {headerStyle} id = 'header'>\r\n             \r\n                <span style={{ ...headerStyle, display:'inline-block'}}>\r\n                    The Estimation Game\r\n                </span>\r\n                <i \r\n                    className=\"fas fa-cog\" \r\n                    style={{ ...iconStyle ,float: 'left'}}\r\n                    onClick = {() => this.props.sidebarHandler('left')}\r\n                />\r\n                <i \r\n                    className=\"fas fa-dice\" \r\n                    style={{...iconStyle ,float: 'right'}}\r\n                    onClick = {() => this.props.sidebarHandler('right')}\r\n                \r\n                />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default HeaderView","import React, { CSSProperties } from 'react';\r\nimport { Container, Row, Col} from 'react-bootstrap';\r\nimport './App.css';\r\nimport { genMul } from './logic/QGenerators';\r\nimport Question from './logic/Question';\r\nimport CenterView from './view/CenterView';\r\nimport GamemodeSidebar from './view/GamemodeSidebar';\r\nimport HeaderView from './view/HeaderView';\r\nimport modes from './logic/GameModes'\r\nimport GameState from './logic/GameState';\r\n\r\nlet generator: (arg0: any) => Question = genMul;\r\ntype stateType = {\r\n\twidth: number,\r\n\theight: number,\r\n\tleftBar: boolean,\r\n\trightBar: boolean,\r\n}\r\n\r\nexport type Theme = {\r\n\tbackground: string,\r\n\tprimary: string,\r\n\tsecondary: string,\r\n\ttextColor: string,\r\n\tquestionFont: string, \r\n\theaderFont: string,\r\n\tbodyFont: string\r\n}\r\n\r\nlet theme: Theme = {\r\n\tbackground: \"#222831\",\r\n\tprimary: \"#30475e\",\r\n\tsecondary: \"#ffc107\",\r\n\ttextColor: \"#eeeeee\",\r\n\tquestionFont: \"Roboto Mono\",\r\n\theaderFont: \"Concert One\",\r\n\tbodyFont: \"Noto Sans\"\r\n}\r\n\r\nlet config = {\r\n\tnumOperands : {low: 2, high: 2},\r\n    rangeCenter: 20000,\r\n    rangeVariance: 2,\r\n\toperandVariance: 2,\r\n\ttimeLimit: 10000\r\n}\r\n\r\nlet appStyle: CSSProperties = {\r\n\tbackground: theme.background,\r\n\tminHeight: \"100vh\",\r\n\tcolor: theme.textColor,\r\n\tfontFamily: theme.bodyFont\r\n}\r\n\r\nclass App extends React.Component<any,stateType> {\r\n\r\n\tcenterRef: React.RefObject<CenterView>\r\n\r\n\tconstructor(props: any) {\r\n\t\tsuper(props)\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\twidth: window.innerWidth,\r\n\t\t\theight: window.innerHeight,\r\n\t\t\trightBar: false,\r\n\t\t\tleftBar: false\r\n\t\t}\r\n\t\twindow.addEventListener('resize', (ev: any)=> {\r\n\t\t\tthis.setState({\r\n\t\t\t\theight: ev.currentTarget.innerHeight,\r\n\t\t\t\twidth: ev.currentTarget.innerWidth\r\n\t\t\t})\r\n\t\t})\r\n\t\tthis.sidebarHandler = this.sidebarHandler.bind(this)\r\n\t\tthis.centerRef = React.createRef()\r\n\t\tthis.updateGamemode = this.updateGamemode.bind(this)\r\n\t}\r\n\r\n  \trender() {\r\n    \treturn (\r\n\t\t\t<div style = {appStyle}>\r\n\t\t\t\t<HeaderView theme = {theme} sidebarHandler = {this.sidebarHandler} width = {this.state.width} />\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col lg={2} md={1} xs = {0}>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col lg={8} md={10} xs = {12}>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t<CenterView theme = {theme} ref = {this.centerRef} width = {this.state.width}></CenterView>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col lg ={2} md = {1} xs = {0} >\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\r\n\t\t\t\t <GamemodeSidebar theme = {theme} updateHandler = {this.updateGamemode} visible = {this.state.rightBar} />\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t\r\n  \t}\r\n  \r\n\tsidebarHandler(side: string) {\r\n\t\tif (side === 'right') {\r\n\t\t\tthis.setState(({rightBar}) => ({\r\n\t\t\t\trightBar: !rightBar,\r\n\t\t\t\tleftBar: false\r\n\t\t\t}))\r\n\t\t} else if (side === 'left') {\r\n\t\t\tthis.setState({\r\n\t\t\t\tleftBar: true,\r\n\t\t\t\trightBar: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tupdateGamemode(category: string, numQ: number, generator: any, config: any) {\r\n\t\tlet gameState = new GameState();\r\n\t\tgameState.category = category;\r\n\t\tgameState.numQuestions = numQ;\r\n\t\tgameState.generator = generator;\r\n\t\tgameState.generatorconfig =config;\r\n\t\tthis.centerRef.current?.parentUpdate(gameState)\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}