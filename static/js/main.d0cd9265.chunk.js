(this.webpackJsonpestimation=this.webpackJsonpestimation||[]).push([[0],{30:function(e,t,i){},31:function(e,t,i){},52:function(e,t,i){"use strict";i.r(t);var a=i(0),n=i(1),r=i.n(n),s=i(23),o=i.n(s),c=(i(30),i(2)),h=i(4),l=i(3),d=i(6),u=i(5),p=i(53),m=i(54),v=i(55),f=(i(31),function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var a;return Object(c.a)(this,i),(a=t.call(this,e)).canvasRef=void 0,a.width=300,a.height=300,a.state={remUpdates:1},a.canvasRef=r.a.createRef(),a.update=a.update.bind(Object(l.a)(a)),a}return Object(h.a)(i,[{key:"render",value:function(){var e,t;this.width=(null===(e=document.getElementById("centerview"))||void 0===e?void 0:e.clientWidth)||300,this.height=.45*this.width;var i=null===(t=this.canvasRef.current)||void 0===t?void 0:t.getContext("2d"),n=this.width/2,r=this.props.angle<Math.PI?.9*this.height:.2*this.height;if(i){i.fillStyle="#222831",i.fillRect(0,0,this.width,this.height),i.strokeStyle="#eeeeee",i.lineWidth=this.width/150,i.beginPath();var s=.35*this.width,o=.2*s;i.moveTo(n,r),i.lineTo(n+s,r),i.moveTo(n,r);var c=s*Math.cos(this.props.angle),h=s*Math.sin(this.props.angle);i.lineTo(n+c,r-h),i.moveTo(n,r),i.arc(n,r,o,-this.props.angle,0),i.stroke()}return this.update(),Object(a.jsx)("canvas",{width:this.width,height:this.height,ref:this.canvasRef})}},{key:"update",value:function(){this.state.remUpdates<=0||(this.setState((function(e){return{remUpdates:e.remUpdates-1}})),setTimeout(this.update,16.67))}}]),i}(r.a.Component)),g=i(18),b=i(32),j=i(34).polygon;function y(e,t){return e+Math.random()*(t-e)}function O(e,t,i){var a=j.centroid(e),n=t-a[0],r=i-a[1];return e.map((function(e){return[e[0]+n,e[1]+r]}))}var x=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var a;return Object(c.a)(this,i),(a=t.call(this,e)).canvasRef=void 0,a.width=300,a.height=300,a.state={remUpdates:1},a.canvasRef=r.a.createRef(),a.update=a.update.bind(Object(l.a)(a)),a.drawCircle=a.drawCircle.bind(Object(l.a)(a)),a.drawPoly=a.drawPoly.bind(Object(l.a)(a)),a}return Object(h.a)(i,[{key:"render",value:function(){var e,t,i=this.props,n=i.ratio,r=i.shape;this.width=(null===(e=document.getElementById("centerview"))||void 0===e?void 0:e.clientWidth)||300,this.height=.45*this.width;var s=null===(t=this.canvasRef.current)||void 0===t?void 0:t.getContext("2d");return s&&(s.fillStyle="#222831",s.fillRect(0,0,this.width,this.height),s.lineWidth=this.width/200,"circle"===r?this.drawCircle(s,n):"polygon"===r&&this.drawPoly(s,n)),this.update(),Object(a.jsx)("canvas",{width:this.width,height:this.height,ref:this.canvasRef})}},{key:"drawCircle",value:function(e,t){var i=.45*this.height,a=i*Math.sqrt(t);if(a>i){var n=i;i=i*i/a,a=n}var r=this.width/4,s=.75*this.width,o=this.height/2;e.beginPath(),e.strokeStyle="#eeeeee",e.arc(r,o,i,0,2*Math.PI),e.stroke(),e.closePath();var c=i/2;c=Math.max(c,20),e.font="".concat(c,"px Roboto Mono"),e.fillStyle="#eeeeee",e.textAlign="center",e.fillText("1",r,o+c/3+(c>2*i?3*i:0)),e.beginPath(),e.strokeStyle="#ffc107",e.arc(s,o,a,0,2*Math.PI),e.stroke(),e.closePath(),c=a/2,c=Math.max(c,20),e.font="".concat(c,"px Roboto Mono"),e.fillStyle="#ffc107",e.textAlign="center",e.fillText("?",s,o+c/3+(c>2*a?3*a:0))}},{key:"drawPoly",value:function(e,t){var i=this.width/2,a=this.height,n=function(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=[],n=0;n<i;n++)a.push([y(0,e),y(0,t)]);return a=b(a)}(i,a),r=j.area(n),s=Math.sqrt(r/(t*Math.PI));if(2*s>a){var o=a/(2*s)*.95;s=.95*a/2,n=function(e,t){return e.map((function(e){return e.map((function(e){return e*t}))}))}(n,o)}if(t<1)n=O(n,1.5*i,a/2);else{var c=j.centroid(n),h=Object(g.a)(c,2);n=O(n,h[0]+i,h[1])}r=j.area(n);var l=i/2,d=a/2;e.beginPath(),e.strokeStyle="#eeeeee",e.arc(l,d,s,0,2*Math.PI),e.stroke(),e.closePath();var u=s/2;u=Math.max(u,20),e.font="".concat(u,"px Roboto Mono"),e.fillStyle="#eeeeee",e.textAlign="center",e.fillText("1",l,d+u/3+(u>2*s?3*s:0)),e.beginPath(),e.strokeStyle="#ffc107",e.moveTo(n[0][0],n[0][1]);for(var p=1;p<n.length;p++)e.lineTo(n[p][0],n[p][1]);e.lineTo(n[0][0],n[0][1]),e.closePath(),e.stroke(),u=20;var m=j.centroid(n),v=Object(g.a)(m,2),f=v[0],x=v[1];e.font="".concat(u,"px Roboto Mono"),e.fillStyle="#ffc107",e.textAlign="center",e.fillText("?",f,x+u/3)}},{key:"update",value:function(){this.state.remUpdates<=0||(this.setState((function(e){return{remUpdates:e.remUpdates-1}})),setTimeout(this.update,16.67))}}]),i}(r.a.Component);function w(e,t){return e+Math.floor(Math.random()*(t-e+.99999))}var S=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var a;return Object(c.a)(this,i),(a=t.call(this,e)).canvasRef=void 0,a.width=300,a.height=300,a.state={remUpdates:1},a.canvasRef=r.a.createRef(),a.update=a.update.bind(Object(l.a)(a)),a}return Object(h.a)(i,[{key:"render",value:function(){var e,t,i=this.props.num,n=i<100?50:80,r=i<100?20:32;this.width=this.props.width||(null===(e=document.getElementById("centerview"))||void 0===e?void 0:e.clientWidth)||300,this.height=.4*this.width;var s=null===(t=this.canvasRef.current)||void 0===t?void 0:t.getContext("2d");if(s){s.fillStyle="#222831",s.fillRect(0,0,this.width,this.height),s.fillStyle="#eeeeee";for(var o=new Array(r).fill(!1).map((function(){return new Array(n).fill(!1)})),c=0,h="square"===this.props.shape?this.drawSquare:this.drawCircle;c<this.props.num;){var l=w(0,r-1),d=w(0,n-1);o[l][d]||(o[l][d]=!0,h(s,n,r,l,d,this.width,this.height),c++)}}return this.update(),Object(a.jsx)("canvas",{width:this.width,height:this.height,ref:this.canvasRef})}},{key:"update",value:function(){this.state.remUpdates<=0||(this.setState((function(e){return{remUpdates:e.remUpdates-1}})),setTimeout(this.update,16.67))}},{key:"drawCircle",value:function(e,t,i,a,n,r,s){var o=r/(t+1),c=n*o,h=a*o;c+=o/2,h+=o/2,e.beginPath(),e.arc(c,h,o/2*.9,0,2*Math.PI),e.fill(),e.closePath()}},{key:"drawSquare",value:function(e,t,i,a,n,r){var s=n/(t+1),o=a*s,c=i*s;o+=s*(t-i-1)/t,c+=s*a/t,o+=s/2,c+=s/2,e.beginPath(),e.fillRect(o,c,s,s),e.closePath()}}]),i}(r.a.Component);function k(e,t){return e+Math.random()*(t-e)}function R(e,t,i,a){return Math.sqrt(Math.pow(e-i,2)+Math.pow(t-a,2))}var P=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var a;return Object(c.a)(this,i),(a=t.call(this,e)).canvasRef=void 0,a.width=300,a.height=300,a.state={remUpdates:1},a.canvasRef=r.a.createRef(),a.update=a.update.bind(Object(l.a)(a)),a.parallel=a.parallel.bind(Object(l.a)(a)),a.path=a.path.bind(Object(l.a)(a)),a.singleLines=a.singleLines.bind(Object(l.a)(a)),a}return Object(h.a)(i,[{key:"render",value:function(){var e,t,i=this.props,n=i.ratio,r=i.shape;this.width=(null===(e=document.getElementById("centerview"))||void 0===e?void 0:e.clientWidth)||300,this.height=.45*this.width;var s=null===(t=this.canvasRef.current)||void 0===t?void 0:t.getContext("2d");return s&&(s.fillStyle="#222831",s.fillRect(0,0,this.width,this.height),s.lineWidth=this.width/200,"parallel"===r?this.parallel(s,n):"singlelines"===r?this.singleLines(s,n):"path"===r&&this.path(s,n)),this.update(),Object(a.jsx)("canvas",{width:this.width,height:this.height,ref:this.canvasRef})}},{key:"parallel",value:function(e,t){var i=this.height/2,a=.9*this.width,n=a*t;if(t>1){var r=a;a/=t,n=r}this.poltLines(e,[0,.8*i,a,.8*i],[0,1.2*i,n,1.2*i])}},{key:"path",value:function(e,t){var i=0;e.strokeStyle="#ffc107",e.beginPath();var a=[k(.05*this.width,.95*this.width),k(.05*this.height,.95*this.height)],n=a[0],r=a[1];for(e.moveTo(n,r);i/t<this.width/8;){var s=[k(.05*this.width,.95*this.width),k(.05*this.height,.95*this.height)],o=s[0],c=s[1];e.lineTo(o,c),i+=R(n,r,o,c),n=o,r=c}e.stroke(),e.closePath();var h=i/t;e.strokeStyle="#eeeeee",e.beginPath(),e.moveTo(.05*this.width,.05*this.width),e.lineTo(.05*this.width+h,.05*this.width),e.stroke(),e.closePath();e.font="".concat(20,"px Roboto Mono"),e.fillStyle="#eeeeee",e.textAlign="center",e.fillText("1",.05*this.width+h+10,.05*this.width+20/3)}},{key:"singleLines",value:function(e,t){var i=t>1;t>1&&(t=1/t);for(var a=0,n=[],r=[];a<this.width/2;){var s=[k(.05*this.width,.95*this.width),k(.05*this.height,.95*this.height)],o=s[0],c=s[1],h=[k(.05*this.width,.95*this.width),k(.05*this.height,.95*this.height)],l=h[0],d=h[1];a=R(o,c,l,d),n=[o,c,l,d]}if(n[2]<n[0]){var u=[n[0],n[1],n[2],n[3]];n[2]=u[0],n[3]=u[1],n[0]=u[2],n[1]=u[3]}for(var p=a*t,m=0;m<p;){var v=[k(.05*this.width,.95*this.width),k(.05*this.height,.95*this.height)],f=v[0],g=v[1],b=[k(.05*this.width,.95*this.width),k(.05*this.height,.95*this.height)],j=b[0],y=b[1];m=R(f,g,j,y),r=[f,g,j,y]}if(r[2]<r[0]){var O=[r[0],r[1],r[2],r[3]];r[2]=O[0],r[3]=O[1],r[0]=O[2],r[1]=O[3]}var x=p/m;if(r[2]=r[0]+(r[2]-r[0])*x,r[3]=r[1]+(r[3]-r[1])*x,i){var w=[r,n];n=w[0],r=w[1]}}},{key:"poltLines",value:function(e,t,i){e.font="".concat(20,"px Roboto Mono"),e.textAlign="center",e.strokeStyle="#eeeeee",e.fillStyle="#eeeeee",e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(t[2],t[3]),e.stroke(),e.closePath(),e.fillText("1",t[2]+10,t[3]+20/3),e.strokeStyle="#ffc107",e.fillStyle="#ffc107",e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.stroke(),e.closePath(),e.fillText("?",i[2]+10,i[3]+20/3)}},{key:"update",value:function(){this.state.remUpdates<=0||(this.setState((function(e){return{remUpdates:e.remUpdates-1}})),setTimeout(this.update,16.67))}}]),i}(r.a.Component),T=i(10),M=i(24),C=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(){return Object(c.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){var e={fontSize:45,textAlign:"center",minHeight:100};return Object(a.jsx)(M.Textfit,{max:e.fontSize,mode:"single",style:Object(T.a)(Object(T.a)({},e),{},{fontFamily:"Roboto Mono"}),children:this.props.text})}}]),i}(r.a.Component);function N(e,t){return e<t?e/t:t/e}var I=function e(t,i){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(c.a)(this,e),this.view=void 0,this.answer=void 0,this.timelimit=void 0,this.id=void 0,this.scorer=void 0,this.view=t,this.answer=i,this.id=Math.random(),this.scorer=function(e){return n(e,a.answer)},this.timelimit=r};function E(e,t){return e+Math.floor(Math.random()*(t-e+.99999))}function A(e,t){return e*Math.pow(2,(a=t,(i=-t)+Math.random()*(a-i)));var i,a}function U(e){for(var t=e.numOperands,i=e.rangeCenter,n=e.rangeVariance,r=e.operandVariance,s=e.timeLimit,o=E(t.low,t.high),c=A(i,n),h=[],l=0;l<o;l++){var d=A(Math.pow(c,1/(o-l)),r);h.push(Math.round(d)),c/=d}h.sort((function(e,t){return e-t})),c=h.reduce((function(e,t){return e*t}));var u="";return h.forEach((function(e){u+="".concat(e," \xd7 ")})),u=u.slice(0,-3),new I(Object(a.jsx)(C,{text:u}),c,(function(e,t){var i=e<t?e/t:t/e;return Math.round(100*i)}),s)}var L,G=i(57),F=i(58);!function(e){e[e.PREGAME=0]="PREGAME",e[e.INTRO=1]="INTRO",e[e.RUNNING=2]="RUNNING",e[e.PAUSED=3]="PAUSED",e[e.OUTRO=4]="OUTRO",e[e.POSTGAME=5]="POSTGAME"}(L||(L={}));var H,B={numOperands:{low:2,high:2},rangeCenter:2e4,rangeVariance:2,operandVariance:2,timeLimit:0},D=function e(){Object(c.a)(this,e),this.generator=U,this.questionArray=[],this.currentQuestion=void 0,this.category="Multiplication (Easy)",this.numQuestions=5,this.currentIndex=0,this.recentScore=0,this.totalScore=0,this.recentGuess=0,this.recentAnswer=0,this.progressState=L.PREGAME,this.generatorconfig=B,this.totalTime=0,this.storageKey="Multiplication (Easy)|0"},Q=i(14);function q(e){e.currentIndex=0,e.recentAnswer=e.recentGuess=e.recentScore=e.totalScore=0,e.questionArray=[];for(var t=0;t<e.numQuestions;t++)e.questionArray.push(e.generator(e.generatorconfig));return e.currentQuestion=e.questionArray[0],e.totalTime=e.currentQuestion.timelimit,e}!function(e){e[e.BUTTON=0]="BUTTON",e[e.ANSWER=1]="ANSWER",e[e.ANIM=2]="ANIM"}(H||(H={}));var z=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var a;return Object(c.a)(this,i),(a=t.call(this,e)).inputField=void 0,a.canvasRef=void 0,a.timerInterval=void 0,a.questionId=0,a.timeLimit=0,a.startTime=0,a.handleKeyDown=function(e){if("Enter"===e.key&&a.props.gameState.progressState===L.RUNNING){var t;try{t=parseFloat(a.state.text)}catch(i){return}if(isNaN(t))return;a.props.inputHandler({type:H.ANSWER,payload:t}),a.setState({text:""}),a.props.gameState.currentIndex,a.props.gameState.numQuestions}else"Enter"===e.key&&a.props.gameState.progressState===L.POSTGAME&&a.props.inputHandler({type:H.BUTTON,payload:"replay"})},a.state={text:""},a.inputField=r.a.createRef(),a.canvasRef=r.a.createRef(),a.drawArc=a.drawArc.bind(Object(l.a)(a)),a.handleChange=a.handleChange.bind(Object(l.a)(a)),a}return Object(h.a)(i,[{key:"drawArc",value:function(e){if(null!==this.canvasRef.current){var t=this.canvasRef.current,i=this.canvasRef.current.getContext("2d");i.strokeStyle=e<.75?"green":"red",i.fillStyle=this.props.theme.background,i.fillRect(0,0,48,48),i.lineWidth=3,i.translate(-.5,-.5);var a=t.width/2,n=t.height/2;i.beginPath(),i.arc(a,n,16,2*Math.PI*e-Math.PI/2,-Math.PI/2),i.stroke(),i.translate(.5,.5)}}},{key:"componentDidMount",value:function(){var e;this.handleChange=this.handleChange.bind(this),null===(e=this.inputField.current)||void 0===e||e.focus()}},{key:"render",value:function(){var e=this,t={background:this.props.theme.background,color:this.props.theme.textColor},i=this.props.gameState.progressState,n=this.props.gameState.currentQuestion;void 0!==n&&n.id!==this.questionId&&(this.timerInterval&&clearInterval(this.timerInterval),this.questionId=n.id,this.timeLimit=n.timelimit,this.startTime=Date.now(),0!==this.timeLimit&&(this.timerInterval=setInterval((function(){e.props.gameState.progressState===L.PAUSED&&(e.startTime+=16.67);var t=(Date.now()-e.startTime)/e.timeLimit;t<1?e.drawArc(t):(e.timerInterval&&clearInterval(e.timerInterval),e.props.inputHandler({type:H.ANSWER,payload:e.toValidAnswer(e.state.text)}),e.setState({text:""}))}),16.67)),this.forceUpdate());var r=(null===n||void 0===n?void 0:n.timelimit)||0,s=this.props.gameState,o="";return i===L.RUNNING?o="Enter Answer":i===L.PAUSED&&(o="Game Paused"),Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(a.jsx)(G.a,{size:"lg",style:t,children:Object(a.jsx)(F.a,{onKeyDown:this.handleKeyDown,style:t,value:this.state.text,onChange:this.handleChange,placeholder:o,ref:this.inputField,autoComplete:"chrome-off"})}),0!==r&&s.progressState===L.RUNNING&&Object(a.jsx)("canvas",{ref:this.canvasRef,width:48,height:48})]})}},{key:"toValidAnswer",value:function(e){var t;try{t=parseFloat(e)}catch(i){return 1}return isNaN(t)?1:t}},{key:"handleChange",value:function(e){if(this.props.gameState.progressState===L.RUNNING){var t=e.target.value,i=t.slice(-1);(0===t.length||i>="0"&&i<="9"||"e"===i||"-"===i||"+"===i||"."===i)&&this.setState({text:t})}}}]),i}(r.a.Component),W={fontSize:45,textAlign:"center",minHeight:100},V={fontSize:30,textAlign:"center",minHeight:100,padding:15},K=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(){return Object(c.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){var e,t=this.props.gameState.progressState;return t===L.PAUSED?Object(a.jsx)("div",{style:Object(T.a)(Object(T.a)({},W),{},{fontFamily:this.props.theme.questionFont}),children:"---Paused---"}):t===L.POSTGAME?Object(a.jsx)("div",{style:Object(T.a)(Object(T.a)({},V),{},{fontFamily:this.props.theme.questionFont}),children:"Final Score: ".concat(this.props.gameState.totalScore)}):this.props.question?null===(e=this.props.question)||void 0===e?void 0:e.view:Object(a.jsx)(C,{text:"---"})}}]),i}(r.a.Component),J=i(14),X=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(){return Object(c.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){var e=this.props.gameState,t=e.recentGuess,i=e.recentAnswer,n=e.totalScore,r=e.recentScore,s="",o=Math.abs(Math.log10(i)-Math.log10(t));o=Math.pow(10,o),isNaN(o)&&(o=1),o<1.5?s="Error: ".concat((o=100*(o-1)).toFixed(2)," %"):(o=Math.log10(o),s="Error (log\u2081\u2080): ".concat(o.toFixed(2)));var c=window.innerWidth<576,h=c?{}:{float:"right"},l={fontSize:c?"16px":"19px"},d=J("highscores");null===d&&(J("highscores",{}),d={});var u=d[this.props.gameState.storageKey]||0;return Object(a.jsx)("div",{children:Object(a.jsx)(p.a,{children:Object(a.jsxs)(m.a,{children:[Object(a.jsxs)(v.a,{xs:12,sm:4,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{style:l,children:"Score: ".concat(n," ")}),Object(a.jsx)("span",{style:l,children:"(+".concat(r,")")})]}),Object(a.jsx)("div",{style:l,children:"Highscore: ".concat(u)})]}),Object(a.jsx)(v.a,{xs:12,sm:8,children:Object(a.jsxs)("div",{style:h,children:[Object(a.jsx)("div",{style:l,children:"Guess: ".concat(Z(t),", Answer: ").concat(Z(i))}),Object(a.jsx)("div",{style:l,children:s})]})})]})})})}}]),i}(r.a.Component),Y="\u2070\xb9\xb2\xb3\u2074\u2075\u2076\u2077\u2078\u2079\u207b";function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e6,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.001;if(0!==e&&(e<i||e>t)){for(var a=Math.floor(Math.log10(e)),n=e/Math.pow(10,a),r=a.toString(),s="",o=0;o<r.length;o++)"-"===r[o]?s+=Y[10]:s+=Y[parseInt(r[o])];return"".concat(n.toFixed(3),"\xd710").concat(s)}for(var c=e.toString(),h=c.length-1,l=0;h>=0&&"."!=c[h];)h--,l++;return h>=0&&l>6&&(c=e.toFixed(6)),c.length>8&&(c=c.substring(0,8)),c}var $=X,_=i(59),ee=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(){return Object(c.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){var e=this.props,t=e.theme,i=e.gameState,n=e.inputHandler,r={fontFamily:t.headerFont,fontSize:"24px",marginTop:"12px"},s=this.props.width<450;s&&(r.fontSize="18px");var o="(".concat(i.currentIndex+1,"/").concat(i.numQuestions,")"),c=Object(a.jsx)(_.a,{size:s?"sm":void 0,variant:"success",style:{float:"right",fontFamily:t.bodyFont},onClick:function(){n({type:H.BUTTON,payload:"start"})},children:"Start\u21b5"}),h=Object(a.jsx)(_.a,{size:s?"sm":void 0,variant:"success",style:{float:"right",fontFamily:t.bodyFont},onClick:function(){n({type:H.BUTTON,payload:"replay"})},children:"Replay\u21b5"});return Object(a.jsxs)("div",{style:r,children:[Object(a.jsx)("span",{children:i.category}),i.progressState===L.PREGAME?c:i.progressState===L.POSTGAME?h:Object(a.jsx)("span",{style:{float:"right"},children:o}),Object(a.jsx)("hr",{style:{borderColor:t.textColor}})]})}}]),i}(r.a.Component),te={marginRight:4},ie=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var a;return Object(c.a)(this,i),(a=t.call(this,e)).pauseEvent=a.pauseEvent.bind(Object(l.a)(a)),a.resetEvent=a.resetEvent.bind(Object(l.a)(a)),a}return Object(h.a)(i,[{key:"render",value:function(){var e=this.props.gameState.progressState,t=e===L.PAUSED,i=[Object(a.jsxs)(_.a,{variant:"primary",style:te,onClick:this.pauseEvent,children:[Object(a.jsx)("u",{children:"P"}),t?"lay":"ause"]},1),Object(a.jsxs)(_.a,{variant:"warning",style:te,onClick:this.resetEvent,children:[Object(a.jsx)("u",{children:"R"}),"eset"]},2)];return Object(a.jsx)("div",{children:e===L.POSTGAME?[]:i})}},{key:"pauseEvent",value:function(){this.props.inputHandler({type:H.BUTTON,payload:"playpause"})}},{key:"resetEvent",value:function(){this.props.inputHandler({type:H.BUTTON,payload:"reset"})}}]),i}(r.a.Component),ae=0;var ne=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var a;return Object(c.a)(this,i),(a=t.call(this,e)).prevTimestamp=0,a.state={gameState:new D},a.handleInput=a.handleInput.bind(Object(l.a)(a)),a}return Object(h.a)(i,[{key:"componentDidMount",value:function(){this.handleInput=this.handleInput.bind(this),this.keyCapture=this.keyCapture.bind(this),document.body.addEventListener("keydown",this.keyCapture)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("keydown",this.keyCapture)}},{key:"render",value:function(){var e=this.state.gameState;return Object(a.jsxs)("div",{id:"centerview",children:[Object(a.jsx)(ee,{theme:this.props.theme,gameState:e,inputHandler:this.handleInput,width:this.props.width}),Object(a.jsx)(K,{question:e.currentQuestion,theme:this.props.theme,gameState:e}),Object(a.jsx)(z,{inputHandler:this.handleInput,theme:this.props.theme,gameState:e}),Object(a.jsx)($,{gameState:e}),Object(a.jsx)(ie,{inputHandler:this.handleInput,gameState:e})]})}},{key:"parentUpdate",value:function(e){this.setState({gameState:e})}},{key:"handleInput",value:function(e){var t=function(e,t,i){var a=e;if(e.progressState===L.PREGAME)t.type===H.BUTTON&&"start"===t.payload&&((a=q(e)).progressState=L.RUNNING);else if(e.progressState===L.RUNNING){if(t.type===H.BUTTON)"reset"===t.payload?(a=q(e)).progressState=L.RUNNING:"playpause"===t.payload&&(a.progressState=L.PAUSED);else if(t.type===H.ANSWER){var n,r,s=null===(n=e.currentQuestion)||void 0===n?void 0:n.scorer(t.payload);if(a.totalScore+=s||0,a.recentGuess=t.payload,a.recentAnswer=(null===(r=e.currentQuestion)||void 0===r?void 0:r.answer)||-1,a.recentScore=s||0,a.currentIndex++,a.currentIndex<a.numQuestions)a.currentQuestion=a.questionArray[a.currentIndex],a.totalTime=a.currentQuestion.timelimit;else{var o=Q("highscores");o||(Q("highscores",{}),o={}),o[a.storageKey]=Math.max(a.totalScore,o[a.storageKey]||0),Q("highscores",o),a.progressState=L.POSTGAME}}}else e.progressState===L.PAUSED?t.type===H.BUTTON&&"playpause"===t.payload?a.progressState=L.RUNNING:"reset"===t.payload&&((a=q(e)).progressState=L.RUNNING):e.progressState===L.POSTGAME&&t.type===H.BUTTON&&"replay"===t.payload&&((a=q(e)).progressState=L.RUNNING);return a}(this.state.gameState,e,this.handleInput);this.setState({gameState:t})}},{key:"keyCapture",value:function(e){var t=function(e,t){if(!(e.timeStamp-ae<.1)){ae=e.timeStamp;var i={type:H.BUTTON,payload:""};if("KeyR"===e.code)return i.payload="reset",i;if("KeyP"===e.code)return i.payload="playpause",i;if("Enter"===e.code){if(t.progressState===L.PREGAME)return i.payload="start",i;if(t.progressState===L.RUNNING)return}}}(e,this.state.gameState);void 0!==t&&this.handleInput(t)}}]),i}(r.a.Component),re=i(15),se=i(56),oe=[{category:"Multiplication",numQuestions:5,generator:U,levels:[{name:"Easy",config:{numOperands:{low:2,high:2},rangeCenter:2e4,rangeVariance:2,operandVariance:2,timeLimit:0}},{name:"Medium",config:{numOperands:{low:3,high:3},rangeCenter:1e5,rangeVariance:2,operandVariance:2,timeLimit:0}},{name:"Hard",config:{numOperands:{low:4,high:4},rangeCenter:1e6,rangeVariance:2,operandVariance:2,timeLimit:0}}],times:[0,1e4,3e4]},{category:"Percentages",numQuestions:5,generator:function(e){for(var t=e.numOperands,i=e.operandRange,n=e.timeLimit,r=e.round,s=E(t.low,t.high),o=[],c=1,h=0;h<s;h++)o.push(E(i.low,i.high)),o[h]-=o[h]%r,c*=o[h]/100;var l="";return o.forEach((function(e){l+="".concat(e,"% \xd7 ")})),l=l.slice(0,-3),new I(Object(a.jsx)(C,{text:l}),c,(function(e,t){var i=e<t?e/t:t/e;return Math.round(100*i)}),n)},levels:[{name:"Easy",config:{numOperands:{low:2,high:3},operandRange:{low:10,high:99},timeLimit:0,round:5}},{name:"Hard",config:{numOperands:{low:4,high:4},operandRange:{low:10,high:99},timeLimit:0,round:1}}],times:[0,1e4,3e4]},{category:"Angles",numQuestions:5,generator:function(e){var t=e.minDeg,i=e.maxDeg,n=e.timeLimit,r=E(t,i),s=r*Math.PI/180;return new I(Object(a.jsx)(f,{angle:s}),r,(function(e,t){var i=1-.05*Math.abs(e-t);return i<0&&(i=0),Math.round(100*i)}),n)},levels:[{name:"Acute Only",config:{minDeg:1,maxDeg:89,timeLimit:0}},{name:"Any",config:{minDeg:1,maxDeg:359,timeLimit:0}}],times:[0,7e3,2e4]},{category:"Counting (Static)",numQuestions:5,generator:function(e){var t=e.min,i=e.max,n=e.timeLimit,r=E(t,i);return new I(Object(a.jsx)(S,{num:r,shape:"circle"}),r,(function(e,t){if(e===t)return 100;var i=e<t?e/t:t/e;return Math.round(90*i)}),n)},levels:[{name:"20 - 50",config:{min:20,max:50,timeLimit:0}},{name:"50 - 100",config:{min:50,max:100,timeLimit:0}},{name:"100 - 500",config:{min:100,max:500,timeLimit:0}}],times:[0,7e3,2e4]},{category:"Length",numQuestions:5,generator:function(e){var t=e.center,i=e.variance,n=e.shape,r=e.timeLimit,s=A(t,i);return new I(Object(a.jsx)(P,{ratio:s,shape:n}),s,(function(e,t){var i=e<t?e/t:t/e;return Math.round(100*i)}),r)},levels:[{name:"Parallel Lines",config:{center:3,variance:3,shape:"parallel",timeLimit:0}},{name:"Lines",config:{center:3,variance:3,shape:"singlelines",timeLimit:0}},{name:"Paths",config:{center:16,variance:1,shape:"path",timeLimit:0}}],times:[0,7e3,2e4]},{category:"Area",numQuestions:5,generator:function(e){var t=e.center,i=e.variance,n=e.shape,r=e.timeLimit,s=A(t,i);return new I(Object(a.jsx)(x,{ratio:s,shape:n}),s,(function(e,t){var i=e<t?e/t:t/e;return i=Math.sqrt(i),Math.round(100*i)}),r)},levels:[{name:"Circles",config:{center:3,variance:5,shape:"circle",timeLimit:0}},{name:"Polygons",config:{center:3,variance:4,shape:"polygon",timeLimit:0}}],times:[0,7e3,2e4]}],ce=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var a;return Object(c.a)(this,i),(a=t.call(this,e)).state={outer:"Multiplication",level:"Easy",timeLimit:0},a.changeOuter=a.changeOuter.bind(Object(l.a)(a)),a.changeTimeLimit=a.changeTimeLimit.bind(Object(l.a)(a)),a.changeLevel=a.changeLevel.bind(Object(l.a)(a)),a.updateParent=a.updateParent.bind(Object(l.a)(a)),a.handleUpdate=a.handleUpdate.bind(Object(l.a)(a)),a}return Object(h.a)(i,[{key:"render",value:function(){var e,t=this;if(!this.props.visible)return Object(a.jsx)("div",{});var i={height:"100%",width:"300px",position:"fixed",zIndex:1e4,top:0,right:0,overflowX:"hidden",backgroundColor:this.props.theme.primary,borderLeft:"3px solid ".concat(this.props.theme.textColor)};i.marginTop=null===(e=document.getElementById("header"))||void 0===e?void 0:e.clientHeight;var n={fontFamily:this.props.theme.headerFont,fontSize:"20px",margin:"3px"},r=oe[0],s=oe.map((function(e,i){var n=e.category===t.state.outer;return n&&(r=e),Object(a.jsx)(_.a,{style:{margin:"2px"},variant:n?"warning":"primary",onClick:function(){return t.changeOuter(e.category)},children:e.category},i)})),o=r.times.map((function(e,i){var n=e===t.state.timeLimit,r=e>0?(e/1e3).toFixed(0)+" s":"Unlimited";return Object(a.jsx)(_.a,{style:{margin:"2px"},variant:n?"warning":"primary",onClick:function(){return t.changeTimeLimit(e)},children:r},i)})),c=r.levels.map((function(e,i){var n=e.name===t.state.level;return Object(a.jsx)(_.a,{style:{margin:"2px"},variant:n?"warning":"primary",onClick:function(){return t.changeLevel(e.name)},children:e.name},i)}));return Object(a.jsxs)("div",{style:i,children:[Object(a.jsx)("div",{style:Object(T.a)(Object(T.a)({},n),{},{fontSize:"24px"}),children:"Gamemode Settings"}),Object(a.jsx)("div",{style:n,children:"Time Limit"}),o,Object(a.jsx)("div",{style:n,children:"Difficulty"}),c,Object(a.jsx)("div",{style:n,children:"Category"}),Object(a.jsx)(se.a,{vertical:!0,children:s})]})}},{key:"changeOuter",value:function(e){if(this.state.outer!==e){for(var t={},i=0;i<oe.length;i++)oe[i].category===e&&(t=oe[i]);var a=t.times[0],n=t.levels[0].name;this.setState({outer:e,timeLimit:a,level:n},this.updateParent)}}},{key:"changeTimeLimit",value:function(e){this.state.timeLimit!==e&&this.setState({timeLimit:e},this.updateParent)}},{key:"changeLevel",value:function(e){this.state.level!==e&&this.setState({level:e},this.updateParent)}},{key:"updateParent",value:function(){for(var e={},t=0;t<oe.length;t++)oe[t].category===this.state.outer&&(e=oe[t]);var i,a="".concat(this.state.outer," (").concat(this.state.level,")"),n=e.numQuestions,r=e.generator,s={},o=Object(re.a)(e.levels);try{for(o.s();!(i=o.n()).done;){var c=i.value;c.name===this.state.level&&(s=c.config)}}catch(h){o.e(h)}finally{o.f()}s.timeLimit=this.state.timeLimit,this.props.updateHandler(a,n,r,s)}},{key:"handleUpdate",value:function(e){for(var t={},i=0;i<oe.length;i++)"".concat(oe[i].category," (").concat(oe[i].levels[0].name,")")===e&&(t=oe[i]);e=t.category;var a=t.levels[0].name,n=t.times[0];this.setState({outer:e,level:a,timeLimit:n})}}]),i}(r.a.Component),he=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(){return Object(c.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){var e=this,t={background:this.props.theme.primary,width:"wrap-content",textAlign:"center",fontFamily:this.props.theme.headerFont,fontSize:"30px",color:this.props.theme.textColor},i={height:"100%",margin:"6px"};return this.props.width<400&&(t.fontSize="24px"),Object(a.jsxs)("div",{style:t,id:"header",children:[Object(a.jsx)("span",{style:Object(T.a)(Object(T.a)({},t),{},{display:"inline-block"}),children:"The Estimation Game"}),Object(a.jsx)("i",{className:"fas fa-cog",style:Object(T.a)(Object(T.a)({},i),{},{float:"left"}),onClick:function(){return e.props.sidebarHandler("left")}}),Object(a.jsx)("i",{className:"fas fa-dice",style:Object(T.a)(Object(T.a)({},i),{},{float:"right"}),onClick:function(){return e.props.sidebarHandler("right")}})]})}}]),i}(r.a.Component),le=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var a;return Object(c.a)(this,i),(a=t.call(this,e)).updateParent=a.updateParent.bind(Object(l.a)(a)),a}return Object(h.a)(i,[{key:"render",value:function(){var e=this,t=this.props,i=t.theme,n=(t.updateHandler,oe.map((function(t,i){return Object(a.jsx)(_.a,{style:{margin:"2px"},variant:"primary",onClick:function(){return e.updateParent(t.category)},children:t.category},i)})));return Object(a.jsxs)("div",{id:"welcomediv",children:[Object(a.jsx)("div",{style:{fontSize:"24px",fontFamily:i.bodyFont,textAlign:"center",padding:"10px"},children:"Quick Play"}),Object(a.jsx)(se.a,{vertical:!0,style:{width:"100%"},children:n})]})}},{key:"updateParent",value:function(e){for(var t={},i=0;i<oe.length;i++)oe[i].category===e&&(t=oe[i]);var a,n=t.levels[0].name,r="".concat(e," (").concat(n,")"),s=t.numQuestions,o=t.generator,c={},h=Object(re.a)(t.levels);try{for(h.s();!(a=h.n()).done;){var l=a.value;l.name===n&&(c=l.config)}}catch(d){h.e(d)}finally{h.f()}c.timeLimit=t.times[0],this.props.updateHandler(r,s,o,c,!0)}}]),i}(r.a.Component),de=i(14),ue=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){return Object(c.a)(this,i),t.call(this,e)}return Object(h.a)(i,[{key:"render",value:function(){var e;if(!this.props.visible)return Object(a.jsx)("div",{});var t={height:"100%",width:"300px",position:"fixed",zIndex:1e4,top:0,left:0,overflowX:"hidden",backgroundColor:this.props.theme.primary,borderRight:"3px solid ".concat(this.props.theme.textColor)};t.marginTop=null===(e=document.getElementById("header"))||void 0===e?void 0:e.clientHeight;this.props.theme.headerFont;return Object(a.jsx)("div",{style:t,children:Object(a.jsx)(_.a,{style:{margin:"5px"},variant:"danger",onClick:this.handleDelete,children:"Reset Highscores"})})}},{key:"handleDelete",value:function(){window.confirm("do you wanna delete")&&de.remove("highscores")}}]),i}(r.a.Component),pe=i(14),me={background:"#222831",primary:"#30475e",secondary:"#ffc107",textColor:"#eeeeee",questionFont:"Roboto Mono",headerFont:"Concert One",bodyFont:"Noto Sans"},ve={background:me.background,minHeight:"100vh",color:me.textColor,fontFamily:me.bodyFont},fe=(Math.PI,function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var a;return Object(c.a)(this,i),(a=t.call(this,e)).centerRef=void 0,a.sidebarRef=void 0,a.state={width:window.innerWidth,height:window.innerHeight,rightBar:!1,leftBar:!1,welcomePage:!0},window.addEventListener("resize",(function(e){a.setState({height:e.currentTarget.innerHeight,width:e.currentTarget.innerWidth})})),a.sidebarHandler=a.sidebarHandler.bind(Object(l.a)(a)),a.centerRef=r.a.createRef(),a.sidebarRef=r.a.createRef(),a.updateGamemode=a.updateGamemode.bind(Object(l.a)(a)),null==pe("highscore")&&pe("highscore",{}),a}return Object(h.a)(i,[{key:"render",value:function(){return Object(a.jsxs)("div",{style:ve,children:[Object(a.jsx)(he,{theme:me,sidebarHandler:this.sidebarHandler,width:this.state.width}),this.state.welcomePage&&Object(a.jsx)("div",{style:{right:5,position:"fixed"},children:" View all modes \u2191 "}),this.state.welcomePage&&Object(a.jsx)("div",{style:{left:5,position:"fixed"},children:" \u2191 Settings "}),this.state.welcomePage&&Object(a.jsx)("br",{}),Object(a.jsx)(ue,{theme:me,visible:this.state.leftBar}),Object(a.jsx)(p.a,{children:Object(a.jsxs)(m.a,{children:[Object(a.jsx)(v.a,{lg:2,md:1,xs:0}),Object(a.jsx)(v.a,{lg:8,md:10,xs:12,children:this.state.welcomePage?Object(a.jsx)(le,{theme:me,updateHandler:this.updateGamemode}):Object(a.jsx)(ne,{theme:me,ref:this.centerRef,width:this.state.width})}),Object(a.jsx)(v.a,{lg:2,md:1,xs:0})]})}),Object(a.jsx)(ce,{ref:this.sidebarRef,theme:me,updateHandler:this.updateGamemode,visible:this.state.rightBar})]})}},{key:"sidebarHandler",value:function(e){"right"===e?this.setState((function(e){return{rightBar:!e.rightBar,leftBar:!1}})):"left"===e&&this.setState((function(e){return{leftBar:!e.leftBar,rightBar:!1}}))}},{key:"updateGamemode",value:function(e,t,i,a){var n,r=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.state.welcomePage&&this.setState({welcomePage:!1},(function(){var n;s&&(null===(n=r.sidebarRef.current)||void 0===n||n.handleUpdate(e));r.updateGamemode(e,t,i,a)}));var o=new D;o.category=e,o.numQuestions=t,o.generator=i,o.generatorconfig=a,o.storageKey="".concat(e,"|").concat(a.timeLimit),null===(n=this.centerRef.current)||void 0===n||n.parentUpdate(o)}}]),i}(r.a.Component));o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(fe,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.d0cd9265.chunk.js.map